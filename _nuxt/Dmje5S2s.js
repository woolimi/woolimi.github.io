import{_ as C}from"./CTperWKJ.js";import{j as b,h as k,r as f,C as $,f as T,c as _,o as i,a as t,n as w,p as E,m as B,F as I,e as p,b as u,w as v,s as M,v as A,x as S,i as z,aG as F,l as P,aH as j,T as q,A as L}from"./d0jZCcsI.js";import{_ as x}from"./DlAUqK2U.js";import{y as N,z as D,A as J,f as V,e as G}from"./Cgrnaw-X.js";const H="_icon_ixjvv_2",U={icon:H},W={__name:"AudioPlayer",setup(d){const{isAudioStart:l,resetAllElements:s,setAllElements:r,audioPitch:n}=k(),o=b(()=>n.value!==null?n.value:1),a=f(null),e=$({animationId:null,analyser:null,audioCtx:null,source:null,dataArray:null}),c=()=>{l.value=!1,e.animationId&&(cancelAnimationFrame(e.animationId),e.animationId=null,s())},m=()=>{l.value=!0,e.animationId&&c(),e.animationId=requestAnimationFrame(y)},y=()=>{e.analyser.getByteFrequencyData(e.dataArray),r(e.dataArray),e.animationId&&(e.animationId=requestAnimationFrame(y))},g=()=>{a.value.paused?(e.audioCtx=e.audioCtx||new(window.AudioContext||window.webkitAudioContext),e.source=e.source||e.audioCtx.createMediaElementSource(a.value),e.analyser=e.analyser||e.audioCtx.createAnalyser(),e.analyser.fftSize=2048,e.source.connect(e.analyser),e.source.connect(e.audioCtx.destination),e.dataArray=e.dataArray||new Uint8Array(e.analyser.frequencyBinCount),a.value.play()):a.value.pause()};return T(()=>{a.value.volume=.5,a.value.addEventListener("ended",c),a.value.addEventListener("pause",c),a.value.addEventListener("playing",m)}),(h,se)=>(i(),_(I,null,[t("div",{class:"relative cursor-pointer",onClick:g},[t("div",{class:w([h.$style.icon,"bg-emerald-400"])},null,2),t("div",{class:"absolute top-0 overflow-y-hidden transition-all duration-75",style:E({height:`${(1-B(o))*100}%`})},[t("div",{class:w([h.$style.icon,"bg-slate-500"])},null,2)],4)]),t("audio",{src:"/music.mp3",preload:"none",ref_key:"audio",ref:a},null,512)],64))}},K={$style:U},O=x(W,[["__cssModules",K]]),Q={class:"fixed z-20 flex h-full w-[60px] flex-col items-center justify-between bg-stone-800 px-2 py-4 sm:h-[40px] sm:w-full sm:flex-row",ref:"nav"},R={class:"flex flex-col items-center gap-5 sm:flex-row sm:gap-4"},X=p({__name:"TheNavbar",setup(d){const l=[{url:"/about-me",icon:"BIconPersonBadge"},{url:"/projects",icon:"BIconTv"},{url:"/articles",icon:"BIconJournalCode"},{url:"/frontend-glossary",icon:"BIconBook"},{url:"/codes",icon:"BIconBraces"}],s=p({BIconPersonBadge:G,BIconTv:V,BIconBook:J,BIconJournalCode:D,BIconBraces:N});return(r,n)=>{const o=C,a=O;return i(),_("nav",Q,[u(o,{class:"m-0 flex items-center",to:"/",exact:""},{default:v(()=>n[0]||(n[0]=[t("span",{class:"mx-auto text-emerald-400 font-extrabold text-2xl tracking-tighter"},"WP",-1)])),_:1,__:[0]}),t("div",R,[(i(),_(I,null,M(l,e=>u(o,{key:e.url,to:e.url,class:"text-gray-400 hover:text-emerald-400"},{default:v(()=>[(i(),A(S(B(s)[e.icon]),{class:"h-[32px] w-[32px] sm:h-[25px] sm:w-[25px]"}))]),_:2},1032,["to"])),64))]),u(a)],512)}}}),Y={class:"fixed left-0 top-0 z-10 h-screen w-screen bg-stone-800"},Z={class:"flex h-full w-full items-center justify-center"},ee=p({__name:"TreeLoader",setup(d){const{start:l,stop:s,loader:r}=F(),n=f(null),o=f(null);return z(r,(a,e)=>{var m;if(!a.on||a.path===e.path)return;clearTimeout(o.value),s(),l(n.value,(m=n.value)==null?void 0:m.getContext("2d"));const c=document.querySelector("body");c&&(c.style.overflow="hidden",o.value=setTimeout(()=>{s(),c.style.overflow="auto",o.value=null,r.value={path:a.path,on:!1},window.scrollTo(0,0)},1500))}),(a,e)=>(i(),A(q,{name:"loader"},{default:v(()=>[P(t("div",Y,[t("div",Z,[t("canvas",{width:"500",height:"400",ref_key:"canvas",ref:n},null,512)])],512),[[j,o.value]])]),_:1}))}}),ae=x(ee,[["__scopeId","data-v-8e4af6e5"]]),te={},ne={class:"relative"};function oe(d,l){const s=X,r=ae;return i(),_("div",ne,[u(s),t("main",null,[L(d.$slots,"default")]),u(r)])}const ue=x(te,[["render",oe]]);export{ue as default};
