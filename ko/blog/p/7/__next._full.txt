1:"$Sreact.fragment"
2:I[27160,[],""]
3:I[41422,[],""]
7:I[64725,[],"OutletBoundary"]
8:"$Sreact.suspense"
a:I[64725,[],"ViewportBoundary"]
c:I[64725,[],"MetadataBoundary"]
e:I[51732,[],""]
:HL["/_next/static/media/eaead17c7dbfcd5d-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/87345b8e40306950.css","style"]
0:{"P":null,"b":"7wrLch1PHmN9S3I0q82uc","c":["","ko","blog","p","7"],"q":"","i":false,"f":[[["",{"children":[["locale","ko","d"],{"children":["blog",{"children":["p",{"children":[["page","7","d"],{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true]}],[["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/87345b8e40306950.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],"$L4"]}],{"children":[["$","$1","c",{"children":[null,"$L5"]}],{"children":[["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":["$L6",null,["$","$L7",null,{"children":["$","$8",null,{"name":"Next.MetadataOutlet","children":"$@9"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false]},null,false,false]},null,false,false],["$","$1","h",{"children":[null,["$","$La",null,{"children":"$@b"}],["$","div",null,{"hidden":true,"children":["$","$Lc",null,{"children":["$","$8",null,{"name":"Next.Metadata","children":"$@d"}]}]}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],false]],"m":"$undefined","G":["$e",[]],"S":true}
10:I[73783,["9991","static/chunks/9991-ccaf069d2d1a3394.js","7285","static/chunks/7285-e0b078d0c178a272.js","4807","static/chunks/4807-190236097785308d.js","2936","static/chunks/2936-79b886c79e72a7d3.js","2809","static/chunks/app/%5Blocale%5D/blog/layout-0237bbe7cf07f1d6.js"],"BlogContentTreeDesktop"]
4:["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":[["$","head",null,{}],["$","body",null,{"className":"bg-background mx-auto font-sans antialiased __variable_5d3d4e","children":"$Lf"}]]}]
5:["$","main",null,{"className":"flex min-h-screen justify-center px-4 sm:px-6 py-12 sm:py-24 lg:gap-8","children":[["$","section",null,{"className":"w-full max-w-3xl","children":["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]}],["$","$L10",null,{"tree":[{"name":"AI","type":"folder","path":"AI","children":[{"name":"Deep Learning","type":"folder","path":"AI/Deep Learning","children":[{"name":"00.perceptron.ko.ipynb","type":"file","path":"AI/Deep Learning/00.perceptron.ko.ipynb","slug":"AI/Deep Learning/perceptron","locale":"ko","title":"Perceptron"},{"name":"01.multi-layer-perceptron.ko.ipynb","type":"file","path":"AI/Deep Learning/01.multi-layer-perceptron.ko.ipynb","slug":"AI/Deep Learning/multi-layer-perceptron","locale":"ko","title":"Multi Layer Perceptron"},{"name":"02.activation-function-1.ko.ipynb","type":"file","path":"AI/Deep Learning/02.activation-function-1.ko.ipynb","slug":"AI/Deep Learning/activation-function-1","locale":"ko","title":"Activation Function 1"},{"name":"03.activation-function-2.ko.ipynb","type":"file","path":"AI/Deep Learning/03.activation-function-2.ko.ipynb","slug":"AI/Deep Learning/activation-function-2","locale":"ko","title":"Activation Function 2"},{"name":"04.loss-function.ko.ipynb","type":"file","path":"AI/Deep Learning/04.loss-function.ko.ipynb","slug":"AI/Deep Learning/loss-function","locale":"ko","title":"Loss Function"},{"name":"05.optimizer.ko.ipynb","type":"file","path":"AI/Deep Learning/05.optimizer.ko.ipynb","slug":"AI/Deep Learning/optimizer","locale":"ko","title":"Optimizer"}]},{"name":"Imitation Learning","type":"folder","path":"AI/Imitation Learning","children":[{"name":"00.concept.ko.md","type":"file","path":"AI/Imitation Learning/00.concept.ko.md","slug":"AI/Imitation Learning/concept","locale":"ko","title":"모방학습 (Imitation Learning) 개념"},{"name":"01.so-101.ko.md","type":"file","path":"AI/Imitation Learning/01.so-101.ko.md","slug":"AI/Imitation Learning/so-101","locale":"ko","title":"LeRobot 맥 설정 방법"}]},{"name":"LLM","type":"folder","path":"AI/LLM","children":[{"name":"00.resoning.ko.md","type":"file","path":"AI/LLM/00.resoning.ko.md","slug":"AI/LLM/resoning","locale":"ko","title":"LLM 에서 추론이란?"},{"name":"01.prompt-engineering-1.ko.md","type":"file","path":"AI/LLM/01.prompt-engineering-1.ko.md","slug":"AI/LLM/prompt-engineering-1","locale":"ko","title":"Prompt Engineering"},{"name":"02.prompt-engineering-2.ko.md","type":"file","path":"AI/LLM/02.prompt-engineering-2.ko.md","slug":"AI/LLM/prompt-engineering-2","locale":"ko","title":"Prompt Engineering 기초 기법"},{"name":"03.prompt-engineering-3.ko.md","type":"file","path":"AI/LLM/03.prompt-engineering-3.ko.md","slug":"AI/LLM/prompt-engineering-3","locale":"ko","title":"Prompt Engineering 고급 기법"},{"name":"04.prompt-engineering-4.ko.md","type":"file","path":"AI/LLM/04.prompt-engineering-4.ko.md","slug":"AI/LLM/prompt-engineering-4","locale":"ko","title":"Prompt Engineering 고급 기법 2"},{"name":"05.ollama.ko.md","type":"file","path":"AI/LLM/05.ollama.ko.md","slug":"AI/LLM/ollama","locale":"ko","title":"Ollama"},{"name":"06.ollama-python.ko.md","type":"file","path":"AI/LLM/06.ollama-python.ko.md","slug":"AI/LLM/ollama-python","locale":"ko","title":"Ollama Python 사용법"}]},{"name":"00.intro.ko.md","type":"file","path":"AI/00.intro.ko.md","slug":"AI/intro","locale":"ko","title":"Intro"},{"name":"02.scaler.ko.md","type":"file","path":"AI/02.scaler.ko.md","slug":"AI/scaler","locale":"ko","title":"Scaler"},{"name":"03.machine-learning.ko.md","type":"file","path":"AI/03.machine-learning.ko.md","slug":"AI/machine-learning","locale":"ko","title":"Machine Learning"},{"name":"04.model-selection.ko.md","type":"file","path":"AI/04.model-selection.ko.md","slug":"AI/model-selection","locale":"ko","title":"Model Selection"},{"name":"05.model-mesurement.ko.ipynb","type":"file","path":"AI/05.model-mesurement.ko.ipynb","slug":"AI/model-mesurement","locale":"ko","title":"모델 평가"},{"name":"06.filter.ko.ipynb","type":"file","path":"AI/06.filter.ko.ipynb","slug":"AI/filter","locale":"ko","title":"신호 필터처리"}]},{"name":"Arduino","type":"folder","path":"Arduino","children":[{"name":"00.arduino.ko.md","type":"file","path":"Arduino/00.arduino.ko.md","slug":"Arduino/arduino","locale":"ko","title":"Arduino 기본 지식"},{"name":"01.switch.ko.md","type":"file","path":"Arduino/01.switch.ko.md","slug":"Arduino/switch","locale":"ko","title":"Arduino Switch"},{"name":"02.serial.ko.md","type":"file","path":"Arduino/02.serial.ko.md","slug":"Arduino/serial","locale":"ko","title":"Arduino 시리얼로 입력값을 받기"},{"name":"03.led.ko..md","type":"file","path":"Arduino/03.led.ko..md","slug":"Arduino/led.ko.","locale":"$undefined","title":"Arduino LED"},{"name":"04.rfid.ko.md","type":"file","path":"Arduino/04.rfid.ko.md","slug":"Arduino/rfid","locale":"ko","title":"Arduino RFID"},{"name":"05.arduino-llm.ko.md","type":"file","path":"Arduino/05.arduino-llm.ko.md","slug":"Arduino/arduino-llm","locale":"ko","title":"Arduino를 LLM으로 제어하기"}]},{"name":"C","type":"folder","path":"C","children":[{"name":"00.literal-vs-string.ko.md","type":"file","path":"C/00.literal-vs-string.ko.md","slug":"C/literal-vs-string","locale":"ko","title":"C 문자열 리터럴과 문자열"},{"name":"01.memory-string-functions.ko.md","type":"file","path":"C/01.memory-string-functions.ko.md","slug":"C/memory-string-functions","locale":"ko","title":"C 메모리 및 문자열 함수"}]},{"name":"Coding Test","type":"folder","path":"Coding Test","children":[{"name":"Brute-Force Search","type":"folder","path":"Coding Test/Brute-Force Search","children":[{"name":"01.problem1.ko.ipynb","type":"file","path":"Coding Test/Brute-Force Search/01.problem1.ko.ipynb","slug":"Coding Test/Brute-Force Search/problem1","locale":"ko","title":"전력망을 둘로 나누기"}]},{"name":"Data Structure","type":"folder","path":"Coding Test/Data Structure","children":[{"name":"00.intro.ko.md","type":"file","path":"Coding Test/Data Structure/00.intro.ko.md","slug":"Coding Test/Data Structure/intro","locale":"ko","title":"자료구조 개념정리"}]},{"name":"Sort","type":"folder","path":"Coding Test/Sort","children":[{"name":"00.intro.ko.ipynb","type":"file","path":"Coding Test/Sort/00.intro.ko.ipynb","slug":"Coding Test/Sort/intro","locale":"ko","title":"정렬 알고리즘 개념 정리"}]},{"name":"SQL","type":"folder","path":"Coding Test/SQL","children":[{"name":"00.order-by.ko.md","type":"file","path":"Coding Test/SQL/00.order-by.ko.md","slug":"Coding Test/SQL/order-by","locale":"ko","title":null},{"name":"01.string.ko.md","type":"file","path":"Coding Test/SQL/01.string.ko.md","slug":"Coding Test/SQL/string","locale":"ko","title":null}]}]},{"name":"Computer Science","type":"folder","path":"Computer Science","children":[{"name":"00.process-vs-thread.ko.md","type":"file","path":"Computer Science/00.process-vs-thread.ko.md","slug":"Computer Science/process-vs-thread","locale":"ko","title":"프로세스와 스레드"},{"name":"01.endian.ko.md","type":"file","path":"Computer Science/01.endian.ko.md","slug":"Computer Science/endian","locale":"ko","title":"엔디안"}]},{"name":"DB","type":"folder","path":"DB","children":[{"name":"MySQL","type":"folder","path":"DB/MySQL","children":[{"name":"00.install.ko.md","type":"file","path":"DB/MySQL/00.install.ko.md","slug":"DB/MySQL/install","locale":"ko","title":"Mac MySQL 설치 및 실행"},{"name":"01.sql-language.ko.md","type":"file","path":"DB/MySQL/01.sql-language.ko.md","slug":"DB/MySQL/sql-language","locale":"ko","title":"SQL 언어 카테고리"},{"name":"02.user-management.ko.md","type":"file","path":"DB/MySQL/02.user-management.ko.md","slug":"DB/MySQL/user-management","locale":"ko","title":"MySQL 데이터베이스 및 사용자 관리"},{"name":"03.table.ko.md","type":"file","path":"DB/MySQL/03.table.ko.md","slug":"DB/MySQL/table","locale":"ko","title":"MySQL 테이블 관리"},{"name":"04.dml.ko.md","type":"file","path":"DB/MySQL/04.dml.ko.md","slug":"DB/MySQL/dml","locale":"ko","title":"MySQL 데이터 조작 (SELECT, INSERT, UPDATE, DELETE)"},{"name":"05.operators.ko.md","type":"file","path":"DB/MySQL/05.operators.ko.md","slug":"DB/MySQL/operators","locale":"ko","title":"MySQL 연산자"},{"name":"06.union.ko.md","type":"file","path":"DB/MySQL/06.union.ko.md","slug":"DB/MySQL/union","locale":"ko","title":"MySQL UNION"},{"name":"07.join.ko.md","type":"file","path":"DB/MySQL/07.join.ko.md","slug":"DB/MySQL/join","locale":"ko","title":"MySQL JOIN"},{"name":"08.result-control.ko.md","type":"file","path":"DB/MySQL/08.result-control.ko.md","slug":"DB/MySQL/result-control","locale":"ko","title":"MySQL 출력 결과 제어"},{"name":"09.backup.ko.md","type":"file","path":"DB/MySQL/09.backup.ko.md","slug":"DB/MySQL/backup","locale":"ko","title":"MySQL mysqldump 백업 및 복원"},{"name":"10.csv-to-db.ko.md","type":"file","path":"DB/MySQL/10.csv-to-db.ko.md","slug":"DB/MySQL/csv-to-db","locale":"ko","title":"csv into db with Python"},{"name":"11.aggregate-func.ko.md","type":"file","path":"DB/MySQL/11.aggregate-func.ko.md","slug":"DB/MySQL/aggregate-func","locale":"ko","title":"MySQL Aggregate Functions & GROUP BY"},{"name":"12.scalar-func.ko.md","type":"file","path":"DB/MySQL/12.scalar-func.ko.md","slug":"DB/MySQL/scalar-func","locale":"ko","title":"MySQL Scalar Functions Summary"},{"name":"13.subquery.ko.md","type":"file","path":"DB/MySQL/13.subquery.ko.md","slug":"DB/MySQL/subquery","locale":"ko","title":"Subquery"}]}]},{"name":"Docker","type":"folder","path":"Docker","children":[{"name":"00.basic.ko.md","type":"file","path":"Docker/00.basic.ko.md","slug":"Docker/basic","locale":"ko","title":"Docker 기본"},{"name":"01.create-image.ko.md","type":"file","path":"Docker/01.create-image.ko.md","slug":"Docker/create-image","locale":"ko","title":"Docker 이미지 생성"},{"name":"02.docker-hub.ko.md","type":"file","path":"Docker/02.docker-hub.ko.md","slug":"Docker/docker-hub","locale":"ko","title":"Docker Hub에 이미지 Push"},{"name":"03.useful-commands.ko.md","type":"file","path":"Docker/03.useful-commands.ko.md","slug":"Docker/useful-commands","locale":"ko","title":"Docker 유용한 명령어"}]},{"name":"Functional Programming","type":"folder","path":"Functional Programming","children":[{"name":"00.basic.ko.md","type":"file","path":"Functional Programming/00.basic.ko.md","slug":"Functional Programming/basic","locale":"ko","title":"FP Workshop - 0. FP Basic"},{"name":"01.functional-vs-imperative.ko.md","type":"file","path":"Functional Programming/01.functional-vs-imperative.ko.md","slug":"Functional Programming/functional-vs-imperative","locale":"ko","title":"FP Workshop - 1. Functional vs Imperative"},{"name":"02.fxts.ko.md","type":"file","path":"Functional Programming/02.fxts.ko.md","slug":"Functional Programming/fxts","locale":"ko","title":"FP Workshop - 2. FxTs"},{"name":"03.monad.ko.md","type":"file","path":"Functional Programming/03.monad.ko.md","slug":"Functional Programming/monad","locale":"ko","title":"FP Workshop - 3. Monad"}]},{"name":"git","type":"folder","path":"git","children":[{"name":"00.config.ko.md","type":"file","path":"git/00.config.ko.md","slug":"git/config","locale":"ko","title":"Git Config 설정 정리"}]},{"name":"Jupyter Notebook","type":"folder","path":"Jupyter Notebook","children":[{"name":"00.setup.ko..md","type":"file","path":"Jupyter Notebook/00.setup.ko..md","slug":"Jupyter Notebook/setup.ko.","locale":"$undefined","title":"주피터 노트북 설정 가이드"}]},{"name":"OpenCV","type":"folder","path":"OpenCV","children":[{"name":"00.basic.ko.md","type":"file","path":"OpenCV/00.basic.ko.md","slug":"OpenCV/basic","locale":"ko","title":"OpenCV 기초 사용법"},{"name":"01.camera.ko.md","type":"file","path":"OpenCV/01.camera.ko.md","slug":"OpenCV/camera","locale":"ko","title":"OpenCV 카메라/웹캠 실시간 처리"},{"name":"02.filtering.ko.md","type":"file","path":"OpenCV/02.filtering.ko.md","slug":"OpenCV/filtering","locale":"ko","title":"OpenCV 필터링 기법"},{"name":"03.histogram.ko.ipynb","type":"file","path":"OpenCV/03.histogram.ko.ipynb","slug":"OpenCV/histogram","locale":"ko","title":"OpenCV 히스토그램 및 평탄화"},{"name":"04.mediapipe.ko.ipynb","type":"file","path":"OpenCV/04.mediapipe.ko.ipynb","slug":"OpenCV/mediapipe","locale":"ko","title":"MediaPipe를 사용한 포즈 추정"}]},{"name":"pyqt","type":"folder","path":"pyqt","children":[{"name":"00.settings.ko.md","type":"file","path":"pyqt/00.settings.ko.md","slug":"pyqt/settings","locale":"ko","title":"우분투 PyQT 설치 그리고 기본 개요"}]},{"name":"Python","type":"folder","path":"Python","children":[{"name":"00.settings.ko.md","type":"file","path":"Python/00.settings.ko.md","slug":"Python/settings","locale":"ko","title":"Python 개발환경 설정"},{"name":"01.number.ko.md","type":"file","path":"Python/01.number.ko.md","slug":"Python/number","locale":"ko","title":"Python 숫자형"},{"name":"02.string.ko.md","type":"file","path":"Python/02.string.ko.md","slug":"Python/string","locale":"ko","title":"Python 문자열"},{"name":"03.list.ko.md","type":"file","path":"Python/03.list.ko.md","slug":"Python/list","locale":"ko","title":"Python 리스트"},{"name":"04.tuple.ko.md","type":"file","path":"Python/04.tuple.ko.md","slug":"Python/tuple","locale":"ko","title":"Python 튜플"},{"name":"05.dict.ko.md","type":"file","path":"Python/05.dict.ko.md","slug":"Python/dict","locale":"ko","title":"Python 딕셔너리"},{"name":"06.set.ko.md","type":"file","path":"Python/06.set.ko.md","slug":"Python/set","locale":"ko","title":"Python 집합"},{"name":"07.bool.ko.md","type":"file","path":"Python/07.bool.ko.md","slug":"Python/bool","locale":"ko","title":"Python 불리언"},{"name":"08.statement.ko.md","type":"file","path":"Python/08.statement.ko.md","slug":"Python/statement","locale":"ko","title":"Python 제어문"},{"name":"09.function.ko.md","type":"file","path":"Python/09.function.ko.md","slug":"Python/function","locale":"ko","title":"Python 함수"},{"name":"10.pythonic.ko.md","type":"file","path":"Python/10.pythonic.ko.md","slug":"Python/pythonic","locale":"ko","title":"Pythonic Code"},{"name":"11.class.ko.md","type":"file","path":"Python/11.class.ko.md","slug":"Python/class","locale":"ko","title":"Python 클래스"},{"name":"12.dataclass.ko.md","type":"file","path":"Python/12.dataclass.ko.md","slug":"Python/dataclass","locale":"ko","title":"Python 데이터클래스"},{"name":"13.package.ko.md","type":"file","path":"Python/13.package.ko.md","slug":"Python/package","locale":"ko","title":"Python 패키지와 모듈"}]},{"name":"ROS","type":"folder","path":"ROS","children":[{"name":"00.basic.ko.md","type":"file","path":"ROS/00.basic.ko.md","slug":"ROS/basic","locale":"ko","title":"ROS2 기본 개념"}]},{"name":"Terminator","type":"folder","path":"Terminator","children":[{"name":"00.shortcuts.md","type":"file","path":"Terminator/00.shortcuts.md","slug":"Terminator/shortcuts","locale":"$undefined","title":"Terminator 단축키"}]},{"name":"Web","type":"folder","path":"Web","children":[{"name":"00.cloudflared.ko.md","type":"file","path":"Web/00.cloudflared.ko.md","slug":"Web/cloudflared","locale":"ko","title":"Cloudflare Tunnel (cloudflared) 사용법"}]}],"locale":"ko","className":"hidden w-64 shrink-0 lg:block"}],"$L11"]}]
12:I[73783,["9991","static/chunks/9991-ccaf069d2d1a3394.js","7285","static/chunks/7285-e0b078d0c178a272.js","4807","static/chunks/4807-190236097785308d.js","2936","static/chunks/2936-79b886c79e72a7d3.js","2809","static/chunks/app/%5Blocale%5D/blog/layout-0237bbe7cf07f1d6.js"],"BlogContentTreeMobile"]
11:["$","div",null,{"className":"lg:hidden","children":["$","$L12",null,{"tree":"$5:props:children:1:props:tree","locale":"ko"}]}]
13:I[29773,["2969","static/chunks/8fdae66b-3313d3073a4d6626.js","9991","static/chunks/9991-ccaf069d2d1a3394.js","650","static/chunks/650-f48a6caa28b58c59.js","9097","static/chunks/9097-09c53cc5e643b5d7.js","6835","static/chunks/app/%5Blocale%5D/blog/p/%5Bpage%5D/page-192e997812c03855.js"],"default"]
14:I[80481,["9991","static/chunks/9991-ccaf069d2d1a3394.js","650","static/chunks/650-f48a6caa28b58c59.js","7285","static/chunks/7285-e0b078d0c178a272.js","4807","static/chunks/4807-190236097785308d.js","4993","static/chunks/4993-6f49cb433c12a05b.js","8450","static/chunks/app/%5Blocale%5D/layout-f161d414236aefb9.js"],"TooltipProvider"]
15:I[20698,["9991","static/chunks/9991-ccaf069d2d1a3394.js","650","static/chunks/650-f48a6caa28b58c59.js","7285","static/chunks/7285-e0b078d0c178a272.js","4807","static/chunks/4807-190236097785308d.js","4993","static/chunks/4993-6f49cb433c12a05b.js","8450","static/chunks/app/%5Blocale%5D/layout-f161d414236aefb9.js"],"default"]
f:["$","$L13",null,{"formats":"$undefined","locale":"ko","messages":{"Breadcrumb":{"home":"Home","blog":"Blog"},"WorkProjects":{"badge":"Work Projects","title":"Professional Projects","description":"직장에서 또는 전문적으로 의뢰를 받아 작업한 프로젝트들","viewAll":"더 보기","noProjects":"아직 등록된 프로젝트가 없습니다."},"PersonalProjects":{"badge":"Personal Projects","title":"Side Projects","description":"여가 시간에 만든 개인 프로젝트들","viewAll":"더 보기","noProjects":"아직 등록된 프로젝트가 없습니다.","pageTitle":"개인 프로젝트"},"SchoolProjects":{"badge":"School Projects","title":"Academic Projects","description":"학업 과정 중 진행한 프로젝트입니다.","viewAll":"더 보기","noProjects":"아직 등록된 프로젝트가 없습니다."},"AboutEcole42":{"title":"Ecole42가 어떤 학교인가요?","description":"Ecole42는 프랑스 파리에 위치한 프로그래머 양성 교육기관으로, 수업과 교수가 없는 peer-to-peer 학습 방식을 채택하고 있습니다. C언어부터 AI의 기초까지 다양한 분야를 자율적으로 학습하며, 프로젝트 기반 교육을 통해 실무 능력을 기릅니다. 전 세계 다양한 국적의 학생들이 함께 공부하며 협업과 지식 공유를 중시하는 환경에서 학습합니다."},"Projects":{"pageTitle":"프로젝트","description":"프로젝트를 카테고리별로 확인할 수 있습니다."},"Hackathon":{"badge":"Hackathons","title":"Hackathons","description":"해커톤에서 진행한 프로젝트들입니다.","viewAll":"더 보기","noHackathons":"아직 등록된 해커톤이 없습니다.","pageTitle":"해커톤"}},"now":"$undefined","timeZone":"Asia/Seoul","children":["$","$L14",null,{"delayDuration":0,"children":[["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}],["$","$L15",null,{}]]}]}]
b:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
16:I[85584,[],"IconMark"]
d:[["$","title","0",{"children":"Blog | 박우림"}],["$","meta","1",{"name":"description","content":"My thoughts on software development, life, and more."}],["$","link","2",{"rel":"manifest","href":"/site.webmanifest","crossOrigin":"$undefined"}],["$","meta","3",{"name":"robots","content":"index, follow"}],["$","meta","4",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","meta","5",{"property":"og:title","content":"박우림"}],["$","meta","6",{"property":"og:description","content":"Frontend Developer"}],["$","meta","7",{"property":"og:url","content":"https://woolimi.github.io"}],["$","meta","8",{"property":"og:site_name","content":"박우림"}],["$","meta","9",{"property":"og:locale","content":"ko_KR"}],["$","meta","10",{"property":"og:image","content":"https://woolimi.github.io/og-image.png"}],["$","meta","11",{"property":"og:image:width","content":"1200"}],["$","meta","12",{"property":"og:image:height","content":"630"}],["$","meta","13",{"property":"og:image:alt","content":"박우림"}],["$","meta","14",{"property":"og:type","content":"website"}],["$","meta","15",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","16",{"name":"twitter:title","content":"박우림"}],["$","meta","17",{"name":"twitter:description","content":"Frontend Developer"}],["$","meta","18",{"name":"twitter:image","content":"https://woolimi.github.io/og-image.png"}],["$","link","19",{"rel":"icon","href":"/favicon.ico?e3def52d4ef9a976","type":"image/x-icon","sizes":"16x16"}],["$","link","20",{"rel":"icon","href":"/favicon.ico"}],["$","link","21",{"rel":"apple-touch-icon","href":"/apple-touch-icon.png"}],["$","link","22",{"rel":"android-chrome-192x192","href":"/android-chrome-192x192.png"}],["$","link","23",{"rel":"android-chrome-512x512","href":"/android-chrome-512x512.png"}],["$","$L16","24",{}]]
9:null
17:I[26334,["2969","static/chunks/8fdae66b-3313d3073a4d6626.js","9991","static/chunks/9991-ccaf069d2d1a3394.js","650","static/chunks/650-f48a6caa28b58c59.js","9097","static/chunks/9097-09c53cc5e643b5d7.js","6835","static/chunks/app/%5Blocale%5D/blog/p/%5Bpage%5D/page-192e997812c03855.js"],"BlurFade"]
18:I[25417,["2969","static/chunks/8fdae66b-3313d3073a4d6626.js","9991","static/chunks/9991-ccaf069d2d1a3394.js","650","static/chunks/650-f48a6caa28b58c59.js","9097","static/chunks/9097-09c53cc5e643b5d7.js","6835","static/chunks/app/%5Blocale%5D/blog/p/%5Bpage%5D/page-192e997812c03855.js"],"BlogArticleCard"]
19:T1ec7,<h2 id="추론inference의-정의"><a class="heading-link" aria-hidden="true" href="#추론inference의-정의">추론(Inference)의 정의</a></h2>
<p>LLM에서 **추론(Inference)**은 학습된 모델이 새로운 입력(프롬프트)에 대해 적절한 출력을 생성하는 과정이다. 학습 단계에서 습득한 지식과 패턴을 활용하여 문맥에 맞는 응답을 만들어낸다.</p>
<h2 id="추론의-작동-원리"><a class="heading-link" aria-hidden="true" href="#추론의-작동-원리">추론의 작동 원리</a></h2>
<h3 id="기본-과정"><a class="heading-link" aria-hidden="true" href="#기본-과정">기본 과정</a></h3>
<ol>
<li><strong>입력 처리</strong>: 사용자의 프롬프트를 토큰으로 분할하고 임베딩으로 변환</li>
<li><strong>문맥 이해</strong>: 입력의 의미와 문맥을 파악</li>
<li><strong>지식 활용</strong>: 학습된 데이터에서 관련 패턴과 정보를 찾아 활용</li>
<li><strong>출력 생성</strong>: 다음 토큰을 예측하며 응답을 생성</li>
</ol>
<h3 id="예시"><a class="heading-link" aria-hidden="true" href="#예시">예시</a></h3>
<p>사용자가 "파리의 에펠탑은 언제 완공되었나요?"라고 질문하면:</p>
<ul>
<li>LLM은 학습 데이터에서 에펠탑 관련 정보를 찾음</li>
<li>문맥을 이해하고 관련 지식을 연결</li>
<li>"에펠탑은 1889년에 완공되었습니다."와 같은 답변을 생성</li>
</ul>
<h2 id="추론-모델의-종류"><a class="heading-link" aria-hidden="true" href="#추론-모델의-종류">추론 모델의 종류</a></h2>
<h3 id="1-일반-추론-모델"><a class="heading-link" aria-hidden="true" href="#1-일반-추론-모델">1. 일반 추론 모델</a></h3>
<p>기본적인 질문-답변, 텍스트 생성, 번역 등의 작업을 수행한다. 대부분의 LLM이 이에 해당한다.</p>
<h3 id="2-체인-오브-사고chain-of-thought-cot-추론"><a class="heading-link" aria-hidden="true" href="#2-체인-오브-사고chain-of-thought-cot-추론">2. 체인 오브 사고(Chain-of-Thought, CoT) 추론</a></h3>
<p>복잡한 문제를 단계별로 나누어 해결하는 추론 방식이다. 중간 단계를 명시적으로 보여주며 최종 답변에 도달한다.</p>
<p><strong>예시:</strong></p>
<pre><code>문제: 한 상자에 사과가 5개 있고, 다른 상자에 사과가 3개 있다. 총 몇 개인가?

일반 추론: 8개

CoT 추론:
1단계: 첫 번째 상자에 사과 5개
2단계: 두 번째 상자에 사과 3개
3단계: 5 + 3 = 8
답: 총 8개
</code></pre>
<h3 id="3-트리-오브-사고tree-of-thought-tot-추론"><a class="heading-link" aria-hidden="true" href="#3-트리-오브-사고tree-of-thought-tot-추론">3. 트리 오브 사고(Tree-of-Thought, ToT) 추론</a></h3>
<p>여러 가능한 추론 경로를 탐색하며 최적의 답을 찾는 방식이다. 각 단계에서 여러 후보를 생성하고 평가한다.</p>
<h3 id="4-자가-일관성self-consistency-추론"><a class="heading-link" aria-hidden="true" href="#4-자가-일관성self-consistency-추론">4. 자가 일관성(Self-Consistency) 추론</a></h3>
<p>같은 문제에 대해 여러 번 추론을 수행하고, 가장 일관된 답을 선택하는 방식이다.</p>
<h2 id="추론의-한계"><a class="heading-link" aria-hidden="true" href="#추론의-한계">추론의 한계</a></h2>
<h3 id="1-논리적-추론의-제한"><a class="heading-link" aria-hidden="true" href="#1-논리적-추론의-제한">1. 논리적 추론의 제한</a></h3>
<ul>
<li>LLM은 통계적 패턴 학습에 기반하므로 진정한 논리적 추론에는 한계가 있다</li>
<li>복잡한 수학 문제나 논리 퍼즐에서 오류가 발생할 수 있다</li>
<li>메타의 AI 수석 과학자 얀 르쿤은 "LLM이 인간처럼 추론하고 계획하는 능력에 도달하지 못할 것"이라고 언급</li>
</ul>
<h3 id="2-환각hallucination"><a class="heading-link" aria-hidden="true" href="#2-환각hallucination">2. 환각(Hallucination)</a></h3>
<ul>
<li>학습 데이터에 없는 정보를 마치 사실인 것처럼 생성할 수 있다</li>
<li>확신 있게 잘못된 정보를 제공할 수 있다</li>
</ul>
<h3 id="3-문맥-길이-제한"><a class="heading-link" aria-hidden="true" href="#3-문맥-길이-제한">3. 문맥 길이 제한</a></h3>
<ul>
<li>입력 토큰 수에 제한이 있어 긴 문맥을 모두 고려하지 못할 수 있다</li>
<li>대화가 길어지면 초반 정보를 잊어버릴 수 있다</li>
</ul>
<h3 id="4-계산-능력의-부족"><a class="heading-link" aria-hidden="true" href="#4-계산-능력의-부족">4. 계산 능력의 부족</a></h3>
<ul>
<li>복잡한 수학 계산이나 정확한 수치 연산에 취약하다</li>
<li>단순한 산술 연산도 실수할 수 있다</li>
</ul>
<h2 id="추론-성능-향상-방법"><a class="heading-link" aria-hidden="true" href="#추론-성능-향상-방법">추론 성능 향상 방법</a></h2>
<h3 id="1-프롬프트-엔지니어링"><a class="heading-link" aria-hidden="true" href="#1-프롬프트-엔지니어링">1. 프롬프트 엔지니어링</a></h3>
<ul>
<li>명확하고 구체적인 지시사항 제공</li>
<li>예시를 포함한 Few-shot Learning</li>
<li>단계별 사고 과정을 요청하는 CoT 프롬프트</li>
</ul>
<h3 id="2-온도temperature-조정"><a class="heading-link" aria-hidden="true" href="#2-온도temperature-조정">2. 온도(Temperature) 조정</a></h3>
<ul>
<li>낮은 온도(0.1~0.3): 일관되고 결정적인 답변</li>
<li>높은 온도(0.7~1.0): 창의적이고 다양한 답변</li>
</ul>
<h3 id="3-체인-오브-사고-활용"><a class="heading-link" aria-hidden="true" href="#3-체인-오브-사고-활용">3. 체인 오브 사고 활용</a></h3>
<p>복잡한 문제를 단계별로 나누어 해결하도록 프롬프트를 구성한다.</p>
<h3 id="4-검증-및-필터링"><a class="heading-link" aria-hidden="true" href="#4-검증-및-필터링">4. 검증 및 필터링</a></h3>
<ul>
<li>생성된 답변의 사실 확인(Fact-checking)</li>
<li>여러 번 추론하여 일관성 확인</li>
<li>외부 지식 베이스와의 검증</li>
</ul>
<h2 id="보안-고려사항"><a class="heading-link" aria-hidden="true" href="#보안-고려사항">보안 고려사항</a></h2>
<p>LLM 추론 결과를 신뢰하고 사용할 때 다음 사항을 고려해야 한다:</p>
<ol>
<li><strong>출력 검증</strong>: 생성된 내용을 충분히 검증하지 않고 다른 시스템에 전달하면 보안 취약점이 발생할 수 있다</li>
<li><strong>프롬프트 인젝션</strong>: 악의적인 프롬프트로 모델을 조작할 수 있다</li>
<li><strong>서비스 거부 공격</strong>: 복잡한 추론 요청으로 시스템 부하를 유발할 수 있다</li>
</ol>
<h2 id="실제-활용"><a class="heading-link" aria-hidden="true" href="#실제-활용">실제 활용</a></h2>
<h3 id="적합한-작업"><a class="heading-link" aria-hidden="true" href="#적합한-작업">적합한 작업</a></h3>
<ul>
<li>텍스트 요약 및 생성</li>
<li>번역</li>
<li>간단한 질문-답변</li>
<li>코드 생성 및 설명</li>
<li>창의적 글쓰기</li>
</ul>
<h3 id="부적합한-작업"><a class="heading-link" aria-hidden="true" href="#부적합한-작업">부적합한 작업</a></h3>
<ul>
<li>정확한 수학 계산</li>
<li>사실 확인이 중요한 정보 제공</li>
<li>복잡한 논리적 추론이 필요한 문제</li>
<li>실시간으로 변하는 정보 처리</li>
</ul>
<h2 id="결론"><a class="heading-link" aria-hidden="true" href="#결론">결론</a></h2>
<p>LLM의 추론은 강력한 도구이지만 한계가 있다. 적절한 프롬프트 엔지니어링과 검증 과정을 통해 추론 성능을 향상시킬 수 있으며, 모델의 한계를 이해하고 적절한 용도에 활용하는 것이 중요하다.</p>6:["$","div",null,{"className":"mb-30","children":[["$","$L17",null,{"delay":0.04,"children":["$","h1",null,{"className":"mb-8 text-2xl font-bold tracking-normal","style":{"fontFamily":"var(--font-playfair), serif"},"children":"BLOG"}]}],["$","div",null,{"className":"grid grid-cols-1 gap-4 sm:grid-cols-2","children":[["$","$L18","AI/LLM/resoning",{"post":{"metadata":{"title":"LLM 에서 추론이란?","summary":"LLM(대규모 언어 모델)의 추론 개념, 작동 원리, 추론 모델의 종류와 한계, 그리고 실제 활용 방법을 설명한다.","locale":"ko","createdAt":"2026-01-08T16:39:51.000Z","updatedAt":"2026-01-08T16:39:51.000Z"},"slug":"AI/LLM/resoning","source":"$19","type":"markdown","notebookData":"$undefined","parentFolder":"LLM"},"locale":"ko","delay":0.08}],"$L1a","$L1b","$L1c","$L1d","$L1e","$L1f","$L20","$L21","$L22"]}],"$L23"]}]
24:T204d,<h2 id="프롬프트-엔지니어링이란"><a class="heading-link" aria-hidden="true" href="#프롬프트-엔지니어링이란">프롬프트 엔지니어링이란?</a></h2>
<p>프롬프트 엔지니어링은 인공지능(AI) 모델, 특히 자연어 처리(NLP) 모델과 효과적으로 소통하기 위해 입력 텍스트(프롬프트)를 설계하고 최적화하는 과정이다. 적절한 프롬프트를 제공하면 일반적인 요청보다 원하는 출력을 얻을 확률이 높아진다.</p>
<p>예를 들어, "코끼리를 그려줘"보다는 "회색에 덩치가 아주 큰 코끼리를 그려줘"라고 하면 더 원하는 결과를 얻을 수 있다.</p>
<h2 id="프롬프트-엔지니어링의-중요성"><a class="heading-link" aria-hidden="true" href="#프롬프트-엔지니어링의-중요성">프롬프트 엔지니어링의 중요성</a></h2>
<p>AI 모델이 강력해지고 다양한 분야에서 활용되면서, 효과적으로 사용하기 위한 방법이 필요해졌다. 프롬프트 엔지니어링은 AI 모델의 잠재력을 최대한 끌어내어 사용자가 원하는 결과를 얻을 수 있도록 돕는다. 이를 통해 AI 모델의 성능을 향상시키고, 사용자 경험을 개선하며, 다양한 응용 분야에서 AI 활용을 촉진할 수 있다.</p>
<h2 id="프롬프트-엔지니어링의-역사"><a class="heading-link" aria-hidden="true" href="#프롬프트-엔지니어링의-역사">프롬프트 엔지니어링의 역사</a></h2>
<p>프롬프트 엔지니어링의 개념은 NLP 연구 초기부터 존재했지만, 최근 대규모 언어 모델(LLM)의 등장과 함께 중요성이 부각되었다. 2020년 OpenAI의 GPT-3 모델 발표 이후, 프롬프트 엔지니어링은 AI 모델의 성능을 극대화하기 위한 핵심 기술로 주목받기 시작했다. 이후 학계와 업계에서 프롬프트 엔지니어링 기법을 개발하고 응용하기 위한 다양한 연구가 이루어지고 있다.</p>
<h2 id="프롬프트-엔지니어링의-기본-구성-요소"><a class="heading-link" aria-hidden="true" href="#프롬프트-엔지니어링의-기본-구성-요소">프롬프트 엔지니어링의 기본 구성 요소</a></h2>
<h3 id="1-명확성clarity"><a class="heading-link" aria-hidden="true" href="#1-명확성clarity">1. 명확성(Clarity)</a></h3>
<p>프롬프트는 AI 모델이 이해하기 쉽도록 명확하고 간결해야 한다.</p>
<p><strong>예시:</strong></p>
<ul>
<li>나쁜 예: "부산의 날씨에 대해 알려줘"</li>
<li>좋은 예: "오늘 부산의 날씨가 어떤지 자세히 설명해줘"</li>
</ul>
<h3 id="2-구체성specificity"><a class="heading-link" aria-hidden="true" href="#2-구체성specificity">2. 구체성(Specificity)</a></h3>
<p>프롬프트는 원하는 출력을 얻기 위해 필요한 정보를 구체적으로 제공해야 한다.</p>
<p><strong>예시:</strong></p>
<ul>
<li>나쁜 예: "건강한 아침 식단"</li>
<li>좋은 예: "낮은 칼로리, 고단백의 체중 감량을 위한 아침 식단"</li>
</ul>
<h3 id="3-문맥context"><a class="heading-link" aria-hidden="true" href="#3-문맥context">3. 문맥(Context)</a></h3>
<p>프롬프트는 AI 모델이 적절한 맥락에서 생성할 수 있도록 충분한 배경 정보를 제공해야 한다.</p>
<p><strong>예시:</strong></p>
<ul>
<li>나쁜 예: "제주도 여행 계획 세워줘"</li>
<li>좋은 예: "다음 달 제주도로 3박 4일 가족여행을 갈 계획이야. 맛집, 관광지, 숙소 추천해줘"</li>
</ul>
<h3 id="4-의도intent"><a class="heading-link" aria-hidden="true" href="#4-의도intent">4. 의도(Intent)</a></h3>
<p>프롬프트는 사용자의 의도를 명확히 전달하여 AI 모델이 원하는 방향으로 생성할 수 있도록 해야 한다.</p>
<p><strong>예시:</strong></p>
<ul>
<li>나쁜 예: "태백산맥에 대해 설명해줘"</li>
<li>좋은 예: "태백산맥의 지형적 특징과 생태계에 대해 자세히 설명해줘"</li>
</ul>
<p>이러한 구성 요소들을 고려하여 프롬프트를 설계하면, AI 모델과 더욱 효과적으로 소통할 수 있다. 완벽한 프롬프트를 만드는 것은 쉽지 않으며, 경험과 실험을 통해 지속적으로 개선해 나가는 과정이 필요하다.</p>
<h2 id="프롬프트-엔지니어링의-활용-분야"><a class="heading-link" aria-hidden="true" href="#프롬프트-엔지니어링의-활용-분야">프롬프트 엔지니어링의 활용 분야</a></h2>
<h3 id="챗봇-및-대화형-ai"><a class="heading-link" aria-hidden="true" href="#챗봇-및-대화형-ai">챗봇 및 대화형 AI</a></h3>
<p>사용자의 질문이나 요청에 적절한 프롬프트를 제공하여 더욱 자연스럽고 유용한 대화를 생성할 수 있다.</p>
<h3 id="콘텐츠-생성"><a class="heading-link" aria-hidden="true" href="#콘텐츠-생성">콘텐츠 생성</a></h3>
<p>문서, 기사, 광고 카피 등 다양한 콘텐츠 생성에 프롬프트 엔지니어링을 활용하여 창의적이고 고품질의 결과물을 얻을 수 있다.</p>
<h3 id="코드-생성"><a class="heading-link" aria-hidden="true" href="#코드-생성">코드 생성</a></h3>
<p>프로그래밍 언어를 이해하는 AI 모델에 적절한 프롬프트를 제공하여 코드 생성, 오류 수정, 최적화 등의 작업을 자동화할 수 있다.</p>
<h3 id="언어-번역"><a class="heading-link" aria-hidden="true" href="#언어-번역">언어 번역</a></h3>
<p>프롬프트 엔지니어링을 통해 번역 품질을 향상시키고, 도메인 특화 번역 모델을 개발할 수 있다.</p>
<h3 id="교육-및-학습"><a class="heading-link" aria-hidden="true" href="#교육-및-학습">교육 및 학습</a></h3>
<p>AI 모델을 활용한 개인화된 학습 콘텐츠 생성, 질의응답 시스템 등에 프롬프트 엔지니어링을 적용할 수 있다.</p>
<p>이 외에도 의료, 금융, 예술 등 다양한 분야에서 프롬프트 엔지니어링의 활용 가능성이 열려 있다. AI 모델의 발전과 함께 프롬프트 엔지니어링의 중요성은 더욱 커질 것으로 예상된다.</p>
<h2 id="프롬프트-엔지니어링-시작하기"><a class="heading-link" aria-hidden="true" href="#프롬프트-엔지니어링-시작하기">프롬프트 엔지니어링 시작하기</a></h2>
<h3 id="기본-지식-습득"><a class="heading-link" aria-hidden="true" href="#기본-지식-습득">기본 지식 습득</a></h3>
<p>프롬프트 엔지니어링을 시작하기 위해서는 먼저 AI 모델, 특히 자연어 처리 모델에 대한 기본적인 이해가 필요하다. 대표적인 언어 모델인 GPT 시리즈나 BERT, T5 등의 모델 아키텍처와 동작 원리를 공부하는 것이 좋다.</p>
<h3 id="실전-연습"><a class="heading-link" aria-hidden="true" href="#실전-연습">실전 연습</a></h3>
<p>실제로 AI 모델을 사용하며 프롬프트를 설계하고 실험해 보는 과정이 필요하다. OpenAI API, Hugging Face 등의 플랫폼을 활용하여 다양한 프롬프트를 테스트하고, 그 결과를 분석하면서 효과적인 프롬프트 설계 방법을 익힐 수 있다.</p>
<h3 id="지속적인-학습"><a class="heading-link" aria-hidden="true" href="#지속적인-학습">지속적인 학습</a></h3>
<p>프롬프트 엔지니어링 관련 연구 자료, 블로그, 커뮤니티 등을 통해 최신 동향과 기술을 학습하고, 다른 사람들의 경험과 인사이트를 공유하는 것도 도움이 된다. 프롬프트 엔지니어링은 아직 발전 초기 단계에 있는 분야이므로, 지속적인 학습과 실험을 통해 성장해 나갈 수 있다.</p>
<h2 id="참고-자료"><a class="heading-link" aria-hidden="true" href="#참고-자료">참고 자료</a></h2>
<ul>
<li><a href="https://blog.kakaocloud.com/85?category=1219445">카카오클라우드 블로그 - 프롬프트 엔지니어링이란 ①</a></li>
<li><a href="https://mitsloanedtech.mit.edu/ai/basics/effective-prompts/">MIT Sloan EDL. (2024). Effective Prompts: How to Write Prompts That Get Better Results</a></li>
<li><a href="https://arxiv.org/abs/2302.11382">Zhou, Wang, et al. (2023). A Comprehensive Survey on Prompt Engineering. arXiv:2302.11382.</a></li>
</ul>1a:["$","$L18","AI/LLM/prompt-engineering-1",{"post":{"metadata":{"title":"Prompt Engineering","summary":"프롬프트 엔지니어링의 개념, 기본 구성 요소, 활용 분야, 그리고 실전 기법을 설명한다. LLM과 효과적으로 소통하기 위한 프롬프트 설계 방법을 정리한다.","locale":"ko","createdAt":"2026-01-08T16:39:51.000Z","updatedAt":"2026-01-08T16:39:51.000Z"},"slug":"AI/LLM/prompt-engineering-1","source":"$24","type":"markdown","notebookData":"$undefined","parentFolder":"LLM"},"locale":"ko","delay":0.13}]
25:T1e57,<h2 id="제로샷-프롬프팅-zero-shot-prompting"><a class="heading-link" aria-hidden="true" href="#제로샷-프롬프팅-zero-shot-prompting">제로샷 프롬프팅 (Zero-shot Prompting)</a></h2>
<p>제로샷 프롬프팅은 사전에 특정 작업에 대한 예제나 데이터를 모델에게 학습시키지 않고, 모델이 이전에 학습한 일반적인 지식만을 활용하여 새로운 작업을 수행하는 방법이다. 모델이 특정 도메인이나 작업에 대해 특별히 훈련되지 않았을 때 사용되며, 다양한 작업에 모델의 일반화 능력을 테스트하는 데 유용하다.</p>
<h3 id="특징"><a class="heading-link" aria-hidden="true" href="#특징">특징</a></h3>
<ul>
<li><strong>범용성</strong>: 모델이 특정 작업에 대한 사전 지식 없이도 적절한 답변을 생성할 수 있어야 한다. 이는 모델의 범용성과 유연성을 평가하는 데 중요하다.</li>
<li><strong>프롬프트 디자인</strong>: 성공적인 제로샷 프롬프팅을 위해서는 모델이 이해하고 반응할 수 있는 방식으로 질문이나 명령을 구성하는 것이 중요하다. 프롬프트가 모델의 성능에 큰 영향을 미칠 수 있다.</li>
<li><strong>응용 가능성</strong>: 다양한 유형의 언어 작업에서 사용될 수 있으며, 특히 새로운 도메인이나 예상치 못한 시나리오에 대응해야 할 때 유용하다.</li>
</ul>
<h3 id="예시"><a class="heading-link" aria-hidden="true" href="#예시">예시</a></h3>
<pre><code>다음 문장의 감성이 어떤지 긍정, 부정, 중립으로 분류해줘:
'이 영화는 정말 실망스러웠어. 기대했던 것보다 훨씬 지루했어.'
</code></pre>
<p>이 프롬프트는 아무런 사전 정보를 주지 않고도, 모델이 이전에 학습한 일반적인 지식에 기반해서 문장의 내용을 충분히 이해하고 감성을 분류할 수 있다.</p>
<p>제로샷 프롬프팅은 다양한 과제에 빠르게 적용할 수 있다는 장점이 있지만, 모델의 성능이 프롬프트에 크게 의존하므로 프롬프트 설계에 주의가 필요하다.</p>
<h2 id="퓨샷-프롬프팅-few-shot-prompting"><a class="heading-link" aria-hidden="true" href="#퓨샷-프롬프팅-few-shot-prompting">퓨샷 프롬프팅 (Few-shot Prompting)</a></h2>
<p>퓨샷 프롬프팅은 제로샷 프롬프팅에 매우 제한된 수(일반적으로 1~5개)의 예제를 추가하여 해당 작업에 대한 모델의 성능을 향상시키는 기법이다. 모델이 과제를 더 잘 이해하고, 예시를 통해 학습할 수 있도록 도와준다.</p>
<h3 id="특징-1"><a class="heading-link" aria-hidden="true" href="#특징-1">특징</a></h3>
<ul>
<li><strong>데이터 효율성</strong>: 퓨샷 학습은 많은 데이터를 필요로 하지 않는다. 대신, 몇 개의 학습 예제만을 사용하여 모델의 학습을 유도한다.</li>
<li><strong>적응성</strong>: 소수의 예제를 통해 새로운 도메인이나 작업에 대해 빠르게 적응할 수 있는 능력을 평가할 수 있다.</li>
<li><strong>프롬프트 디자인</strong>: 효과적인 퓨샷 학습을 위해선, 모델이 이해하고 반응할 수 있는 방식으로 명확하고 정확한 프롬프트 디자인이 필요하다.</li>
</ul>
<h3 id="예시-1"><a class="heading-link" aria-hidden="true" href="#예시-1">예시</a></h3>
<pre><code>다음은 영화 리뷰 문장과 그에 대한 감성 분류 예시야:
'이 영화는 정말 최고였어! 연기, 연출, 음악 모두 완벽했어.' - 긍정
'영화는 나쁘지 않았지만, 좀 더 긴장감이 있었으면 좋았을 거야.' - 중립
이제 이 문장의 감성을 분류해봐:
'이 영화는 정말 실망스러웠어. 기대했던 것보다 훨씬 지루했어.'
</code></pre>
<p>이렇게 실제 원하는 작업 요청 앞에 몇 개의 예시를 제공하면 모델은 과제를 더 명확히 이해하고, 유사한 패턴을 학습하여 더 나은 성능을 보일 수 있다.</p>
<h2 id="프롬프트-체이닝-prompt-chaining"><a class="heading-link" aria-hidden="true" href="#프롬프트-체이닝-prompt-chaining">프롬프트 체이닝 (Prompt Chaining)</a></h2>
<p>프롬프트 체이닝은 복잡한 과제를 여러 개의 하위 과제로 나누어 순차적으로 처리하는 기법이다. 각 단계에서 모델이 더 잘 수행할 수 있는 작은 과제를 제시하여, 전체 과제의 성능을 향상시킬 수 있다.</p>
<h3 id="특징-2"><a class="heading-link" aria-hidden="true" href="#특징-2">특징</a></h3>
<ul>
<li><strong>단계별 처리</strong>: 복잡한 문제를 작은 단계로 분해하여 순차적으로 해결</li>
<li><strong>명확성 향상</strong>: 각 단계에서 구체적이고 명확한 지시 사항 제공</li>
<li><strong>품질 개선</strong>: 포괄적인 요청보다 최종 결과물의 품질을 높일 수 있음</li>
</ul>
<h3 id="예시-2"><a class="heading-link" aria-hidden="true" href="#예시-2">예시</a></h3>
<p>"서울에서 부산까지 가는 최적의 여행 경로를 알려줘"라는 과제를 프롬프트 체이닝으로 해결한다면:</p>
<pre><code>아래 과제들을 각 단계 별로 수행해줘.
1단계: 서울과 부산 사이의 주요 도시들을 나열해줘
2단계: 각 도시의 주요 관광지와 명소를 3개씩 추천해줘
3단계: 서울에서 출발하여 추천된 도시와 관광지를 경유하여 부산까지 가는 효율적인 경로를 제안해줘
4단계: 제안된 경로에 대해 예상 소요 시간, 교통수단, 숙박 옵션 등을 고려하여 자세히 설명해줘
</code></pre>
<p>이렇게 단계별로 과제를 나눠 수행을 요청하면, 모델은 각 단계에서 더 구체적이고 명확한 지시 사항을 받게 되기 때문에 포괄적인 요청보다 최종 결과물의 품질을 높일 수 있다.</p>
<h2 id="기법-비교"><a class="heading-link" aria-hidden="true" href="#기법-비교">기법 비교</a></h2>
<table>
<thead>
<tr>
<th>기법</th>
<th>예제 필요</th>
<th>복잡도</th>
<th>적합한 상황</th>
</tr>
</thead>
<tbody>
<tr>
<td>제로샷</td>
<td>없음</td>
<td>낮음</td>
<td>간단한 작업, 빠른 프로토타이핑</td>
</tr>
<tr>
<td>퓨샷</td>
<td>1~5개</td>
<td>중간</td>
<td>특정 패턴 학습이 필요한 작업</td>
</tr>
<tr>
<td>체이닝</td>
<td>없음</td>
<td>높음</td>
<td>복잡하고 다단계가 필요한 작업</td>
</tr>
</tbody>
</table>
<h2 id="실전-활용-팁"><a class="heading-link" aria-hidden="true" href="#실전-활용-팁">실전 활용 팁</a></h2>
<ol>
<li><strong>제로샷부터 시작</strong>: 새로운 작업에 대해 먼저 제로샷 프롬프팅을 시도해보고, 성능이 부족하면 퓨샷으로 전환</li>
<li><strong>예제 선택</strong>: 퓨샷 프롬프팅에서 사용하는 예제는 다양하고 대표적인 것을 선택</li>
<li><strong>단계 분해</strong>: 프롬프트 체이닝에서 각 단계는 독립적으로 수행 가능하도록 설계</li>
<li><strong>반복 개선</strong>: 각 기법을 실험하며 프롬프트를 지속적으로 개선</li>
</ol>
<h2 id="참고-자료"><a class="heading-link" aria-hidden="true" href="#참고-자료">참고 자료</a></h2>
<ul>
<li><a href="https://blog.kakaocloud.com/86?category=1219445">카카오클라우드 블로그 - 프롬프트 엔지니어링이란 ②</a></li>
<li><a href="https://mitsloanedtech.mit.edu/ai/basics/effective-prompts/">MIT Sloan EDL. (2024). Effective Prompts: How to Write Prompts That Get Better Results</a></li>
<li><a href="https://arxiv.org/abs/2302.11382">Zhou, Wang, et al. (2023). A Comprehensive Survey on Prompt Engineering. arXiv:2302.11382.</a></li>
</ul>1b:["$","$L18","AI/LLM/prompt-engineering-2",{"post":{"metadata":{"title":"Prompt Engineering 기초 기법","summary":"제로샷 프롬프팅, 퓨샷 프롬프팅, 프롬프트 체이닝 등 프롬프트 엔지니어링의 기본 기법을 실제 예시와 함께 설명한다.","locale":"ko","createdAt":"2026-01-08T16:39:51.000Z","updatedAt":"2026-01-09T07:55:04.000Z"},"slug":"AI/LLM/prompt-engineering-2","source":"$25","type":"markdown","notebookData":"$undefined","parentFolder":"LLM"},"locale":"ko","delay":0.18}]
26:T2415,<h2 id="chain-of-thought-cot-프롬프팅"><a class="heading-link" aria-hidden="true" href="#chain-of-thought-cot-프롬프팅">Chain-of-Thought (CoT) 프롬프팅</a></h2>
<p>Chain-of-Thought(CoT) 프롬프팅은 복잡한 문제를 단계별로 나누어 해결하는 추론 방식이다. 중간 단계를 명시적으로 보여주며 최종 답변에 도달한다. 모델이 문제를 단계별로 사고하도록 유도하여 더 정확한 답변을 얻을 수 있다.</p>
<h3 id="특징"><a class="heading-link" aria-hidden="true" href="#특징">특징</a></h3>
<ul>
<li><strong>단계별 추론</strong>: 문제를 작은 단계로 분해하여 순차적으로 해결</li>
<li><strong>명시적 사고 과정</strong>: 중간 단계를 명확히 보여줌으로써 추론 과정을 투명하게 만듦</li>
<li><strong>복잡한 문제 해결</strong>: 수학 문제, 논리 퍼즐 등 복잡한 문제에 효과적</li>
</ul>
<h3 id="예시"><a class="heading-link" aria-hidden="true" href="#예시">예시</a></h3>
<pre><code>문제: 한 가게에서 연필을 3개씩 묶어서 팔고 있다. 고객이 10개의 연필을 사려고 한다. 몇 묶음을 사야 하는가?

단계별로 생각해보자:
1단계: 묶음당 연필 개수 = 3개
2단계: 필요한 연필 개수 = 10개
3단계: 필요한 묶음 수 = 10 ÷ 3 = 3.33...
4단계: 묶음은 정수로만 살 수 있으므로, 3묶음으로는 9개만 살 수 있고 1개가 부족하다
5단계: 따라서 4묶음을 사야 12개를 얻을 수 있고, 10개 이상을 충족한다
답: 4묶음
</code></pre>
<h3 id="cot-프롬프팅-활용"><a class="heading-link" aria-hidden="true" href="#cot-프롬프팅-활용">CoT 프롬프팅 활용</a></h3>
<p>CoT는 다음과 같은 상황에서 효과적이다:</p>
<ul>
<li>수학 문제 해결</li>
<li>논리적 추론이 필요한 문제</li>
<li>다단계 계산이 필요한 작업</li>
<li>복잡한 의사결정 문제</li>
</ul>
<h2 id="tree-of-thought-tot-프롬프팅"><a class="heading-link" aria-hidden="true" href="#tree-of-thought-tot-프롬프팅">Tree-of-Thought (ToT) 프롬프팅</a></h2>
<p>Tree-of-Thought(ToT) 프롬프팅은 여러 가능한 추론 경로를 탐색하며 최적의 답을 찾는 방식이다. 각 단계에서 여러 후보를 생성하고 평가하여 가장 좋은 경로를 선택한다.</p>
<h3 id="특징-1"><a class="heading-link" aria-hidden="true" href="#특징-1">특징</a></h3>
<ul>
<li><strong>다중 경로 탐색</strong>: 하나의 답이 아닌 여러 가능성을 동시에 탐색</li>
<li><strong>경로 평가</strong>: 각 추론 경로를 평가하여 최적의 경로 선택</li>
<li><strong>백트래킹</strong>: 잘못된 경로를 포기하고 다른 경로 탐색 가능</li>
</ul>
<h3 id="작동-원리"><a class="heading-link" aria-hidden="true" href="#작동-원리">작동 원리</a></h3>
<ol>
<li><strong>생성</strong>: 각 단계에서 여러 가능한 추론 단계 생성</li>
<li><strong>평가</strong>: 각 추론 단계의 품질을 평가</li>
<li><strong>선택</strong>: 가장 유망한 경로를 선택하여 계속 탐색</li>
<li><strong>반복</strong>: 최종 답에 도달할 때까지 반복</li>
</ol>
<h3 id="예시-1"><a class="heading-link" aria-hidden="true" href="#예시-1">예시</a></h3>
<pre><code>문제: 24를 만들 수 있는 세 숫자의 조합을 찾아라 (각 숫자는 1~9)

ToT 접근:
- 경로 1: 8 + 8 + 8 = 24
- 경로 2: 6 + 9 + 9 = 24
- 경로 3: 7 + 8 + 9 = 24
- 경로 4: 4 × 6 = 24 (두 숫자만 사용)

각 경로를 평가하고 가장 적절한 답을 선택
</code></pre>
<h3 id="tot-프롬프팅-활용"><a class="heading-link" aria-hidden="true" href="#tot-프롬프팅-활용">ToT 프롬프팅 활용</a></h3>
<p>ToT는 다음과 같은 상황에서 효과적이다:</p>
<ul>
<li>여러 해결책이 가능한 문제</li>
<li>최적화 문제</li>
<li>창의적 문제 해결</li>
<li>게임 전략 수립</li>
</ul>
<h2 id="react-프롬프팅"><a class="heading-link" aria-hidden="true" href="#react-프롬프팅">ReAct 프롬프팅</a></h2>
<p>ReAct(Reasoning + Acting)는 추론(Reasoning)과 행동(Acting)을 결합한 프롬프팅 기법이다. 모델이 사고 과정을 명시적으로 보여주면서 동시에 외부 도구나 환경과 상호작용할 수 있도록 한다.</p>
<h3 id="특징-2"><a class="heading-link" aria-hidden="true" href="#특징-2">특징</a></h3>
<ul>
<li><strong>추론과 행동 결합</strong>: 사고 과정과 실제 행동을 함께 수행</li>
<li><strong>외부 도구 활용</strong>: 검색, 계산기, 데이터베이스 등 외부 도구 사용 가능</li>
<li><strong>반복적 개선</strong>: 행동 결과를 바탕으로 추론을 개선</li>
</ul>
<h3 id="작동-원리-1"><a class="heading-link" aria-hidden="true" href="#작동-원리-1">작동 원리</a></h3>
<ol>
<li><strong>사고(Thought)</strong>: 현재 상황을 분석하고 다음 행동을 계획</li>
<li><strong>행동(Action)</strong>: 외부 도구를 사용하거나 정보를 검색</li>
<li><strong>관찰(Observation)</strong>: 행동의 결과를 관찰</li>
<li><strong>반복</strong>: 목표에 도달할 때까지 반복</li>
</ol>
<h3 id="예시-2"><a class="heading-link" aria-hidden="true" href="#예시-2">예시</a></h3>
<pre><code>사용자: "파리의 인구는 얼마인가?"

ReAct 프로세스:
[사고] 파리의 인구 정보가 필요하다. 최신 데이터를 검색해야 한다.
[행동] 검색: "파리 인구 2024"
[관찰] 파리의 인구는 약 210만 명이다.
[사고] 이 정보가 충분한지 확인하고, 필요하면 더 자세한 정보를 찾아야 한다.
[행동] 검색: "파리 시 인구 통계"
[관찰] 파리 시(Paris)의 인구는 약 210만 명이며, 파리 대도시권(Île-de-France)의 인구는 약 1,200만 명이다.
[답변] 파리 시의 인구는 약 210만 명입니다. 파리 대도시권을 포함하면 약 1,200만 명입니다.
</code></pre>
<h3 id="react-프롬프팅-활용"><a class="heading-link" aria-hidden="true" href="#react-프롬프팅-활용">ReAct 프롬프팅 활용</a></h3>
<p>ReAct는 다음과 같은 상황에서 효과적이다:</p>
<ul>
<li>실시간 정보가 필요한 작업</li>
<li>외부 도구와의 상호작용이 필요한 작업</li>
<li>복잡한 다단계 작업</li>
<li>에이전트 기반 시스템</li>
</ul>
<h2 id="기법-비교"><a class="heading-link" aria-hidden="true" href="#기법-비교">기법 비교</a></h2>
<table>
<thead>
<tr>
<th>기법</th>
<th>추론 방식</th>
<th>외부 도구</th>
<th>복잡도</th>
<th>적합한 문제</th>
</tr>
</thead>
<tbody>
<tr>
<td>CoT</td>
<td>단일 경로, 순차적</td>
<td>불필요</td>
<td>중간</td>
<td>수학, 논리 문제</td>
</tr>
<tr>
<td>ToT</td>
<td>다중 경로, 탐색적</td>
<td>불필요</td>
<td>높음</td>
<td>최적화, 창의적 문제</td>
</tr>
<tr>
<td>ReAct</td>
<td>순환적, 상호작용적</td>
<td>필요</td>
<td>높음</td>
<td>실시간 정보, 도구 활용</td>
</tr>
</tbody>
</table>
<h2 id="고급-기법-선택-가이드"><a class="heading-link" aria-hidden="true" href="#고급-기법-선택-가이드">고급 기법 선택 가이드</a></h2>
<h3 id="cot를-선택하는-경우"><a class="heading-link" aria-hidden="true" href="#cot를-선택하는-경우">CoT를 선택하는 경우</a></h3>
<ul>
<li>문제가 명확한 단계로 나눌 수 있을 때</li>
<li>수학적 계산이나 논리적 추론이 필요할 때</li>
<li>단일 정답이 있는 문제일 때</li>
</ul>
<h3 id="tot를-선택하는-경우"><a class="heading-link" aria-hidden="true" href="#tot를-선택하는-경우">ToT를 선택하는 경우</a></h3>
<ul>
<li>여러 해결책이 가능한 문제일 때</li>
<li>최적의 답을 찾아야 할 때</li>
<li>창의적 사고가 필요할 때</li>
</ul>
<h3 id="react를-선택하는-경우"><a class="heading-link" aria-hidden="true" href="#react를-선택하는-경우">ReAct를 선택하는 경우</a></h3>
<ul>
<li>실시간 정보나 최신 데이터가 필요할 때</li>
<li>외부 도구(검색, 계산기 등)를 활용해야 할 때</li>
<li>복잡한 다단계 작업을 수행해야 할 때</li>
</ul>
<h2 id="실전-활용-팁"><a class="heading-link" aria-hidden="true" href="#실전-활용-팁">실전 활용 팁</a></h2>
<ol>
<li><strong>CoT 프롬프트 작성</strong>: "단계별로 생각해보자" 또는 "각 단계를 명시하라"와 같은 지시어 사용</li>
<li><strong>ToT 구현</strong>: 여러 후보를 생성하고 평가하는 반복 과정 설계</li>
<li><strong>ReAct 구조</strong>: 사고-행동-관찰 패턴을 명확히 정의</li>
<li><strong>기법 조합</strong>: 필요에 따라 여러 기법을 조합하여 사용</li>
</ol>
<h2 id="참고-자료"><a class="heading-link" aria-hidden="true" href="#참고-자료">참고 자료</a></h2>
<ul>
<li><a href="https://blog.kakaocloud.com/87?category=1219445">카카오클라우드 블로그 - 프롬프트 엔지니어링이란 ③</a></li>
<li>MIT Sloan EDL. (2024). Effective Prompts: How to Write Prompts That Get Better Results.</li>
<li>Zhou, Wang, et al. (2023). A Comprehensive Survey on Prompt Engineering. arXiv:2302.11382.</li>
</ul>1c:["$","$L18","AI/LLM/prompt-engineering-3",{"post":{"metadata":{"title":"Prompt Engineering 고급 기법","summary":"Chain-of-Thought(CoT), Tree-of-Thought(ToT), ReAct 등 프롬프트 엔지니어링의 고급 기법을 설명한다. 복잡한 문제를 해결하기 위한 고급 추론 기법을 정리한다.","locale":"ko","createdAt":"2026-01-08T16:39:51.000Z","updatedAt":"2026-01-09T07:55:04.000Z"},"slug":"AI/LLM/prompt-engineering-3","source":"$26","type":"markdown","notebookData":"$undefined","parentFolder":"LLM"},"locale":"ko","delay":0.23000000000000004}]
27:T24c1,<h2 id="multi-modal-cot-프롬프팅"><a class="heading-link" aria-hidden="true" href="#multi-modal-cot-프롬프팅">Multi-modal CoT 프롬프팅</a></h2>
<p>Multi-modal CoT 프롬프팅은 이미지와 텍스트를 함께 활용하여 문제를 해결하는 기법이다. 시각적 정보와 언어적 정보를 통합적으로 처리할 수 있는 AI 모델의 능력을 활용하여 더욱 풍부하고 정확한 문제 해결을 가능하게 한다.</p>
<h3 id="특징"><a class="heading-link" aria-hidden="true" href="#특징">특징</a></h3>
<ul>
<li><strong>다중 모달 처리</strong>: 이미지와 텍스트를 동시에 분석</li>
<li><strong>단계별 추론</strong>: CoT 방식으로 이미지 분석 과정을 단계별로 진행</li>
<li><strong>시각적 이해</strong>: 이미지의 내용을 이해하고 설명할 수 있음</li>
</ul>
<h3 id="작동-원리"><a class="heading-link" aria-hidden="true" href="#작동-원리">작동 원리</a></h3>
<ol>
<li><strong>이미지 분석</strong>: 이미지에서 관련 정보를 추출</li>
<li><strong>단계별 처리</strong>: CoT 방식으로 분석 과정을 단계별로 진행</li>
<li><strong>통합 추론</strong>: 이미지 정보와 텍스트 정보를 결합하여 답변 생성</li>
</ol>
<h3 id="예시"><a class="heading-link" aria-hidden="true" href="#예시">예시</a></h3>
<p><strong>프롬프트:</strong></p>
<pre><code>첨부 이미지를 분석하여 고양이를 찾아 빨간색 상자로 표시하고, 고양이의 품종을 설명해 주세요.
[이미지: 강아지와 고양이가 함께 있는 사진]

분석 과정:
1. 이미지에서 고양이를 찾습니다.
2. 고양이에 빨간색 상자를 그려 표시합니다.
3. 고양이의 특징을 분석하여 품종을 파악합니다.
4. 고양이의 품종과 그 근거를 설명합니다.
</code></pre>
<p><strong>예상 출력:</strong></p>
<pre><code>분석 과정:
1. 이미지를 분석한 결과, 강아지 옆에 턱시도 무늬의 고양이가 있습니다.
2. 고양이를 빨간색 상자로 표시했습니다. [이미지: 빨간색 상자로 고양이가 강조된 사진]
3. 고양이의 특징을 살펴보면, 검은색과 하얀색의 대비되는 털 색, 짧은 털, 긴 몸통과 다리가 특징입니다. 이는 턱시도 고양이의 전형적인 모습입니다.
4. 이 고양이는 턱시도 고양이로 보입니다. 턱시도 고양이는 검은색과 하얀색의 털 색이 마치 턱시도를 입은 것처럼 대비되는 것이 특징이며, short hair 종에 속합니다. 긴 몸통과 다리를 가지고 있어 우아한 자태를 자랑하죠.
</code></pre>
<h3 id="multi-modal-cot-활용"><a class="heading-link" aria-hidden="true" href="#multi-modal-cot-활용">Multi-modal CoT 활용</a></h3>
<p>Multi-modal CoT는 다음과 같은 상황에서 효과적이다:</p>
<ul>
<li>이미지 분석 및 설명</li>
<li>시각적 질의응답</li>
<li>이미지 기반 문제 해결</li>
<li>다중 모달 콘텐츠 생성</li>
</ul>
<h2 id="graph-프롬프팅"><a class="heading-link" aria-hidden="true" href="#graph-프롬프팅">Graph 프롬프팅</a></h2>
<p>Graph 프롬프팅은 지식 그래프(Knowledge Graph)를 활용하여 문제를 해결하는 기법이다. 지식 그래프는 개념들 간의 관계를 노드와 에지로 표현한 것으로, 방대한 양의 정보를 구조화하여 저장할 수 있다. Graph 프롬프팅은 이러한 지식 그래프를 활용하여 복잡한 질의에 대한 답변을 생성할 수 있다.</p>
<h3 id="특징-1"><a class="heading-link" aria-hidden="true" href="#특징-1">특징</a></h3>
<ul>
<li><strong>구조화된 지식</strong>: 노드와 에지로 표현된 구조화된 정보 활용</li>
<li><strong>관계 추론</strong>: 개념 간의 관계를 통해 추론 수행</li>
<li><strong>효율적 검색</strong>: 방대한 지식 베이스에서 관련 정보를 효과적으로 추출</li>
</ul>
<h3 id="지식-그래프-구조"><a class="heading-link" aria-hidden="true" href="#지식-그래프-구조">지식 그래프 구조</a></h3>
<p>지식 그래프는 다음과 같은 구조로 이루어져 있다:</p>
<ul>
<li><strong>노드(Node)</strong>: 엔티티(개체)를 나타냄 (예: 사람, 장소, 개념)</li>
<li><strong>에지(Edge)</strong>: 노드 간의 관계를 나타냄 (예: "작성하다", "소속되다", "수상하다")</li>
</ul>
<h3 id="작동-원리-1"><a class="heading-link" aria-hidden="true" href="#작동-원리-1">작동 원리</a></h3>
<ol>
<li><strong>키워드 추출</strong>: 질문에서 검색 키워드를 추출</li>
<li><strong>그래프 탐색</strong>: 지식 그래프에서 관련 노드와 에지를 탐색</li>
<li><strong>관계 추론</strong>: 노드 간의 관계를 통해 답변 생성</li>
<li><strong>통합 응답</strong>: 탐색한 정보를 바탕으로 최종 답변 생성</li>
</ol>
<h3 id="예시-1"><a class="heading-link" aria-hidden="true" href="#예시-1">예시</a></h3>
<p><strong>프롬프트:</strong></p>
<pre><code>아래 질문에 대해 지식 그래프를 활용하여 답변을 생성해 주세요.
질문: 알버트 아인슈타인의 업적과 그가 받은 수상 내역을 알려주세요.
지식 그래프 검색 키워드: 알버트 아인슈타인, 업적, 수상
</code></pre>
<p><strong>예상 출력:</strong></p>
<pre><code>지식 그래프 검색 결과:
- 알버트 아인슈타인 노드
- 업적 에지: 상대성 이론, 광전효과 설명, 브라운 운동 이론
- 수상 에지: 노벨 물리학상

알버트 아인슈타인은 세계적으로 가장 유명한 물리학자 중 한 명입니다. 그의 주요 업적으로는 다음과 같은 것들이 있습니다:

1. 상대성 이론: 특수 상대성 이론과 일반 상대성 이론을 발표하여 시공간과 중력에 대한 새로운 이해를 제시했습니다.

2. 광전효과 설명: 빛의 입자성을 설명하는 광전효과를 발견하고 이론적으로 설명했습니다. 이는 양자역학의 기초가 되었죠.

3. 브라운 운동 이론: 물질을 구성하는 원자와 분자의 운동을 설명하는 이론을 발표했습니다.

이러한 업적을 인정받아 아인슈타인은 1921년 노벨 물리학상을 수상했습니다. 수상 이유는 광전효과에 대한 연구와 이론이었습니다.
</code></pre>
<h3 id="graph-프롬프팅-활용"><a class="heading-link" aria-hidden="true" href="#graph-프롬프팅-활용">Graph 프롬프팅 활용</a></h3>
<p>Graph 프롬프팅은 다음과 같은 상황에서 효과적이다:</p>
<ul>
<li>복잡한 관계 질의</li>
<li>다단계 추론이 필요한 질문</li>
<li>구조화된 지식 베이스 활용</li>
<li>엔티티 간 관계 탐색</li>
</ul>
<h2 id="기법-비교"><a class="heading-link" aria-hidden="true" href="#기법-비교">기법 비교</a></h2>
<table>
<thead>
<tr>
<th>기법</th>
<th>입력 형태</th>
<th>추론 방식</th>
<th>복잡도</th>
<th>적합한 문제</th>
</tr>
</thead>
<tbody>
<tr>
<td>Multi-modal CoT</td>
<td>이미지 + 텍스트</td>
<td>단계별 시각 분석</td>
<td>중간</td>
<td>이미지 분석, 시각적 질의응답</td>
</tr>
<tr>
<td>Graph 프롬프팅</td>
<td>텍스트 + 지식 그래프</td>
<td>관계 기반 추론</td>
<td>높음</td>
<td>복잡한 관계 질의, 구조화된 정보 검색</td>
</tr>
</tbody>
</table>
<h2 id="실전-활용-팁"><a class="heading-link" aria-hidden="true" href="#실전-활용-팁">실전 활용 팁</a></h2>
<h3 id="multi-modal-cot-활용-1"><a class="heading-link" aria-hidden="true" href="#multi-modal-cot-활용-1">Multi-modal CoT 활용</a></h3>
<ol>
<li><strong>명확한 단계 정의</strong>: 이미지 분석 과정을 단계별로 명확히 정의</li>
<li><strong>시각적 지시</strong>: 이미지에서 찾아야 할 대상을 명확히 지정</li>
<li><strong>결과 검증</strong>: 이미지 분석 결과를 텍스트로 설명하여 검증</li>
</ol>
<h3 id="graph-프롬프팅-활용-1"><a class="heading-link" aria-hidden="true" href="#graph-프롬프팅-활용-1">Graph 프롬프팅 활용</a></h3>
<ol>
<li><strong>키워드 선택</strong>: 질문에서 핵심 키워드를 정확히 추출</li>
<li><strong>관계 파악</strong>: 노드 간의 관계를 이해하여 추론 경로 설계</li>
<li><strong>다중 경로 탐색</strong>: 여러 관계 경로를 탐색하여 포괄적인 답변 생성</li>
</ol>
<h2 id="결론"><a class="heading-link" aria-hidden="true" href="#결론">결론</a></h2>
<p>Multi-modal CoT와 Graph 프롬프팅은 다양한 형태의 데이터를 활용하여 AI 모델의 문제 해결 능력을 향상시키는 고급 기법이다. 이미지와 텍스트를 융합하거나 지식 그래프를 활용하는 등 창의적인 접근을 통해 AI와의 소통을 더욱 풍부하고 효과적으로 만들 수 있다.</p>
<h2 id="참고-자료"><a class="heading-link" aria-hidden="true" href="#참고-자료">참고 자료</a></h2>
<ul>
<li><a href="https://blog.kakaocloud.com/89?category=1219445">카카오클라우드 블로그 - 프롬프트 엔지니어링이란 ④</a></li>
<li>Chen, X., et al. (2023). Multimodal Chain-of-Thought Reasoning in Large Language Models. arXiv:2302.00923.</li>
<li>Hwang, S., et al. (2023). KG-GPT: A General Framework for Reasoning on Knowledge Graphs using Language Models. KAIST / ICML Workshop.</li>
</ul>1d:["$","$L18","AI/LLM/prompt-engineering-4",{"post":{"metadata":{"title":"Prompt Engineering 고급 기법 2","summary":"Multi-modal CoT와 Graph 프롬프팅 등 다양한 형태의 정보를 활용하는 고급 프롬프트 엔지니어링 기법을 설명한다. 이미지, 텍스트, 지식 그래프를 활용한 추론 기법을 정리한다.","locale":"ko","createdAt":"2026-01-08T16:39:51.000Z","updatedAt":"2026-01-09T07:55:04.000Z"},"slug":"AI/LLM/prompt-engineering-4","source":"$27","type":"markdown","notebookData":"$undefined","parentFolder":"LLM"},"locale":"ko","delay":0.28}]
28:T1cf7,<p>아두이노를 Ollama 로 설치한 로컬 LLM 으로 제어하기</p>
<h2 id="ollama"><a class="heading-link" aria-hidden="true" href="#ollama">Ollama</a></h2>
<h3 id="기본-명령어"><a class="heading-link" aria-hidden="true" href="#기본-명령어">기본 명령어</a></h3>
<pre><code>ollama pull [모델명]
ollama pull [모델명:태그]
ollama list
ollama run [모델명]
ollama show [모델명]
</code></pre>
<h3 id="quantize-양자화"><a class="heading-link" aria-hidden="true" href="#quantize-양자화">Quantize (양자화)</a></h3>
<p>Quantize는 모델의 가중치를 낮은 비트로 변환하여 모델 크기를 줄이고 메모리 사용량을 감소시키는 기법이다. 추론 속도를 높이고 더 작은 하드웨어에서도 모델을 실행할 수 있게 해준다.</p>
<h4 id="quantize란"><a class="heading-link" aria-hidden="true" href="#quantize란">Quantize란?</a></h4>
<ul>
<li><strong>정의</strong>: 모델의 가중치를 높은 정밀도(예: 32비트 float)에서 낮은 정밀도(예: 4비트, 8비트)로 변환하는 과정</li>
<li><strong>목적</strong>: 모델 크기 감소, 메모리 사용량 감소, 추론 속도 향상</li>
<li><strong>트레이드오프</strong>: 정밀도가 낮아질수록 모델 성능이 약간 저하될 수 있지만, 대부분의 경우 실용적인 수준에서 유지됨</li>
</ul>
<h4 id="quantize-사용-방법"><a class="heading-link" aria-hidden="true" href="#quantize-사용-방법">Quantize 사용 방법</a></h4>
<p>Ollama에서는 모델을 pull할 때 이미 양자화된 버전을 선택할 수 있다. 모델명 뒤에 태그를 붙여 양자화 수준을 지정한다.</p>
<pre><code># 양자화되지 않은 원본 모델
ollama pull llama2

# 4비트 양자화 (Q4_0)
ollama pull llama2:4bit

# 8비트 양자화 (Q8_0)
ollama pull llama2:8bit

# 특정 양자화 버전 확인
ollama list
</code></pre>
<h4 id="양자화-수준"><a class="heading-link" aria-hidden="true" href="#양자화-수준">양자화 수준</a></h4>
<table>
<thead>
<tr>
<th>양자화 수준</th>
<th>비트 수</th>
<th>모델 크기</th>
<th>메모리 사용량</th>
<th>성능</th>
<th>추론 속도</th>
</tr>
</thead>
<tbody>
<tr>
<td>원본 (FP32)</td>
<td>32비트</td>
<td>매우 큼</td>
<td>매우 높음</td>
<td>최고</td>
<td>느림</td>
</tr>
<tr>
<td>Q8_0</td>
<td>8비트</td>
<td>작음</td>
<td>낮음</td>
<td>매우 좋음</td>
<td>빠름</td>
</tr>
<tr>
<td>Q4_0</td>
<td>4비트</td>
<td>매우 작음</td>
<td>매우 낮음</td>
<td>좋음</td>
<td>매우 빠름</td>
</tr>
<tr>
<td>Q2_K</td>
<td>2비트</td>
<td>극히 작음</td>
<td>극히 낮음</td>
<td>보통</td>
<td>매우 빠름</td>
</tr>
</tbody>
</table>
<h4 id="quantize-사용-예시"><a class="heading-link" aria-hidden="true" href="#quantize-사용-예시">Quantize 사용 예시</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="bash" data-theme="moonlight-ii"><code data-language="bash" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># 4비트 양자화 모델 다운로드 (메모리 절약)</span></span>
<span data-line=""><span style="color:#FFC777">ollama</span><span style="color:#C3E88D"> pull</span><span style="color:#C3E88D"> llama2:4bit</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 8비트 양자화 모델 다운로드 (성능과 크기 균형)</span></span>
<span data-line=""><span style="color:#FFC777">ollama</span><span style="color:#C3E88D"> pull</span><span style="color:#C3E88D"> llama2:8bit</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 양자화된 모델 실행</span></span>
<span data-line=""><span style="color:#FFC777">ollama</span><span style="color:#C3E88D"> run</span><span style="color:#C3E88D"> llama2:4bit</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 설치된 모델 목록 확인</span></span>
<span data-line=""><span style="color:#FFC777">ollama</span><span style="color:#C3E88D"> list</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# 4비트 양자화 모델 다운로드 (메모리 절약)
ollama pull llama2:4bit

# 8비트 양자화 모델 다운로드 (성능과 크기 균형)
ollama pull llama2:8bit

# 양자화된 모델 실행
ollama run llama2:4bit

# 설치된 모델 목록 확인
ollama list" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="quantize-선택-가이드"><a class="heading-link" aria-hidden="true" href="#quantize-선택-가이드">Quantize 선택 가이드</a></h4>
<ul>
<li><strong>Q4_0 (4비트)</strong>: 메모리가 제한적인 환경, 빠른 추론이 필요한 경우</li>
<li><strong>Q8_0 (8비트)</strong>: 성능과 크기의 균형이 필요한 경우</li>
<li><strong>원본 (FP32)</strong>: 최고 성능이 필요한 경우, 메모리가 충분한 경우</li>
</ul>
<h4 id="주의사항"><a class="heading-link" aria-hidden="true" href="#주의사항">주의사항</a></h4>
<ol>
<li><strong>성능 저하</strong>: 양자화 수준이 낮을수록 모델 성능이 약간 저하될 수 있다</li>
<li><strong>호환성</strong>: 모든 모델이 모든 양자화 수준을 지원하는 것은 아니다</li>
<li><strong>테스트</strong>: 실제 사용 환경에서 양자화된 모델의 성능을 테스트해보는 것이 좋다</li>
</ol>1e:["$","$L18","AI/LLM/ollama",{"post":{"metadata":{"title":"Ollama","summary":"Ollama의 기본 명령어와 모델 관리 방법, Quantize(양자화)를 통한 모델 최적화 기법을 설명한다. 로컬 LLM 모델의 크기와 성능을 조절하는 방법을 정리한다.","locale":"ko","createdAt":"2026-01-08T16:39:51.000Z","updatedAt":"2026-01-08T16:39:51.000Z"},"slug":"AI/LLM/ollama","source":"$28","type":"markdown","notebookData":"$undefined","parentFolder":"LLM"},"locale":"ko","delay":0.33}]
29:T1eede,<h2 id="개요"><a class="heading-link" aria-hidden="true" href="#개요">개요</a></h2>
<p>Ollama는 로컬에서 대규모 언어 모델(LLM)을 실행할 수 있는 도구이다. Python의 <code>requests</code> 라이브러리를 사용하여 Ollama API를 호출할 수 있다.</p>
<h2 id="사전-준비"><a class="heading-link" aria-hidden="true" href="#사전-준비">사전 준비</a></h2>
<h3 id="1-ollama-설치"><a class="heading-link" aria-hidden="true" href="#1-ollama-설치">1. Ollama 설치</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="bash" data-theme="moonlight-ii"><code data-language="bash" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># Ollama 공식 사이트에서 설치: https://ollama.ai</span></span>
<span data-line=""><span style="color:#858AA6"># 모델 다운로드</span></span>
<span data-line=""><span style="color:#FFC777">ollama</span><span style="color:#C3E88D"> pull</span><span style="color:#C3E88D"> llama3.2:latest</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# Ollama 공식 사이트에서 설치: https://ollama.ai
# 모델 다운로드
ollama pull llama3.2:latest" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="2-python-라이브러리-설치"><a class="heading-link" aria-hidden="true" href="#2-python-라이브러리-설치">2. Python 라이브러리 설치</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="bash" data-theme="moonlight-ii"><code data-language="bash" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#FFC777">pip</span><span style="color:#C3E88D"> install</span><span style="color:#C3E88D"> requests</span></span><button type="button" title="Copy code" aria-label="Copy code" data="pip install requests" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="기본-사용법"><a class="heading-link" aria-hidden="true" href="#기본-사용법">기본 사용법</a></h2>
<h3 id="api-엔드포인트"><a class="heading-link" aria-hidden="true" href="#api-엔드포인트">API 엔드포인트</a></h3>
<p>Ollama는 기본적으로 <code>http://localhost:11434</code>에서 실행된다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> requests</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> json</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">OLLAMA_URL </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">http://localhost:11434/api/chat</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">MODEL </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">llama3.2:latest</span><span style="color:#86E1FC">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> call_ollama</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">user_input</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> str</span><span style="color:#B4C2F0">)</span><span style="color:#86E1FC"> -></span><span style="color:#FF966C"> str</span><span style="color:#B4C2F0">:</span></span>
<span data-line=""><span style="color:#C8D3F5">    payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">            {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">        ],</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">    response </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> requests</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">post</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">OLLAMA_URL</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> json</span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5">payload</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> timeout</span><span style="color:#86E1FC">=</span><span style="color:#FF966C">30</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">    response</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">raise_for_status</span><span style="color:#86E1FC">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> response</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">json</span><span style="color:#86E1FC">()[</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">message</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">][</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 사용 예시</span></span>
<span data-line=""><span style="color:#C8D3F5">result </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> call_ollama</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">안녕하세요</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#65BCFF">print</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">result</span><span style="color:#86E1FC">)</span></span><button type="button" title="Copy code" aria-label="Copy code" data="import requests
import json

OLLAMA_URL = &#x22;http://localhost:11434/api/chat&#x22;
MODEL = &#x22;llama3.2:latest&#x22;

def call_ollama(user_input: str) -> str:
    payload = {
        &#x22;model&#x22;: MODEL,
        &#x22;messages&#x22;: [
            {&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: user_input}
        ],
        &#x22;stream&#x22;: False
    }

    response = requests.post(OLLAMA_URL, json=payload, timeout=30)
    response.raise_for_status()

    return response.json()[&#x22;message&#x22;][&#x22;content&#x22;]

# 사용 예시
result = call_ollama(&#x22;안녕하세요&#x22;)
print(result)" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="payload-옵션"><a class="heading-link" aria-hidden="true" href="#payload-옵션">Payload 옵션</a></h2>
<h3 id="messages와-role-옵션"><a class="heading-link" aria-hidden="true" href="#messages와-role-옵션">messages와 role 옵션</a></h3>
<p><code>messages</code>는 대화를 구성하는 메시지 배열이며, 각 메시지는 <code>role</code>과 <code>content</code>로 구성된다.</p>
<h4 id="role의-종류"><a class="heading-link" aria-hidden="true" href="#role의-종류">role의 종류</a></h4>
<p>Ollama API에서 사용할 수 있는 role은 세 가지가 있다:</p>
<ol>
<li><strong><code>system</code></strong>: 시스템 프롬프트 - LLM의 역할과 동작 방식을 정의</li>
<li><strong><code>user</code></strong>: 사용자 입력 - 사용자가 입력한 메시지</li>
<li><strong><code>assistant</code></strong>: LLM 응답 - 모델이 생성한 응답</li>
</ol>
<h3 id="role-system---시스템-프롬프트"><a class="heading-link" aria-hidden="true" href="#role-system---시스템-프롬프트">role: "system" - 시스템 프롬프트</a></h3>
<p>시스템 프롬프트는 LLM의 역할, 성격, 응답 방식을 정의한다. 대화의 맥락을 설정하고 모델의 행동을 제어한다.</p>
<h4 id="사용-방법"><a class="heading-link" aria-hidden="true" href="#사용-방법">사용 방법</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">messages </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">당신은 친절한 AI 어시스턴트입니다. 항상 존댓말을 사용하고 도움이 되는 답변을 제공하세요.</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""><span style="color:#86E1FC">]</span></span><button type="button" title="Copy code" aria-label="Copy code" data="messages = [
    {
        &#x22;role&#x22;: &#x22;system&#x22;,
        &#x22;content&#x22;: &#x22;당신은 친절한 AI 어시스턴트입니다. 항상 존댓말을 사용하고 도움이 되는 답변을 제공하세요.&#x22;
    }
]" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="예시-1-역할-정의"><a class="heading-link" aria-hidden="true" href="#예시-1-역할-정의">예시 1: 역할 정의</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">SYSTEM_PROMPT </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> """</span><span style="color:#C3E88D">당신은 프로그래밍 전문가입니다.</span></span>
<span data-line=""><span style="color:#C3E88D">코드 예시를 제공하고, 버그를 찾아주며, 최적화 방법을 제안합니다.</span></span>
<span data-line=""><span style="color:#C3E88D">답변은 항상 한국어로 작성하세요.</span><span style="color:#86E1FC">"""</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> SYSTEM_PROMPT</span><span style="color:#86E1FC">},</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">Python에서 리스트를 정렬하는 방법을 알려주세요.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">    ],</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="SYSTEM_PROMPT = &#x22;&#x22;&#x22;당신은 프로그래밍 전문가입니다.
코드 예시를 제공하고, 버그를 찾아주며, 최적화 방법을 제안합니다.
답변은 항상 한국어로 작성하세요.&#x22;&#x22;&#x22;

payload = {
    &#x22;model&#x22;: MODEL,
    &#x22;messages&#x22;: [
        {&#x22;role&#x22;: &#x22;system&#x22;, &#x22;content&#x22;: SYSTEM_PROMPT},
        {&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: &#x22;Python에서 리스트를 정렬하는 방법을 알려주세요.&#x22;}
    ],
    &#x22;stream&#x22;: False
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="예시-2-응답-형식-지정"><a class="heading-link" aria-hidden="true" href="#예시-2-응답-형식-지정">예시 2: 응답 형식 지정</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">SYSTEM_PROMPT </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> """</span><span style="color:#C3E88D">사용자의 질문을 분석하여 JSON 형식으로 응답하세요.</span></span>
<span data-line=""><span style="color:#C3E88D">형식: {"category": "카테고리", "answer": "답변"}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C3E88D">카테고리는 다음 중 하나: "기술", "일반", "기타"</span></span>
<span data-line=""><span style="color:#86E1FC">"""</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> SYSTEM_PROMPT</span><span style="color:#86E1FC">},</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">Python이란 무엇인가요?</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">    ],</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">format</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">json</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="SYSTEM_PROMPT = &#x22;&#x22;&#x22;사용자의 질문을 분석하여 JSON 형식으로 응답하세요.
형식: {&#x22;category&#x22;: &#x22;카테고리&#x22;, &#x22;answer&#x22;: &#x22;답변&#x22;}

카테고리는 다음 중 하나: &#x22;기술&#x22;, &#x22;일반&#x22;, &#x22;기타&#x22;
&#x22;&#x22;&#x22;

payload = {
    &#x22;model&#x22;: MODEL,
    &#x22;messages&#x22;: [
        {&#x22;role&#x22;: &#x22;system&#x22;, &#x22;content&#x22;: SYSTEM_PROMPT},
        {&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: &#x22;Python이란 무엇인가요?&#x22;}
    ],
    &#x22;stream&#x22;: False,
    &#x22;format&#x22;: &#x22;json&#x22;
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="예시-3-성격-설정"><a class="heading-link" aria-hidden="true" href="#예시-3-성격-설정">예시 3: 성격 설정</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">SYSTEM_PROMPT </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> """</span><span style="color:#C3E88D">당신은 75세의 불교 스님입니다.</span></span>
<span data-line=""><span style="color:#C3E88D">인자하고 차분한 존댓말을 사용하며, 상대의 마음을 존중하며 공감하는 표현을 사용합니다.</span></span>
<span data-line=""><span style="color:#C3E88D">판단하거나 단정하지 않고, 부드럽게 질문으로 이끌어갑니다.</span><span style="color:#86E1FC">"""</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> SYSTEM_PROMPT</span><span style="color:#86E1FC">},</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">요즘 스트레스를 많이 받고 있어요.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">    ],</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="SYSTEM_PROMPT = &#x22;&#x22;&#x22;당신은 75세의 불교 스님입니다.
인자하고 차분한 존댓말을 사용하며, 상대의 마음을 존중하며 공감하는 표현을 사용합니다.
판단하거나 단정하지 않고, 부드럽게 질문으로 이끌어갑니다.&#x22;&#x22;&#x22;

payload = {
    &#x22;model&#x22;: MODEL,
    &#x22;messages&#x22;: [
        {&#x22;role&#x22;: &#x22;system&#x22;, &#x22;content&#x22;: SYSTEM_PROMPT},
        {&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: &#x22;요즘 스트레스를 많이 받고 있어요.&#x22;}
    ],
    &#x22;stream&#x22;: False
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="role-user---사용자-입력"><a class="heading-link" aria-hidden="true" href="#role-user---사용자-입력">role: "user" - 사용자 입력</a></h3>
<p>사용자가 입력한 메시지를 나타낸다. LLM이 응답해야 할 질문이나 요청을 포함한다.</p>
<h4 id="사용-방법-1"><a class="heading-link" aria-hidden="true" href="#사용-방법-1">사용 방법</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">messages </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">오늘 날씨가 어때요?</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">]</span></span><button type="button" title="Copy code" aria-label="Copy code" data="messages = [
    {&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: &#x22;오늘 날씨가 어때요?&#x22;}
]" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="예시-1-단순-질문"><a class="heading-link" aria-hidden="true" href="#예시-1-단순-질문">예시 1: 단순 질문</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">파이썬에서 딕셔너리를 만드는 방법은?</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">    ],</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="payload = {
    &#x22;model&#x22;: MODEL,
    &#x22;messages&#x22;: [
        {&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: &#x22;파이썬에서 딕셔너리를 만드는 방법은?&#x22;}
    ],
    &#x22;stream&#x22;: False
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="예시-2-복잡한-요청"><a class="heading-link" aria-hidden="true" href="#예시-2-복잡한-요청">예시 2: 복잡한 요청</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span></span>
<span data-line=""><span style="color:#86E1FC">            "</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">            "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">당신은 코드 리뷰 전문가입니다.</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#86E1FC">        },</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span></span>
<span data-line=""><span style="color:#86E1FC">            "</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">            "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> """</span><span style="color:#C3E88D">다음 코드를 리뷰해주세요:</span></span>
<span data-line=""><span style="color:#C3E88D">def calculate_sum(numbers):</span></span>
<span data-line=""><span style="color:#C3E88D">    total = 0</span></span>
<span data-line=""><span style="color:#C3E88D">    for num in numbers:</span></span>
<span data-line=""><span style="color:#C3E88D">        total += num</span></span>
<span data-line=""><span style="color:#C3E88D">    return total</span><span style="color:#86E1FC">"""</span></span>
<span data-line=""><span style="color:#86E1FC">        }</span></span>
<span data-line=""><span style="color:#86E1FC">    ],</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="payload = {
    &#x22;model&#x22;: MODEL,
    &#x22;messages&#x22;: [
        {
            &#x22;role&#x22;: &#x22;system&#x22;,
            &#x22;content&#x22;: &#x22;당신은 코드 리뷰 전문가입니다.&#x22;
        },
        {
            &#x22;role&#x22;: &#x22;user&#x22;,
            &#x22;content&#x22;: &#x22;&#x22;&#x22;다음 코드를 리뷰해주세요:
def calculate_sum(numbers):
    total = 0
    for num in numbers:
        total += num
    return total&#x22;&#x22;&#x22;
        }
    ],
    &#x22;stream&#x22;: False
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="role-assistant---llm-응답"><a class="heading-link" aria-hidden="true" href="#role-assistant---llm-응답">role: "assistant" - LLM 응답</a></h3>
<p>모델이 생성한 응답을 나타낸다. 대화 기록을 유지하거나 Few-shot Learning을 구현할 때 사용한다.</p>
<h4 id="사용-방법-2"><a class="heading-link" aria-hidden="true" href="#사용-방법-2">사용 방법</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">messages </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">assistant</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">안녕하세요! 무엇을 도와드릴까요?</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">]</span></span><button type="button" title="Copy code" aria-label="Copy code" data="messages = [
    {&#x22;role&#x22;: &#x22;assistant&#x22;, &#x22;content&#x22;: &#x22;안녕하세요! 무엇을 도와드릴까요?&#x22;}
]" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="예시-1-대화-기록-유지"><a class="heading-link" aria-hidden="true" href="#예시-1-대화-기록-유지">예시 1: 대화 기록 유지</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">conversation_history </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> []</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> chat_with_history</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">user_input</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> str</span><span style="color:#B4C2F0">)</span><span style="color:#86E1FC"> -></span><span style="color:#FF966C"> str</span><span style="color:#B4C2F0">:</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">당신은 친절한 AI 어시스턴트입니다.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">    ]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    # 이전 대화 기록 추가</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">extend</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">conversation_history</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    # 현재 사용자 입력 추가</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">})</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">    payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> messages</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">    response </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> requests</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">post</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">OLLAMA_URL</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> json</span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5">payload</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> timeout</span><span style="color:#86E1FC">=</span><span style="color:#FF966C">30</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">    result </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> response</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">json</span><span style="color:#86E1FC">()[</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">message</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">][</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    # 대화 기록 업데이트</span></span>
<span data-line=""><span style="color:#C8D3F5">    conversation_history</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">})</span></span>
<span data-line=""><span style="color:#C8D3F5">    conversation_history</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">assistant</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> result</span><span style="color:#86E1FC">})</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> result</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 사용 예시</span></span>
<span data-line=""><span style="color:#65BCFF">print</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">chat_with_history</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">내 이름은 철수야</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">))</span></span>
<span data-line=""><span style="color:#65BCFF">print</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">chat_with_history</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">내 이름이 뭐였지?</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">))</span><span style="color:#858AA6">  # 이전 대화를 기억함</span></span><button type="button" title="Copy code" aria-label="Copy code" data="conversation_history = []

def chat_with_history(user_input: str) -> str:
    messages = [
        {&#x22;role&#x22;: &#x22;system&#x22;, &#x22;content&#x22;: &#x22;당신은 친절한 AI 어시스턴트입니다.&#x22;}
    ]

    # 이전 대화 기록 추가
    messages.extend(conversation_history)

    # 현재 사용자 입력 추가
    messages.append({&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: user_input})

    payload = {
        &#x22;model&#x22;: MODEL,
        &#x22;messages&#x22;: messages,
        &#x22;stream&#x22;: False
    }

    response = requests.post(OLLAMA_URL, json=payload, timeout=30)
    result = response.json()[&#x22;message&#x22;][&#x22;content&#x22;]

    # 대화 기록 업데이트
    conversation_history.append({&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: user_input})
    conversation_history.append({&#x22;role&#x22;: &#x22;assistant&#x22;, &#x22;content&#x22;: result})

    return result

# 사용 예시
print(chat_with_history(&#x22;내 이름은 철수야&#x22;))
print(chat_with_history(&#x22;내 이름이 뭐였지?&#x22;))  # 이전 대화를 기억함" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="예시-2-few-shot-learning"><a class="heading-link" aria-hidden="true" href="#예시-2-few-shot-learning">예시 2: Few-shot Learning</a></h4>
<p>Few-shot Learning은 몇 가지 예시를 제공하여 모델이 원하는 패턴을 학습하도록 하는 기법이다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">messages </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">사용자의 문장을 감정으로 분류하세요.</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#86E1FC">    },</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">오늘 정말 기분이 좋아요!</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#86E1FC">    },</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">assistant</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">긍정</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#86E1FC">    },</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">비가 와서 우울해요.</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#86E1FC">    },</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">assistant</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">부정</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#86E1FC">    },</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">               "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">이 영화는 최고였어요!</span><span style="color:#86E1FC">"</span><span style="color:#858AA6">  # 이 문장의 감정을 분류</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> messages</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="messages = [
    {
        &#x22;role&#x22;: &#x22;system&#x22;,
        &#x22;content&#x22;: &#x22;사용자의 문장을 감정으로 분류하세요.&#x22;
    },
    {
        &#x22;role&#x22;: &#x22;user&#x22;,
        &#x22;content&#x22;: &#x22;오늘 정말 기분이 좋아요!&#x22;
    },
    {
        &#x22;role&#x22;: &#x22;assistant&#x22;,
        &#x22;content&#x22;: &#x22;긍정&#x22;
    },
    {
        &#x22;role&#x22;: &#x22;user&#x22;,
        &#x22;content&#x22;: &#x22;비가 와서 우울해요.&#x22;
    },
    {
        &#x22;role&#x22;: &#x22;assistant&#x22;,
        &#x22;content&#x22;: &#x22;부정&#x22;
    },
    {
        &#x22;role&#x22;: &#x22;user&#x22;,
               &#x22;content&#x22;: &#x22;이 영화는 최고였어요!&#x22;  # 이 문장의 감정을 분류
    }
]

payload = {
    &#x22;model&#x22;: MODEL,
    &#x22;messages&#x22;: messages,
    &#x22;stream&#x22;: False
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="예시-3-대화-맥락-유지"><a class="heading-link" aria-hidden="true" href="#예시-3-대화-맥락-유지">예시 3: 대화 맥락 유지</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> multi_turn_conversation</span><span style="color:#B4C2F0">():</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">당신은 도서관 사서입니다.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">    ]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    # 첫 번째 대화</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">추천 도서를 알려주세요</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">})</span></span>
<span data-line=""><span style="color:#C8D3F5">    response1 </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> requests</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">post</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">OLLAMA_URL</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> json</span><span style="color:#86E1FC">={</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> messages</span><span style="color:#86E1FC">},</span><span style="color:#FCA7EA"> timeout</span><span style="color:#86E1FC">=</span><span style="color:#FF966C">30</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">    assistant_reply1 </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> response1</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">json</span><span style="color:#86E1FC">()[</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">message</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">][</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">assistant</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> assistant_reply1</span><span style="color:#86E1FC">})</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    # 두 번째 대화 (이전 맥락 유지)</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">그 중에서도 과학 소설을 좋아해요</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">})</span></span>
<span data-line=""><span style="color:#C8D3F5">    response2 </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> requests</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">post</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">OLLAMA_URL</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> json</span><span style="color:#86E1FC">={</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> messages</span><span style="color:#86E1FC">},</span><span style="color:#FCA7EA"> timeout</span><span style="color:#86E1FC">=</span><span style="color:#FF966C">30</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">    assistant_reply2 </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> response2</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">json</span><span style="color:#86E1FC">()[</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">message</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">][</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> assistant_reply2</span></span><button type="button" title="Copy code" aria-label="Copy code" data="def multi_turn_conversation():
    messages = [
        {&#x22;role&#x22;: &#x22;system&#x22;, &#x22;content&#x22;: &#x22;당신은 도서관 사서입니다.&#x22;}
    ]

    # 첫 번째 대화
    messages.append({&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: &#x22;추천 도서를 알려주세요&#x22;})
    response1 = requests.post(OLLAMA_URL, json={&#x22;model&#x22;: MODEL, &#x22;messages&#x22;: messages}, timeout=30)
    assistant_reply1 = response1.json()[&#x22;message&#x22;][&#x22;content&#x22;]
    messages.append({&#x22;role&#x22;: &#x22;assistant&#x22;, &#x22;content&#x22;: assistant_reply1})

    # 두 번째 대화 (이전 맥락 유지)
    messages.append({&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: &#x22;그 중에서도 과학 소설을 좋아해요&#x22;})
    response2 = requests.post(OLLAMA_URL, json={&#x22;model&#x22;: MODEL, &#x22;messages&#x22;: messages}, timeout=30)
    assistant_reply2 = response2.json()[&#x22;message&#x22;][&#x22;content&#x22;]

    return assistant_reply2" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="완전한-예시"><a class="heading-link" aria-hidden="true" href="#완전한-예시">완전한 예시</a></h2>
<h3 id="대화형-챗봇-구현"><a class="heading-link" aria-hidden="true" href="#대화형-챗봇-구현">대화형 챗봇 구현</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> requests</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> json</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">OLLAMA_URL </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">http://localhost:11434/api/chat</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">MODEL </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">llama3.2:latest</span><span style="color:#86E1FC">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">SYSTEM_PROMPT </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> """</span><span style="color:#C3E88D">당신은 친절한 AI 어시스턴트입니다.</span></span>
<span data-line=""><span style="color:#C3E88D">항상 존댓말을 사용하고, 도움이 되는 답변을 제공하세요.</span><span style="color:#86E1FC">"""</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> chat_bot</span><span style="color:#B4C2F0">():</span></span>
<span data-line=""><span style="color:#C8D3F5">    conversation_history </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> []</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#65BCFF">    print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">챗봇을 시작합니다. 'quit'를 입력하면 종료됩니다.</span><span style="color:#86E1FC">\n"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">    while</span><span style="color:#FF98A4"> True</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#C8D3F5">        user_input </span><span style="color:#86E1FC">=</span><span style="color:#65BCFF"> input</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">사용자> </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">).</span><span style="color:#C8D3F5">strip</span><span style="color:#86E1FC">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">        if</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">lower</span><span style="color:#86E1FC">()</span><span style="color:#86E1FC"> in</span><span style="color:#86E1FC"> (</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">quit</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">exit</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">종료</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">):</span></span>
<span data-line=""><span style="color:#65BCFF">            print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">챗봇을 종료합니다.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#86E1FC">            break</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">        # 메시지 구성</span></span>
<span data-line=""><span style="color:#C8D3F5">        messages </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">            {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> SYSTEM_PROMPT</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">        ]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">        # 대화 기록 추가</span></span>
<span data-line=""><span style="color:#C8D3F5">        messages</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">extend</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">conversation_history</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">        # 현재 사용자 입력 추가</span></span>
<span data-line=""><span style="color:#C8D3F5">        messages</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">})</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">        # API 호출</span></span>
<span data-line=""><span style="color:#C8D3F5">        payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">            "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">            "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> messages</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">            "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span></span>
<span data-line=""><span style="color:#86E1FC">        }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">        try:</span></span>
<span data-line=""><span style="color:#C8D3F5">            response </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> requests</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">post</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">OLLAMA_URL</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> json</span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5">payload</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> timeout</span><span style="color:#86E1FC">=</span><span style="color:#FF966C">30</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">            response</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">raise_for_status</span><span style="color:#86E1FC">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">            assistant_reply </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> response</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">json</span><span style="color:#86E1FC">()[</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">message</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">][</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">            # 대화 기록 업데이트</span></span>
<span data-line=""><span style="color:#C8D3F5">            conversation_history</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">})</span></span>
<span data-line=""><span style="color:#C8D3F5">            conversation_history</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">assistant</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> assistant_reply</span><span style="color:#86E1FC">})</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">            # 최근 20개 대화만 유지</span></span>
<span data-line=""><span style="color:#86E1FC">            if</span><span style="color:#65BCFF"> len</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">conversation_history</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> ></span><span style="color:#FF966C"> 20</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#C8D3F5">                conversation_history </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> conversation_history</span><span style="color:#86E1FC">[-</span><span style="color:#FF966C">20</span><span style="color:#86E1FC">:]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#65BCFF">            print</span><span style="color:#86E1FC">(</span><span style="color:#C099FF">f</span><span style="color:#C3E88D">"봇> </span><span style="color:#FF98A4">{</span><span style="color:#C8D3F5">assistant_reply</span><span style="color:#FF98A4">}</span><span style="color:#86E1FC">\n</span><span style="color:#C3E88D">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">        except</span><span style="color:#C8D3F5"> requests</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">exceptions</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">RequestException </span><span style="color:#86E1FC">as</span><span style="color:#C8D3F5"> e</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#65BCFF">            print</span><span style="color:#86E1FC">(</span><span style="color:#C099FF">f</span><span style="color:#C3E88D">"오류 발생: </span><span style="color:#FF98A4">{</span><span style="color:#C8D3F5">e</span><span style="color:#FF98A4">}</span><span style="color:#86E1FC">\n</span><span style="color:#C3E88D">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">if</span><span style="color:#C8D3F5"> __name__ </span><span style="color:#86E1FC">==</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">__main__</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#C8D3F5">    chat_bot</span><span style="color:#86E1FC">()</span></span><button type="button" title="Copy code" aria-label="Copy code" data="import requests
import json

OLLAMA_URL = &#x22;http://localhost:11434/api/chat&#x22;
MODEL = &#x22;llama3.2:latest&#x22;

SYSTEM_PROMPT = &#x22;&#x22;&#x22;당신은 친절한 AI 어시스턴트입니다.
항상 존댓말을 사용하고, 도움이 되는 답변을 제공하세요.&#x22;&#x22;&#x22;

def chat_bot():
    conversation_history = []

    print(&#x22;챗봇을 시작합니다. &#x27;quit&#x27;를 입력하면 종료됩니다.\n&#x22;)

    while True:
        user_input = input(&#x22;사용자> &#x22;).strip()

        if user_input.lower() in (&#x22;quit&#x22;, &#x22;exit&#x22;, &#x22;종료&#x22;):
            print(&#x22;챗봇을 종료합니다.&#x22;)
            break

        # 메시지 구성
        messages = [
            {&#x22;role&#x22;: &#x22;system&#x22;, &#x22;content&#x22;: SYSTEM_PROMPT}
        ]

        # 대화 기록 추가
        messages.extend(conversation_history)

        # 현재 사용자 입력 추가
        messages.append({&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: user_input})

        # API 호출
        payload = {
            &#x22;model&#x22;: MODEL,
            &#x22;messages&#x22;: messages,
            &#x22;stream&#x22;: False
        }

        try:
            response = requests.post(OLLAMA_URL, json=payload, timeout=30)
            response.raise_for_status()

            assistant_reply = response.json()[&#x22;message&#x22;][&#x22;content&#x22;]

            # 대화 기록 업데이트
            conversation_history.append({&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: user_input})
            conversation_history.append({&#x22;role&#x22;: &#x22;assistant&#x22;, &#x22;content&#x22;: assistant_reply})

            # 최근 20개 대화만 유지
            if len(conversation_history) > 20:
                conversation_history = conversation_history[-20:]

            print(f&#x22;봇> {assistant_reply}\n&#x22;)

        except requests.exceptions.RequestException as e:
            print(f&#x22;오류 발생: {e}\n&#x22;)

if __name__ == &#x22;__main__&#x22;:
    chat_bot()" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="기타-payload-옵션"><a class="heading-link" aria-hidden="true" href="#기타-payload-옵션">기타 Payload 옵션</a></h2>
<h3 id="stream-옵션"><a class="heading-link" aria-hidden="true" href="#stream-옵션">stream 옵션</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> messages</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span><span style="color:#858AA6">  # False: 전체 응답을 한 번에 받음, True: 실시간 스트리밍</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="payload = {
    &#x22;model&#x22;: MODEL,
    &#x22;messages&#x22;: messages,
    &#x22;stream&#x22;: False  # False: 전체 응답을 한 번에 받음, True: 실시간 스트리밍
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="format-옵션"><a class="heading-link" aria-hidden="true" href="#format-옵션">format 옵션</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> messages</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">format</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">json</span><span style="color:#86E1FC">"</span><span style="color:#858AA6">  # JSON 형식으로 응답 받기</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="payload = {
    &#x22;model&#x22;: MODEL,
    &#x22;messages&#x22;: messages,
    &#x22;format&#x22;: &#x22;json&#x22;  # JSON 형식으로 응답 받기
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="options-옵션"><a class="heading-link" aria-hidden="true" href="#options-옵션">options 옵션</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> messages</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">options</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">temperature</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 0.7</span><span style="color:#86E1FC">,</span><span style="color:#858AA6">  # 창의성 조절 (0.0~1.0)</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">top_p</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 0.9</span><span style="color:#86E1FC">,</span><span style="color:#858AA6">       # 토큰 선택 범위</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">top_k</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 40</span><span style="color:#858AA6">         # 상위 K개 토큰만 고려</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="payload = {
    &#x22;model&#x22;: MODEL,
    &#x22;messages&#x22;: messages,
    &#x22;options&#x22;: {
        &#x22;temperature&#x22;: 0.7,  # 창의성 조절 (0.0~1.0)
        &#x22;top_p&#x22;: 0.9,       # 토큰 선택 범위
        &#x22;top_k&#x22;: 40         # 상위 K개 토큰만 고려
    }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="temperature"><a class="heading-link" aria-hidden="true" href="#temperature">temperature</a></h4>
<ul>
<li><strong>용도</strong>: 응답의 창의성과 무작위성을 조절</li>
<li><strong>범위</strong>: 0.0 ~ 1.0 (또는 그 이상)</li>
<li><strong>낮은 값 (0.0~0.3)</strong>: 일관되고 결정적인 답변, 사실 기반 응답에 적합</li>
<li><strong>높은 값 (0.7~1.0)</strong>: 창의적이고 다양한 답변, 창작이나 아이디어 생성에 적합</li>
<li><strong>예시</strong>:
<ul>
<li><code>temperature: 0.0</code>: 정확한 정보 요청 (날짜, 사실 등)</li>
<li><code>temperature: 0.7</code>: 일반적인 대화</li>
<li><code>temperature: 1.0</code>: 창의적 글쓰기, 시나리오 작성</li>
</ul>
</li>
</ul>
<h4 id="top_p-nucleus-sampling"><a class="heading-link" aria-hidden="true" href="#top_p-nucleus-sampling">top_p (Nucleus Sampling)</a></h4>
<ul>
<li><strong>용도</strong>: 확률 분포에서 상위 토큰들을 선택하는 범위를 제한</li>
<li><strong>범위</strong>: 0.0 ~ 1.0</li>
<li><strong>작동 방식</strong>: 누적 확률이 top_p 값에 도달할 때까지의 토큰만 고려</li>
<li><strong>낮은 값 (0.1~0.5)</strong>: 더 집중적이고 일관된 답변, 상위 확률 토큰만 선택</li>
<li><strong>높은 값 (0.9~1.0)</strong>: 더 다양한 답변, 넓은 범위의 토큰 고려</li>
<li><strong>장점</strong>:
<ul>
<li>낮은 확률의 이상한 토큰을 제외하여 품질 향상</li>
<li>temperature와 함께 사용하면 더 나은 제어 가능</li>
</ul>
</li>
<li><strong>예시</strong>:
<ul>
<li><code>top_p: 0.1</code>: 매우 집중적인 답변 (기술 문서, 코드 등)</li>
<li><code>top_p: 0.9</code>: 균형잡힌 답변 (일반 대화)</li>
<li><code>top_p: 1.0</code>: 모든 토큰 고려 (최대 다양성)</li>
</ul>
</li>
</ul>
<h4 id="top_k"><a class="heading-link" aria-hidden="true" href="#top_k">top_k</a></h4>
<ul>
<li><strong>용도</strong>: 다음 토큰 선택 시 고려할 상위 K개 토큰만 제한</li>
<li><strong>범위</strong>: 1 이상의 정수</li>
<li><strong>작동 방식</strong>: 확률이 높은 상위 K개 토큰만 후보로 고려</li>
<li><strong>낮은 값 (1~10)</strong>: 매우 집중적이고 예측 가능한 답변</li>
<li><strong>높은 값 (40~100)</strong>: 더 다양한 답변 가능</li>
<li><strong>장점</strong>:
<ul>
<li>계산 비용 절감 (고려할 토큰 수 제한)</li>
<li>낮은 확률의 이상한 토큰 제외</li>
</ul>
</li>
<li><strong>예시</strong>:
<ul>
<li><code>top_k: 1</code>: 항상 가장 확률 높은 토큰만 선택 (매우 결정적)</li>
<li><code>top_k: 40</code>: 상위 40개 토큰 중에서 선택 (균형잡힌 다양성)</li>
<li><code>top_k: 100</code>: 상위 100개 토큰 고려 (높은 다양성)</li>
</ul>
</li>
</ul>
<h4 id="옵션-조합-예시"><a class="heading-link" aria-hidden="true" href="#옵션-조합-예시">옵션 조합 예시</a></h4>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># 정확한 정보 요청 (날짜, 사실 등)</span></span>
<span data-line=""><span style="color:#C8D3F5">options </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">temperature</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 0.0</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">top_p</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 0.1</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">top_k</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 10</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 일반적인 대화</span></span>
<span data-line=""><span style="color:#C8D3F5">options </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">temperature</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 0.7</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">top_p</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 0.9</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">top_k</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 40</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 창의적 글쓰기</span></span>
<span data-line=""><span style="color:#C8D3F5">options </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">temperature</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 1.0</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">top_p</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 0.95</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">top_k</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 100</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 코드 생성 (일관성 중시)</span></span>
<span data-line=""><span style="color:#C8D3F5">options </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">temperature</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 0.2</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">top_p</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 0.5</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">top_k</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> 20</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# 정확한 정보 요청 (날짜, 사실 등)
options = {
    &#x22;temperature&#x22;: 0.0,
    &#x22;top_p&#x22;: 0.1,
    &#x22;top_k&#x22;: 10
}

# 일반적인 대화
options = {
    &#x22;temperature&#x22;: 0.7,
    &#x22;top_p&#x22;: 0.9,
    &#x22;top_k&#x22;: 40
}

# 창의적 글쓰기
options = {
    &#x22;temperature&#x22;: 1.0,
    &#x22;top_p&#x22;: 0.95,
    &#x22;top_k&#x22;: 100
}

# 코드 생성 (일관성 중시)
options = {
    &#x22;temperature&#x22;: 0.2,
    &#x22;top_p&#x22;: 0.5,
    &#x22;top_k&#x22;: 20
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="top_p-vs-top_k"><a class="heading-link" aria-hidden="true" href="#top_p-vs-top_k">top_p vs top_k</a></h4>
<ul>
<li><strong>top_p</strong>: 확률 기반 선택 (누적 확률 기준)</li>
<li><strong>top_k</strong>: 개수 기반 선택 (상위 K개만 고려)</li>
<li><strong>함께 사용</strong>: 두 옵션을 함께 사용하면 더 정밀한 제어 가능
<ul>
<li>예: <code>top_k: 40</code>과 <code>top_p: 0.9</code>를 함께 사용하면 상위 40개 중에서 누적 확률 0.9에 해당하는 토큰만 선택</li>
</ul>
</li>
</ul>
<h2 id="주의사항"><a class="heading-link" aria-hidden="true" href="#주의사항">주의사항</a></h2>
<ol>
<li><strong>role 순서</strong>: 일반적으로 <code>system</code> → <code>user</code> → <code>assistant</code> → <code>user</code> → ... 순서로 구성</li>
<li><strong>대화 기록 관리</strong>: 대화가 길어지면 메모리 사용량이 증가하므로 최근 N개만 유지</li>
<li><strong>에러 처리</strong>: 네트워크 오류나 타임아웃에 대한 예외 처리 필요</li>
<li><strong>시스템 프롬프트</strong>: 명확하고 구체적인 시스템 프롬프트가 더 나은 결과를 만든다</li>
</ol>
<h2 id="참고-자료"><a class="heading-link" aria-hidden="true" href="#참고-자료">참고 자료</a></h2>
<ul>
<li><a href="https://ollama.ai">Ollama 공식 웹사이트</a></li>
<li><a href="https://github.com/ollama/ollama/blob/main/docs/api.md">Ollama API 문서</a></li>
<li><a href="https://github.com/ollama/ollama/blob/main/docs/api.md#chat">Ollama API Reference - Chat</a></li>
<li><a href="https://github.com/ollama/ollama">Ollama GitHub 저장소</a></li>
<li><a href="https://ollama.ai/library">Ollama 모델 라이브러리</a></li>
</ul>1f:["$","$L18","AI/LLM/ollama-python",{"post":{"metadata":{"title":"Ollama Python 사용법","summary":"Python에서 Ollama API를 사용하는 방법을 설명한다. payload 옵션, 특히 role 옵션의 종류와 사용법, 예시를 정리한다.","locale":"ko","createdAt":"2026-01-08T16:39:51.000Z","updatedAt":"2026-01-08T16:39:51.000Z"},"slug":"AI/LLM/ollama-python","source":"$29","type":"markdown","notebookData":"$undefined","parentFolder":"LLM"},"locale":"ko","delay":0.38000000000000006}]
2a:Tdd39,<h2 id="개요"><a class="heading-link" aria-hidden="true" href="#개요">개요</a></h2>
<p>Ollama를 사용한 로컬 LLM과 Python을 통해 아두이노를 제어할 수 있다. LLM이 사용자의 입력을 분석하고, 그 결과를 시리얼 통신으로 아두이노에 전달하여 하드웨어를 제어한다.</p>
<h2 id="시스템-구조"><a class="heading-link" aria-hidden="true" href="#시스템-구조">시스템 구조</a></h2>
<pre><code>사용자 입력 → Python (Ollama API) → LLM 분석 → 시리얼 통신 → Arduino
</code></pre>
<ol>
<li><strong>Python 스크립트</strong>: 사용자 입력을 받아 Ollama API를 호출</li>
<li><strong>Ollama LLM</strong>: 로컬에서 실행되는 대규모 언어 모델</li>
<li><strong>시리얼 통신</strong>: Python과 아두이노 간 데이터 전송</li>
<li><strong>Arduino</strong>: 하드웨어 제어</li>
</ol>
<h2 id="사전-준비"><a class="heading-link" aria-hidden="true" href="#사전-준비">사전 준비</a></h2>
<h3 id="1-ollama-설치-및-모델-다운로드"><a class="heading-link" aria-hidden="true" href="#1-ollama-설치-및-모델-다운로드">1. Ollama 설치 및 모델 다운로드</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="bash" data-theme="moonlight-ii"><code data-language="bash" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># Ollama 설치 (https://ollama.ai)</span></span>
<span data-line=""><span style="color:#858AA6"># 모델 다운로드</span></span>
<span data-line=""><span style="color:#FFC777">ollama</span><span style="color:#C3E88D"> pull</span><span style="color:#C3E88D"> llama3.2:latest</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# Ollama 설치 (https://ollama.ai)
# 모델 다운로드
ollama pull llama3.2:latest" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="2-python-라이브러리-설치"><a class="heading-link" aria-hidden="true" href="#2-python-라이브러리-설치">2. Python 라이브러리 설치</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="bash" data-theme="moonlight-ii"><code data-language="bash" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#FFC777">pip</span><span style="color:#C3E88D"> install</span><span style="color:#C3E88D"> requests</span><span style="color:#C3E88D"> pyserial</span></span><button type="button" title="Copy code" aria-label="Copy code" data="pip install requests pyserial" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="3-arduino-시리얼-통신-준비"><a class="heading-link" aria-hidden="true" href="#3-arduino-시리얼-통신-준비">3. Arduino 시리얼 통신 준비</a></h3>
<p>아두이노는 시리얼 통신을 통해 명령을 받을 수 있도록 설정되어 있어야 한다.</p>
<h2 id="python-코드"><a class="heading-link" aria-hidden="true" href="#python-코드">Python 코드</a></h2>
<h3 id="기본-구조"><a class="heading-link" aria-hidden="true" href="#기본-구조">기본 구조</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> requests</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> json</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> serial</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> time</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># Ollama 설정</span></span>
<span data-line=""><span style="color:#C8D3F5">OLLAMA_URL </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">http://localhost:11434/api/chat</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">MODEL </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">llama3.2:latest</span><span style="color:#86E1FC">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 시리얼 통신 설정</span></span>
<span data-line=""><span style="color:#C8D3F5">SERIAL_PORT </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">/dev/ttyACM0</span><span style="color:#86E1FC">"</span><span style="color:#858AA6">  # Linux/Mac</span></span>
<span data-line=""><span style="color:#858AA6"># SERIAL_PORT = "COM3"        # Windows</span></span>
<span data-line=""><span style="color:#C8D3F5">BAUD </span><span style="color:#86E1FC">=</span><span style="color:#FF966C"> 9600</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 시스템 프롬프트: LLM이 아두이노 제어 명령을 생성하도록 지시</span></span>
<span data-line=""><span style="color:#C8D3F5">SYSTEM_PROMPT </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> """</span><span style="color:#C3E88D">사용자의 요청을 분석하여 아두이노 제어 명령을 생성하세요.</span></span>
<span data-line=""><span style="color:#C3E88D">명령 형식: LED_ON, LED_OFF, MOTOR_START, MOTOR_STOP 등</span></span>
<span data-line=""><span style="color:#C3E88D">JSON 형식으로 응답하세요: {"command": "명령어", "reply": "사용자에게 보여줄 응답"}</span></span>
<span data-line=""><span style="color:#86E1FC">"""</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> call_ollama</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">user_input</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> str</span><span style="color:#B4C2F0">)</span><span style="color:#86E1FC"> -></span><span style="color:#FF966C"> dict</span><span style="color:#B4C2F0">:</span></span>
<span data-line=""><span style="color:#86E1FC">    """</span><span style="color:#858AA6">Ollama API를 호출하여 응답을 받는다.</span><span style="color:#86E1FC">"""</span></span>
<span data-line=""><span style="color:#C8D3F5">    payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#858AA6">            # role 옵션: "system" (시스템 프롬프트), "user" (사용자 입력), "assistant" (LLM 응답)</span></span>
<span data-line=""><span style="color:#86E1FC">            {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> SYSTEM_PROMPT</span><span style="color:#86E1FC">},</span><span style="color:#858AA6">  # 시스템 프롬프트: LLM의 역할과 동작 방식 정의</span></span>
<span data-line=""><span style="color:#86E1FC">            {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">}</span><span style="color:#858AA6">         # 사용자 입력</span></span>
<span data-line=""><span style="color:#86E1FC">        ],</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span><span style="color:#86E1FC">,</span><span style="color:#858AA6">      # False: 전체 응답을 한 번에 받음, True: 실시간 스트리밍</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">format</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">json</span><span style="color:#86E1FC">"</span><span style="color:#858AA6">      # JSON 형식으로 응답 받기 (파싱 용이)</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">    response </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> requests</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">post</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">OLLAMA_URL</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> json</span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5">payload</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> timeout</span><span style="color:#86E1FC">=</span><span style="color:#FF966C">30</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">    response</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">raise_for_status</span><span style="color:#86E1FC">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">    content </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> response</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">json</span><span style="color:#86E1FC">()[</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">message</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">][</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> json</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">loads</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">content</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> send_to_arduino</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">ser</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> serial</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">Serial</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> command</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> str</span><span style="color:#B4C2F0">):</span></span>
<span data-line=""><span style="color:#86E1FC">    """</span><span style="color:#858AA6">아두이노에 명령을 전송한다.</span><span style="color:#86E1FC">"""</span></span>
<span data-line=""><span style="color:#C8D3F5">    ser</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">write</span><span style="color:#86E1FC">((</span><span style="color:#C8D3F5">command </span><span style="color:#86E1FC">+</span><span style="color:#86E1FC"> "\n"</span><span style="color:#86E1FC">).</span><span style="color:#C8D3F5">encode</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">utf-8</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">))</span></span>
<span data-line=""><span style="color:#C8D3F5">    ser</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">flush</span><span style="color:#86E1FC">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> main</span><span style="color:#B4C2F0">():</span></span>
<span data-line=""><span style="color:#858AA6">    # 시리얼 포트 열기</span></span>
<span data-line=""><span style="color:#C8D3F5">    ser </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> serial</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">Serial</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">SERIAL_PORT</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> BAUD</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> timeout</span><span style="color:#86E1FC">=</span><span style="color:#FF966C">1.0</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">    time</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">sleep</span><span style="color:#86E1FC">(</span><span style="color:#FF966C">1.5</span><span style="color:#86E1FC">)</span><span style="color:#858AA6">  # 연결 대기</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#65BCFF">    print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">시스템 준비 완료. 명령을 입력하세요.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">    while</span><span style="color:#FF98A4"> True</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#C8D3F5">        user_input </span><span style="color:#86E1FC">=</span><span style="color:#65BCFF"> input</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"\n</span><span style="color:#C3E88D">입력> </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">).</span><span style="color:#C8D3F5">strip</span><span style="color:#86E1FC">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">        if</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">lower</span><span style="color:#86E1FC">()</span><span style="color:#86E1FC"> in</span><span style="color:#86E1FC"> (</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">quit</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">exit</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">):</span></span>
<span data-line=""><span style="color:#86E1FC">            break</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">        # LLM 호출</span></span>
<span data-line=""><span style="color:#C8D3F5">        result </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> call_ollama</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">user_input</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">        command </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> result</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">get</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">command</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> ""</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">        reply </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> result</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">get</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">reply</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> ""</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">        # 아두이노에 명령 전송</span></span>
<span data-line=""><span style="color:#86E1FC">        if</span><span style="color:#C8D3F5"> command</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#C8D3F5">            send_to_arduino</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">ser</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> command</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#65BCFF">            print</span><span style="color:#86E1FC">(</span><span style="color:#C099FF">f</span><span style="color:#C3E88D">"명령 전송: </span><span style="color:#FF98A4">{</span><span style="color:#C8D3F5">command</span><span style="color:#FF98A4">}</span><span style="color:#C3E88D">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#65BCFF">        print</span><span style="color:#86E1FC">(</span><span style="color:#C099FF">f</span><span style="color:#C3E88D">"응답: </span><span style="color:#FF98A4">{</span><span style="color:#C8D3F5">reply</span><span style="color:#FF98A4">}</span><span style="color:#C3E88D">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">    ser</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">close</span><span style="color:#86E1FC">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">if</span><span style="color:#C8D3F5"> __name__ </span><span style="color:#86E1FC">==</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">__main__</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#C8D3F5">    main</span><span style="color:#86E1FC">()</span></span><button type="button" title="Copy code" aria-label="Copy code" data="import requests
import json
import serial
import time

# Ollama 설정
OLLAMA_URL = &#x22;http://localhost:11434/api/chat&#x22;
MODEL = &#x22;llama3.2:latest&#x22;

# 시리얼 통신 설정
SERIAL_PORT = &#x22;/dev/ttyACM0&#x22;  # Linux/Mac
# SERIAL_PORT = &#x22;COM3&#x22;        # Windows
BAUD = 9600

# 시스템 프롬프트: LLM이 아두이노 제어 명령을 생성하도록 지시
SYSTEM_PROMPT = &#x22;&#x22;&#x22;사용자의 요청을 분석하여 아두이노 제어 명령을 생성하세요.
명령 형식: LED_ON, LED_OFF, MOTOR_START, MOTOR_STOP 등
JSON 형식으로 응답하세요: {&#x22;command&#x22;: &#x22;명령어&#x22;, &#x22;reply&#x22;: &#x22;사용자에게 보여줄 응답&#x22;}
&#x22;&#x22;&#x22;

def call_ollama(user_input: str) -> dict:
    &#x22;&#x22;&#x22;Ollama API를 호출하여 응답을 받는다.&#x22;&#x22;&#x22;
    payload = {
        &#x22;model&#x22;: MODEL,
        &#x22;messages&#x22;: [
            # role 옵션: &#x22;system&#x22; (시스템 프롬프트), &#x22;user&#x22; (사용자 입력), &#x22;assistant&#x22; (LLM 응답)
            {&#x22;role&#x22;: &#x22;system&#x22;, &#x22;content&#x22;: SYSTEM_PROMPT},  # 시스템 프롬프트: LLM의 역할과 동작 방식 정의
            {&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: user_input}         # 사용자 입력
        ],
        &#x22;stream&#x22;: False,      # False: 전체 응답을 한 번에 받음, True: 실시간 스트리밍
        &#x22;format&#x22;: &#x22;json&#x22;      # JSON 형식으로 응답 받기 (파싱 용이)
    }

    response = requests.post(OLLAMA_URL, json=payload, timeout=30)
    response.raise_for_status()

    content = response.json()[&#x22;message&#x22;][&#x22;content&#x22;]
    return json.loads(content)

def send_to_arduino(ser: serial.Serial, command: str):
    &#x22;&#x22;&#x22;아두이노에 명령을 전송한다.&#x22;&#x22;&#x22;
    ser.write((command + &#x22;\n&#x22;).encode(&#x22;utf-8&#x22;))
    ser.flush()

def main():
    # 시리얼 포트 열기
    ser = serial.Serial(SERIAL_PORT, BAUD, timeout=1.0)
    time.sleep(1.5)  # 연결 대기

    print(&#x22;시스템 준비 완료. 명령을 입력하세요.&#x22;)

    while True:
        user_input = input(&#x22;\n입력> &#x22;).strip()

        if user_input.lower() in (&#x22;quit&#x22;, &#x22;exit&#x22;):
            break

        # LLM 호출
        result = call_ollama(user_input)
        command = result.get(&#x22;command&#x22;, &#x22;&#x22;)
        reply = result.get(&#x22;reply&#x22;, &#x22;&#x22;)

        # 아두이노에 명령 전송
        if command:
            send_to_arduino(ser, command)
            print(f&#x22;명령 전송: {command}&#x22;)

        print(f&#x22;응답: {reply}&#x22;)

    ser.close()

if __name__ == &#x22;__main__&#x22;:
    main()" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="arduino-코드-예시"><a class="heading-link" aria-hidden="true" href="#arduino-코드-예시">Arduino 코드 예시</a></h2>
<p>아두이노는 시리얼 통신으로 명령을 받아 처리한다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="cpp" data-theme="moonlight-ii"><code data-language="cpp" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> setup</span><span style="color:#86E1FC">()</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">begin</span><span style="color:#86E1FC">(</span><span style="color:#FF966C">9600</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#82AAFF">  pinMode</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">LED_BUILTIN</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> OUTPUT</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> loop</span><span style="color:#86E1FC">()</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">  if</span><span style="color:#86E1FC"> (</span><span style="color:#FFC777">Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">available</span><span style="color:#86E1FC">()</span><span style="color:#86E1FC"> ></span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#B4C2F0">    String command </span><span style="color:#86E1FC">=</span><span style="color:#FFC777"> Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">readStringUntil</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">'\n'</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">    command</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">trim</span><span style="color:#86E1FC">();</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">    if</span><span style="color:#86E1FC"> (</span><span style="color:#B4C2F0">command </span><span style="color:#86E1FC">==</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">LED_ON</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#82AAFF">      digitalWrite</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">LED_BUILTIN</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> HIGH</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">LED 켜짐</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""><span style="color:#86E1FC">    else</span><span style="color:#86E1FC"> if</span><span style="color:#86E1FC"> (</span><span style="color:#B4C2F0">command </span><span style="color:#86E1FC">==</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">LED_OFF</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#82AAFF">      digitalWrite</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">LED_BUILTIN</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> LOW</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">LED 꺼짐</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""><span style="color:#86E1FC">    else</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">알 수 없는 명령</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="void setup() {
  Serial.begin(9600);
  pinMode(LED_BUILTIN, OUTPUT);
}

void loop() {
  if (Serial.available() > 0) {
    String command = Serial.readStringUntil(&#x27;\n&#x27;);
    command.trim();

    if (command == &#x22;LED_ON&#x22;) {
      digitalWrite(LED_BUILTIN, HIGH);
      Serial.println(&#x22;LED 켜짐&#x22;);
    }
    else if (command == &#x22;LED_OFF&#x22;) {
      digitalWrite(LED_BUILTIN, LOW);
      Serial.println(&#x22;LED 꺼짐&#x22;);
    }
    else {
      Serial.println(&#x22;알 수 없는 명령&#x22;);
    }
  }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="동작-흐름"><a class="heading-link" aria-hidden="true" href="#동작-흐름">동작 흐름</a></h2>
<ol>
<li><strong>사용자 입력</strong>: "LED를 켜줘"</li>
<li><strong>LLM 분석</strong>: Python이 Ollama API를 호출하여 명령 분석</li>
<li><strong>명령 생성</strong>: LLM이 <code>{"command": "LED_ON", "reply": "LED를 켰습니다"}</code> 생성</li>
<li><strong>시리얼 전송</strong>: Python이 "LED_ON" 명령을 아두이노에 전송</li>
<li><strong>하드웨어 제어</strong>: 아두이노가 LED를 켜고 응답 전송</li>
</ol>
<h2 id="고급-기능"><a class="heading-link" aria-hidden="true" href="#고급-기능">고급 기능</a></h2>
<h3 id="대화-기록-유지"><a class="heading-link" aria-hidden="true" href="#대화-기록-유지">대화 기록 유지</a></h3>
<p>LLM이 이전 대화를 기억하도록 대화 기록을 유지할 수 있다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">conversation_history </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> []</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> call_ollama_with_history</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">user_input</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> str</span><span style="color:#B4C2F0">)</span><span style="color:#86E1FC"> -></span><span style="color:#FF966C"> dict</span><span style="color:#B4C2F0">:</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#858AA6">        # role 옵션: "system" (시스템 프롬프트), "user" (사용자 입력), "assistant" (LLM 응답)</span></span>
<span data-line=""><span style="color:#86E1FC">        {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">system</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> SYSTEM_PROMPT</span><span style="color:#86E1FC">}</span><span style="color:#858AA6">  # 시스템 프롬프트: LLM의 역할과 동작 방식 정의</span></span>
<span data-line=""><span style="color:#86E1FC">    ]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    # 대화 기록 추가</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">extend</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">conversation_history</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">    messages</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">})</span><span style="color:#858AA6">  # 사용자 입력 추가</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">    payload </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">model</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> MODEL</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">messages</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> messages</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">stream</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#FF98A4"> False</span><span style="color:#86E1FC">,</span><span style="color:#858AA6">      # False: 전체 응답을 한 번에 받음, True: 실시간 스트리밍</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">format</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">json</span><span style="color:#86E1FC">"</span><span style="color:#858AA6">      # JSON 형식으로 응답 받기 (파싱 용이)</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">    response </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> requests</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">post</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">OLLAMA_URL</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> json</span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5">payload</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> timeout</span><span style="color:#86E1FC">=</span><span style="color:#FF966C">30</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#C8D3F5">    result </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> json</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">loads</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">response</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">json</span><span style="color:#86E1FC">()[</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">message</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">][</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">])</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    # 대화 기록 업데이트</span></span>
<span data-line=""><span style="color:#C8D3F5">    conversation_history</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">user</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> user_input</span><span style="color:#86E1FC">})</span><span style="color:#858AA6">  # 사용자 입력 저장</span></span>
<span data-line=""><span style="color:#C8D3F5">    conversation_history</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">append</span><span style="color:#86E1FC">({</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">role</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">assistant</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">content</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#C8D3F5"> result</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">get</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">reply</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> ""</span><span style="color:#86E1FC">)})</span><span style="color:#858AA6">  # LLM 응답 저장</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    # 최대 20개 대화만 유지</span></span>
<span data-line=""><span style="color:#86E1FC">    if</span><span style="color:#65BCFF"> len</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">conversation_history</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> ></span><span style="color:#FF966C"> 20</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#C8D3F5">        conversation_history </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> conversation_history</span><span style="color:#86E1FC">[-</span><span style="color:#FF966C">20</span><span style="color:#86E1FC">:]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> result</span></span><button type="button" title="Copy code" aria-label="Copy code" data="conversation_history = []

def call_ollama_with_history(user_input: str) -> dict:
    messages = [
        # role 옵션: &#x22;system&#x22; (시스템 프롬프트), &#x22;user&#x22; (사용자 입력), &#x22;assistant&#x22; (LLM 응답)
        {&#x22;role&#x22;: &#x22;system&#x22;, &#x22;content&#x22;: SYSTEM_PROMPT}  # 시스템 프롬프트: LLM의 역할과 동작 방식 정의
    ]

    # 대화 기록 추가
    messages.extend(conversation_history)
    messages.append({&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: user_input})  # 사용자 입력 추가

    payload = {
        &#x22;model&#x22;: MODEL,
        &#x22;messages&#x22;: messages,
        &#x22;stream&#x22;: False,      # False: 전체 응답을 한 번에 받음, True: 실시간 스트리밍
        &#x22;format&#x22;: &#x22;json&#x22;      # JSON 형식으로 응답 받기 (파싱 용이)
    }

    response = requests.post(OLLAMA_URL, json=payload, timeout=30)
    result = json.loads(response.json()[&#x22;message&#x22;][&#x22;content&#x22;])

    # 대화 기록 업데이트
    conversation_history.append({&#x22;role&#x22;: &#x22;user&#x22;, &#x22;content&#x22;: user_input})  # 사용자 입력 저장
    conversation_history.append({&#x22;role&#x22;: &#x22;assistant&#x22;, &#x22;content&#x22;: result.get(&#x22;reply&#x22;, &#x22;&#x22;)})  # LLM 응답 저장

    # 최대 20개 대화만 유지
    if len(conversation_history) > 20:
        conversation_history = conversation_history[-20:]

    return result" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="에러-처리"><a class="heading-link" aria-hidden="true" href="#에러-처리">에러 처리</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> safe_call_ollama</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">user_input</span><span style="color:#86E1FC">:</span><span style="color:#FF966C"> str</span><span style="color:#B4C2F0">)</span><span style="color:#86E1FC"> -></span><span style="color:#FF966C"> dict</span><span style="color:#B4C2F0">:</span></span>
<span data-line=""><span style="color:#86E1FC">    try:</span></span>
<span data-line=""><span style="color:#86E1FC">        return</span><span style="color:#C8D3F5"> call_ollama</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">user_input</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#86E1FC">    except</span><span style="color:#C8D3F5"> requests</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">exceptions</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">RequestException </span><span style="color:#86E1FC">as</span><span style="color:#C8D3F5"> e</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#65BCFF">        print</span><span style="color:#86E1FC">(</span><span style="color:#C099FF">f</span><span style="color:#C3E88D">"Ollama 연결 오류: </span><span style="color:#FF98A4">{</span><span style="color:#C8D3F5">e</span><span style="color:#FF98A4">}</span><span style="color:#C3E88D">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#86E1FC">        return</span><span style="color:#86E1FC"> {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">command</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> ""</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">reply</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">연결 오류가 발생했습니다.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">    except</span><span style="color:#C8D3F5"> json</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">JSONDecodeError</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#65BCFF">        print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">JSON 파싱 오류</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#86E1FC">        return</span><span style="color:#86E1FC"> {</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">command</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> ""</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">reply</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">응답을 처리할 수 없습니다.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="def safe_call_ollama(user_input: str) -> dict:
    try:
        return call_ollama(user_input)
    except requests.exceptions.RequestException as e:
        print(f&#x22;Ollama 연결 오류: {e}&#x22;)
        return {&#x22;command&#x22;: &#x22;&#x22;, &#x22;reply&#x22;: &#x22;연결 오류가 발생했습니다.&#x22;}
    except json.JSONDecodeError:
        print(&#x22;JSON 파싱 오류&#x22;)
        return {&#x22;command&#x22;: &#x22;&#x22;, &#x22;reply&#x22;: &#x22;응답을 처리할 수 없습니다.&#x22;}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="주의사항"><a class="heading-link" aria-hidden="true" href="#주의사항">주의사항</a></h2>
<ol>
<li><strong>시리얼 포트 확인</strong>: 시스템에 따라 시리얼 포트 경로가 다를 수 있다
<ul>
<li>Linux/Mac: <code>/dev/ttyACM0</code>, <code>/dev/ttyUSB0</code></li>
<li>Windows: <code>COM3</code>, <code>COM4</code> 등</li>
</ul>
</li>
<li><strong>보드레이트 일치</strong>: Python과 Arduino의 보드레이트가 일치해야 한다</li>
<li><strong>타임아웃 설정</strong>: 시리얼 통신 타임아웃을 적절히 설정</li>
<li><strong>명령 형식</strong>: LLM이 생성하는 명령 형식을 일관되게 유지</li>
</ol>
<h2 id="활용-예시"><a class="heading-link" aria-hidden="true" href="#활용-예시">활용 예시</a></h2>
<ul>
<li><strong>음성 인식 연동</strong>: 음성을 텍스트로 변환 후 LLM 분석</li>
<li><strong>센서 데이터 기반 제어</strong>: 센서 값을 LLM에 전달하여 상황에 맞는 제어</li>
<li><strong>자연어 명령</strong>: "조금 더 밝게", "천천히 움직여" 등 자연어 명령 처리</li>
</ul>
<h2 id="참고-자료"><a class="heading-link" aria-hidden="true" href="#참고-자료">참고 자료</a></h2>
<ul>
<li><a href="https://ollama.ai">Ollama 공식 문서</a></li>
<li><a href="https://pyserial.readthedocs.io/">PySerial 문서</a></li>
<li><a href="https://www.arduino.cc/reference/en/language/functions/communication/serial/">Arduino 시리얼 통신</a></li>
</ul>20:["$","$L18","Arduino/arduino-llm",{"post":{"metadata":{"title":"Arduino를 LLM으로 제어하기","summary":"Ollama를 사용한 로컬 LLM과 Python을 통해 아두이노를 제어하는 방법을 설명한다. 시리얼 통신을 활용한 LLM-아두이노 연동 기법을 정리한다.","locale":"ko","createdAt":"2026-01-08T16:39:51.000Z","updatedAt":"2026-01-08T16:39:51.000Z"},"slug":"Arduino/arduino-llm","source":"$2a","type":"markdown","notebookData":"$undefined","parentFolder":"Arduino"},"locale":"ko","delay":0.43000000000000005}]
2b:T16bdf,<h2 id="모듈-vs-패키지"><a class="heading-link" aria-hidden="true" href="#모듈-vs-패키지">모듈 vs 패키지</a></h2>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># 모듈 (Module): 단일 .py 파일</span></span>
<span data-line=""><span style="color:#858AA6"># math_utils.py</span></span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> add</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">a</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> b</span><span style="color:#B4C2F0">):</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> a </span><span style="color:#86E1FC">+</span><span style="color:#C8D3F5"> b</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 패키지 (Package): __init__.py를 포함한 디렉토리</span></span>
<span data-line=""><span style="color:#858AA6"># mypackage/</span></span>
<span data-line=""><span style="color:#858AA6">#   __init__.py</span></span>
<span data-line=""><span style="color:#858AA6">#   module1.py</span></span>
<span data-line=""><span style="color:#858AA6">#   module2.py</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# 모듈 (Module): 단일 .py 파일
# math_utils.py
def add(a, b):
    return a + b

# 패키지 (Package): __init__.py를 포함한 디렉토리
# mypackage/
#   __init__.py
#   module1.py
#   module2.py" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<table>
<thead>
<tr>
<th>구분</th>
<th>모듈</th>
<th>패키지</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>형태</strong></td>
<td>단일 <code>.py</code> 파일</td>
<td><code>__init__.py</code>를 포함한 디렉토리</td>
</tr>
<tr>
<td><strong>예시</strong></td>
<td><code>math_utils.py</code></td>
<td><code>mypackage/</code></td>
</tr>
<tr>
<td><strong>용도</strong></td>
<td>관련 함수/클래스 그룹화</td>
<td>관련 모듈들을 계층적으로 구성</td>
</tr>
</tbody>
</table>
<h2 id="import-기본-문법"><a class="heading-link" aria-hidden="true" href="#import-기본-문법">import 기본 문법</a></h2>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># 1. 모듈 전체 import</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> math</span></span>
<span data-line=""><span style="color:#C8D3F5">math</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">sqrt</span><span style="color:#86E1FC">(</span><span style="color:#FF966C">16</span><span style="color:#86E1FC">)</span><span style="color:#858AA6">  # 4.0</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 2. 특정 함수/클래스만 import</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> math </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> sqrt</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> pi</span></span>
<span data-line=""><span style="color:#C8D3F5">sqrt</span><span style="color:#86E1FC">(</span><span style="color:#FF966C">16</span><span style="color:#86E1FC">)</span><span style="color:#858AA6">  # 4.0 (math. 접두사 불필요)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 3. 별칭(alias) 사용</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> numpy </span><span style="color:#86E1FC">as</span><span style="color:#C8D3F5"> np</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> datetime </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> datetime </span><span style="color:#86E1FC">as</span><span style="color:#C8D3F5"> dt</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 4. 모든 것 import (권장하지 않음)</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> math </span><span style="color:#86E1FC">import</span><span style="color:#86E1FC"> *</span><span style="color:#858AA6">  # 네임스페이스 오염 위험</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 5. 상대 import (패키지 내부에서)</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module1 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> func1      </span><span style="color:#858AA6"># 같은 패키지</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> ..</span><span style="color:#C8D3F5">parent </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> func2      </span><span style="color:#858AA6"># 상위 패키지</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">subpackage</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">module </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> func3  </span><span style="color:#858AA6"># 하위 패키지</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# 1. 모듈 전체 import
import math
math.sqrt(16)  # 4.0

# 2. 특정 함수/클래스만 import
from math import sqrt, pi
sqrt(16)  # 4.0 (math. 접두사 불필요)

# 3. 별칭(alias) 사용
import numpy as np
from datetime import datetime as dt

# 4. 모든 것 import (권장하지 않음)
from math import *  # 네임스페이스 오염 위험

# 5. 상대 import (패키지 내부에서)
from .module1 import func1      # 같은 패키지
from ..parent import func2      # 상위 패키지
from .subpackage.module import func3  # 하위 패키지" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="패키지-구조-예시"><a class="heading-link" aria-hidden="true" href="#패키지-구조-예시">패키지 구조 예시</a></h2>
<pre><code>mypackage/
├── __init__.py          # 패키지 초기화 파일
├── module1.py
├── module2.py
└── subpackage/
    ├── __init__.py
    └── module3.py
</code></pre>
<h2 id="initpy-파일"><a class="heading-link" aria-hidden="true" href="#initpy-파일"><strong>init</strong>.py 파일</a></h2>
<h3 id="기본-역할"><a class="heading-link" aria-hidden="true" href="#기본-역할">기본 역할</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># mypackage/__init__.py</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 1. 디렉토리를 패키지로 인식시킴 (Python 3.3+ 에서는 선택사항)</span></span>
<span data-line=""><span style="color:#858AA6">#    하지만 명시적으로 작성하는 것이 좋음</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 2. 패키지 초기화 코드 실행</span></span>
<span data-line=""><span style="color:#65BCFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">mypackage가 로드되었습니다</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 3. 패키지 레벨에서 접근 가능한 것들 정의</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module1 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> Class1</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> function1</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module2 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> Class2</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 4. 패키지 버전 등 메타데이터 정의</span></span>
<span data-line=""><span style="color:#C8D3F5">__version__ </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">1.0.0</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">__author__ </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">Your Name</span><span style="color:#86E1FC">"</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# mypackage/__init__.py

# 1. 디렉토리를 패키지로 인식시킴 (Python 3.3+ 에서는 선택사항)
#    하지만 명시적으로 작성하는 것이 좋음

# 2. 패키지 초기화 코드 실행
print(&#x22;mypackage가 로드되었습니다&#x22;)

# 3. 패키지 레벨에서 접근 가능한 것들 정의
from .module1 import Class1, function1
from .module2 import Class2

# 4. 패키지 버전 등 메타데이터 정의
__version__ = &#x22;1.0.0&#x22;
__author__ = &#x22;Your Name&#x22;" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="initpy-활용-예시"><a class="heading-link" aria-hidden="true" href="#initpy-활용-예시"><strong>init</strong>.py 활용 예시</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># mypackage/__init__.py</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 방법 1: 명시적으로 import</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module1 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> Class1</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module2 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> function2</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 사용자가 간단하게 사용 가능</span></span>
<span data-line=""><span style="color:#858AA6"># from mypackage import Class1, function2</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 방법 2: 서브모듈 노출</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#86E1FC"> import</span><span style="color:#C8D3F5"> module1</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#86E1FC"> import</span><span style="color:#C8D3F5"> module2</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 사용자가 사용</span></span>
<span data-line=""><span style="color:#858AA6"># import mypackage</span></span>
<span data-line=""><span style="color:#858AA6"># mypackage.module1.Class1()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 방법 3: 패키지 초기화</span></span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> init_package</span><span style="color:#B4C2F0">():</span></span>
<span data-line=""><span style="color:#86E1FC">    """</span><span style="color:#858AA6">패키지 초기화 함수</span><span style="color:#86E1FC">"""</span></span>
<span data-line=""><span style="color:#65BCFF">    print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">패키지 초기화 중...</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 패키지 import 시 자동 실행</span></span>
<span data-line=""><span style="color:#C8D3F5">init_package</span><span style="color:#86E1FC">()</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# mypackage/__init__.py

# 방법 1: 명시적으로 import
from .module1 import Class1
from .module2 import function2

# 사용자가 간단하게 사용 가능
# from mypackage import Class1, function2

# 방법 2: 서브모듈 노출
from . import module1
from . import module2

# 사용자가 사용
# import mypackage
# mypackage.module1.Class1()

# 방법 3: 패키지 초기화
def init_package():
    &#x22;&#x22;&#x22;패키지 초기화 함수&#x22;&#x22;&#x22;
    print(&#x22;패키지 초기화 중...&#x22;)

# 패키지 import 시 자동 실행
init_package()" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="all-변수"><a class="heading-link" aria-hidden="true" href="#all-변수"><strong>all</strong> 변수</a></h2>
<h3 id="목적-from-package-import--시-제어"><a class="heading-link" aria-hidden="true" href="#목적-from-package-import--시-제어">목적: <code>from package import *</code> 시 제어</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># mypackage/__init__.py</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># __all__이 없으면: 모든 공개 이름이 import됨</span></span>
<span data-line=""><span style="color:#858AA6"># __all__이 있으면: __all__에 명시된 것만 import됨</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">__all__ </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span><span style="color:#86E1FC">'</span><span style="color:#C3E88D">Class1</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> '</span><span style="color:#C3E88D">function1</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> '</span><span style="color:#C3E88D">CONSTANT</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module1 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> Class1</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> Class2  </span><span style="color:#858AA6"># Class2는 __all__에 없음</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module2 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> function1</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> function2  </span><span style="color:#858AA6"># function2는 __all__에 없음</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module3 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> CONSTANT</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 사용 예시</span></span>
<span data-line=""><span style="color:#858AA6"># from mypackage import *  # Class1, function1, CONSTANT만 import됨</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# mypackage/__init__.py

# __all__이 없으면: 모든 공개 이름이 import됨
# __all__이 있으면: __all__에 명시된 것만 import됨

__all__ = [&#x27;Class1&#x27;, &#x27;function1&#x27;, &#x27;CONSTANT&#x27;]

from .module1 import Class1, Class2  # Class2는 __all__에 없음
from .module2 import function1, function2  # function2는 __all__에 없음
from .module3 import CONSTANT

# 사용 예시
# from mypackage import *  # Class1, function1, CONSTANT만 import됨" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="all-사용-예시"><a class="heading-link" aria-hidden="true" href="#all-사용-예시"><strong>all</strong> 사용 예시</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># mypackage/__init__.py</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 공개 API만 명시적으로 정의</span></span>
<span data-line=""><span style="color:#C8D3F5">__all__ </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">    '</span><span style="color:#C3E88D">User</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    '</span><span style="color:#C3E88D">create_user</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    '</span><span style="color:#C3E88D">DEFAULT_CONFIG</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 내부 구현은 숨김</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">models </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> User</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> AdminUser  </span><span style="color:#858AA6"># AdminUser는 공개하지 않음</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">utils </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> create_user</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> _internal_helper  </span><span style="color:#858AA6"># _internal_helper는 숨김</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">config </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> DEFAULT_CONFIG</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> _SECRET_KEY  </span><span style="color:#858AA6"># _SECRET_KEY는 숨김</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 사용자 관점</span></span>
<span data-line=""><span style="color:#858AA6"># from mypackage import *  # User, create_user, DEFAULT_CONFIG만 보임</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# mypackage/__init__.py

# 공개 API만 명시적으로 정의
__all__ = [
    &#x27;User&#x27;,
    &#x27;create_user&#x27;,
    &#x27;DEFAULT_CONFIG&#x27;,
]

# 내부 구현은 숨김
from .models import User, AdminUser  # AdminUser는 공개하지 않음
from .utils import create_user, _internal_helper  # _internal_helper는 숨김
from .config import DEFAULT_CONFIG, _SECRET_KEY  # _SECRET_KEY는 숨김

# 사용자 관점
# from mypackage import *  # User, create_user, DEFAULT_CONFIG만 보임" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="패키지-생성-실전-예시"><a class="heading-link" aria-hidden="true" href="#패키지-생성-실전-예시">패키지 생성 실전 예시</a></h2>
<h3 id="1-기본-패키지-구조"><a class="heading-link" aria-hidden="true" href="#1-기본-패키지-구조">1. 기본 패키지 구조</a></h3>
<pre><code>calculator/
├── __init__.py
├── basic.py
├── advanced.py
└── utils.py
</code></pre>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># calculator/__init__.py</span></span>
<span data-line=""><span style="color:#86E1FC">"""</span><span style="color:#858AA6">간단한 계산기 패키지</span><span style="color:#86E1FC">"""</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">__version__ </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">1.0.0</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">__all__ </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span><span style="color:#86E1FC">'</span><span style="color:#C3E88D">add</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> '</span><span style="color:#C3E88D">subtract</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> '</span><span style="color:#C3E88D">multiply</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> '</span><span style="color:#C3E88D">divide</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> '</span><span style="color:#C3E88D">power</span><span style="color:#86E1FC">'</span><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">basic </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> add</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> subtract</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> multiply</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> divide</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">advanced </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> power</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># calculator/basic.py</span></span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> add</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">a</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> b</span><span style="color:#B4C2F0">):</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> a </span><span style="color:#86E1FC">+</span><span style="color:#C8D3F5"> b</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> subtract</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">a</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> b</span><span style="color:#B4C2F0">):</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> a </span><span style="color:#86E1FC">-</span><span style="color:#C8D3F5"> b</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> multiply</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">a</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> b</span><span style="color:#B4C2F0">):</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> a </span><span style="color:#86E1FC">*</span><span style="color:#C8D3F5"> b</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> divide</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">a</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> b</span><span style="color:#B4C2F0">):</span></span>
<span data-line=""><span style="color:#86E1FC">    if</span><span style="color:#C8D3F5"> b </span><span style="color:#86E1FC">==</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#86E1FC">        raise</span><span style="color:#FF966C"> ValueError</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">0으로 나눌 수 없습니다</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> a </span><span style="color:#86E1FC">/</span><span style="color:#C8D3F5"> b</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># calculator/advanced.py</span></span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> power</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">base</span><span style="color:#86E1FC">,</span><span style="color:#FCA7EA"> exp</span><span style="color:#B4C2F0">):</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> base </span><span style="color:#86E1FC">**</span><span style="color:#C8D3F5"> exp</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 사용 예시</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> calculator </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> add</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> power</span></span>
<span data-line=""><span style="color:#C8D3F5">result </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> add</span><span style="color:#86E1FC">(</span><span style="color:#FF966C">5</span><span style="color:#86E1FC">,</span><span style="color:#FF966C"> 3</span><span style="color:#86E1FC">)</span><span style="color:#858AA6">  # 8</span></span>
<span data-line=""><span style="color:#C8D3F5">result </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> power</span><span style="color:#86E1FC">(</span><span style="color:#FF966C">2</span><span style="color:#86E1FC">,</span><span style="color:#FF966C"> 3</span><span style="color:#86E1FC">)</span><span style="color:#858AA6">  # 8</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# calculator/__init__.py
&#x22;&#x22;&#x22;간단한 계산기 패키지&#x22;&#x22;&#x22;

__version__ = &#x22;1.0.0&#x22;
__all__ = [&#x27;add&#x27;, &#x27;subtract&#x27;, &#x27;multiply&#x27;, &#x27;divide&#x27;, &#x27;power&#x27;]

from .basic import add, subtract, multiply, divide
from .advanced import power

# calculator/basic.py
def add(a, b):
    return a + b

def subtract(a, b):
    return a - b

def multiply(a, b):
    return a * b

def divide(a, b):
    if b == 0:
        raise ValueError(&#x22;0으로 나눌 수 없습니다&#x22;)
    return a / b

# calculator/advanced.py
def power(base, exp):
    return base ** exp

# 사용 예시
from calculator import add, power
result = add(5, 3)  # 8
result = power(2, 3)  # 8" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="2-계층적-패키지-구조"><a class="heading-link" aria-hidden="true" href="#2-계층적-패키지-구조">2. 계층적 패키지 구조</a></h3>
<pre><code>mylib/
├── __init__.py
├── math/
│   ├── __init__.py
│   ├── basic.py
│   └── advanced.py
├── string/
│   ├── __init__.py
│   └── utils.py
└── io/
    ├── __init__.py
    └── file_handler.py
</code></pre>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># mylib/__init__.py</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#86E1FC"> import</span><span style="color:#C8D3F5"> math</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#86E1FC"> import</span><span style="color:#C8D3F5"> string</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#86E1FC"> import</span><span style="color:#C8D3F5"> io</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># mylib/math/__init__.py</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">basic </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> add</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> subtract</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">advanced </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> integrate</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> differentiate</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 사용 예시</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> mylib</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">math </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> add</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> mylib</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">string</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">utils </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> capitalize</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# mylib/__init__.py
from . import math
from . import string
from . import io

# mylib/math/__init__.py
from .basic import add, subtract
from .advanced import integrate, differentiate

# 사용 예시
from mylib.math import add
from mylib.string.utils import capitalize" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="패키지-배포-방법"><a class="heading-link" aria-hidden="true" href="#패키지-배포-방법">패키지 배포 방법</a></h2>
<h3 id="1-기본-파일-구조"><a class="heading-link" aria-hidden="true" href="#1-기본-파일-구조">1. 기본 파일 구조</a></h3>
<pre><code>mypackage/
├── mypackage/          # 실제 패키지 코드
│   ├── __init__.py
│   ├── module1.py
│   └── module2.py
├── tests/              # 테스트 코드
│   └── test_module1.py
├── README.md           # 프로젝트 설명
├── LICENSE             # 라이선스
├── setup.py            # 빌드 설정 (구식 방법)
└── pyproject.toml      # 빌드 설정 (현대적 방법)
</code></pre>
<h3 id="2-pyprojecttoml-설정-권장"><a class="heading-link" aria-hidden="true" href="#2-pyprojecttoml-설정-권장">2. pyproject.toml 설정 (권장)</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="toml" data-theme="moonlight-ii"><code data-language="toml" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#86E1FC">[</span><span style="color:#FFC777">build-system</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">requires </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">setuptools>=61.0</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">wheel</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">build-backend </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">setuptools.build_meta</span><span style="color:#86E1FC">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">[</span><span style="color:#FFC777">project</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">name </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">mypackage</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">version </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">1.0.0</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">description </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">간단한 패키지 설명</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">readme </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">README.md</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">requires-python </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">>=3.8</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">license </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span><span style="color:#C8D3F5">text </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">MIT</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#C8D3F5">authors </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">    {</span><span style="color:#C8D3F5">name </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">Your Name</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> email </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">your.email@example.com</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">}</span></span>
<span data-line=""><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">keywords </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">package</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">example</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">classifiers </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">Programming Language :: Python :: 3</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">License :: OSI Approved :: MIT License</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">Operating System :: OS Independent</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">dependencies </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">requests>=2.28.0</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">[</span><span style="color:#FFC777">project</span><span style="color:#C8D3F5">.</span><span style="color:#FFC777">optional-dependencies</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">dev </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">pytest>=7.0</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    "</span><span style="color:#C3E88D">black>=22.0</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">[</span><span style="color:#FFC777">project</span><span style="color:#C8D3F5">.</span><span style="color:#FFC777">urls</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">Homepage </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">https://github.com/username/mypackage</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">Documentation </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">https://github.com/username/mypackage#readme</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#C8D3F5">Repository </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">https://github.com/username/mypackage</span><span style="color:#86E1FC">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">[</span><span style="color:#FFC777">tool</span><span style="color:#C8D3F5">.</span><span style="color:#FFC777">setuptools</span><span style="color:#C8D3F5">.</span><span style="color:#FFC777">packages</span><span style="color:#C8D3F5">.</span><span style="color:#FFC777">find</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">where </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span>
<span data-line=""><span style="color:#C8D3F5">include </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> [</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">mypackage*</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">]</span></span><button type="button" title="Copy code" aria-label="Copy code" data="[build-system]
requires = [&#x22;setuptools>=61.0&#x22;, &#x22;wheel&#x22;]
build-backend = &#x22;setuptools.build_meta&#x22;

[project]
name = &#x22;mypackage&#x22;
version = &#x22;1.0.0&#x22;
description = &#x22;간단한 패키지 설명&#x22;
readme = &#x22;README.md&#x22;
requires-python = &#x22;>=3.8&#x22;
license = {text = &#x22;MIT&#x22;}
authors = [
    {name = &#x22;Your Name&#x22;, email = &#x22;your.email@example.com&#x22;}
]
keywords = [&#x22;package&#x22;, &#x22;example&#x22;]
classifiers = [
    &#x22;Programming Language :: Python :: 3&#x22;,
    &#x22;License :: OSI Approved :: MIT License&#x22;,
    &#x22;Operating System :: OS Independent&#x22;,
]

dependencies = [
    &#x22;requests>=2.28.0&#x22;,
]

[project.optional-dependencies]
dev = [
    &#x22;pytest>=7.0&#x22;,
    &#x22;black>=22.0&#x22;,
]

[project.urls]
Homepage = &#x22;https://github.com/username/mypackage&#x22;
Documentation = &#x22;https://github.com/username/mypackage#readme&#x22;
Repository = &#x22;https://github.com/username/mypackage&#x22;

[tool.setuptools.packages.find]
where = [&#x22;.&#x22;]
include = [&#x22;mypackage*&#x22;]" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="3-setuppy-설정-구식-방법"><a class="heading-link" aria-hidden="true" href="#3-setuppy-설정-구식-방법">3. setup.py 설정 (구식 방법)</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> setuptools </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> setup</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> find_packages</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">setup</span><span style="color:#86E1FC">(</span></span>
<span data-line=""><span style="color:#FCA7EA">    name</span><span style="color:#86E1FC">=</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">mypackage</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#FCA7EA">    version</span><span style="color:#86E1FC">=</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">1.0.0</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#FCA7EA">    author</span><span style="color:#86E1FC">=</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">Your Name</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#FCA7EA">    author_email</span><span style="color:#86E1FC">=</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">your.email@example.com</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#FCA7EA">    description</span><span style="color:#86E1FC">=</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">간단한 패키지 설명</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#FCA7EA">    long_description</span><span style="color:#86E1FC">=</span><span style="color:#65BCFF">open</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">README.md</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">).</span><span style="color:#C8D3F5">read</span><span style="color:#86E1FC">(),</span></span>
<span data-line=""><span style="color:#FCA7EA">    long_description_content_type</span><span style="color:#86E1FC">=</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">text/markdown</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#FCA7EA">    url</span><span style="color:#86E1FC">=</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">https://github.com/username/mypackage</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#FCA7EA">    packages</span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5">find_packages</span><span style="color:#86E1FC">(),</span></span>
<span data-line=""><span style="color:#FCA7EA">    classifiers</span><span style="color:#86E1FC">=[</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">Programming Language :: Python :: 3</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">License :: OSI Approved :: MIT License</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">Operating System :: OS Independent</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    ],</span></span>
<span data-line=""><span style="color:#FCA7EA">    python_requires</span><span style="color:#86E1FC">=</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">>=3.8</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#FCA7EA">    install_requires</span><span style="color:#86E1FC">=[</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">requests>=2.28.0</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span></span>
<span data-line=""><span style="color:#86E1FC">    ],</span></span>
<span data-line=""><span style="color:#FCA7EA">    extras_require</span><span style="color:#86E1FC">={</span></span>
<span data-line=""><span style="color:#86E1FC">        "</span><span style="color:#C3E88D">dev</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">:</span><span style="color:#86E1FC"> [</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">pytest>=7.0</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">black>=22.0</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">],</span></span>
<span data-line=""><span style="color:#86E1FC">    },</span></span>
<span data-line=""><span style="color:#86E1FC">)</span></span><button type="button" title="Copy code" aria-label="Copy code" data="from setuptools import setup, find_packages

setup(
    name=&#x22;mypackage&#x22;,
    version=&#x22;1.0.0&#x22;,
    author=&#x22;Your Name&#x22;,
    author_email=&#x22;your.email@example.com&#x22;,
    description=&#x22;간단한 패키지 설명&#x22;,
    long_description=open(&#x22;README.md&#x22;).read(),
    long_description_content_type=&#x22;text/markdown&#x22;,
    url=&#x22;https://github.com/username/mypackage&#x22;,
    packages=find_packages(),
    classifiers=[
        &#x22;Programming Language :: Python :: 3&#x22;,
        &#x22;License :: OSI Approved :: MIT License&#x22;,
        &#x22;Operating System :: OS Independent&#x22;,
    ],
    python_requires=&#x22;>=3.8&#x22;,
    install_requires=[
        &#x22;requests>=2.28.0&#x22;,
    ],
    extras_require={
        &#x22;dev&#x22;: [&#x22;pytest>=7.0&#x22;, &#x22;black>=22.0&#x22;],
    },
)" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="4-빌드-및-배포"><a class="heading-link" aria-hidden="true" href="#4-빌드-및-배포">4. 빌드 및 배포</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="bash" data-theme="moonlight-ii"><code data-language="bash" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># 1. 빌드 도구 설치</span></span>
<span data-line=""><span style="color:#FFC777">pip</span><span style="color:#C3E88D"> install</span><span style="color:#C3E88D"> build</span><span style="color:#C3E88D"> twine</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 2. 소스 배포판과 휠 생성</span></span>
<span data-line=""><span style="color:#FFC777">python</span><span style="color:#C3E88D"> -m</span><span style="color:#C3E88D"> build</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 3. 생성된 파일 확인</span></span>
<span data-line=""><span style="color:#858AA6"># dist/</span></span>
<span data-line=""><span style="color:#858AA6">#   ├── mypackage-1.0.0.tar.gz      # 소스 배포판</span></span>
<span data-line=""><span style="color:#858AA6">#   └── mypackage-1.0.0-py3-none-any.whl  # 휠 배포판</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 4. PyPI에 업로드 (테스트 서버)</span></span>
<span data-line=""><span style="color:#FFC777">python</span><span style="color:#C3E88D"> -m</span><span style="color:#C3E88D"> twine</span><span style="color:#C3E88D"> upload</span><span style="color:#C3E88D"> --repository</span><span style="color:#C3E88D"> testpypi</span><span style="color:#C3E88D"> dist/</span><span style="color:#FF757F">*</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 5. PyPI에 업로드 (실제 서버)</span></span>
<span data-line=""><span style="color:#FFC777">python</span><span style="color:#C3E88D"> -m</span><span style="color:#C3E88D"> twine</span><span style="color:#C3E88D"> upload</span><span style="color:#C3E88D"> dist/</span><span style="color:#FF757F">*</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 6. 설치 확인</span></span>
<span data-line=""><span style="color:#FFC777">pip</span><span style="color:#C3E88D"> install</span><span style="color:#C3E88D"> mypackage</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# 1. 빌드 도구 설치
pip install build twine

# 2. 소스 배포판과 휠 생성
python -m build

# 3. 생성된 파일 확인
# dist/
#   ├── mypackage-1.0.0.tar.gz      # 소스 배포판
#   └── mypackage-1.0.0-py3-none-any.whl  # 휠 배포판

# 4. PyPI에 업로드 (테스트 서버)
python -m twine upload --repository testpypi dist/*

# 5. PyPI에 업로드 (실제 서버)
python -m twine upload dist/*

# 6. 설치 확인
pip install mypackage" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h3 id="5-로컬-설치-개발-중"><a class="heading-link" aria-hidden="true" href="#5-로컬-설치-개발-중">5. 로컬 설치 (개발 중)</a></h3>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="bash" data-theme="moonlight-ii"><code data-language="bash" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># 개발 모드로 설치 (코드 변경 시 자동 반영)</span></span>
<span data-line=""><span style="color:#FFC777">pip</span><span style="color:#C3E88D"> install</span><span style="color:#C3E88D"> -e</span><span style="color:#C3E88D"> .</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 또는</span></span>
<span data-line=""><span style="color:#FFC777">pip</span><span style="color:#C3E88D"> install</span><span style="color:#C3E88D"> -e</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">.[dev]</span><span style="color:#86E1FC">"</span><span style="color:#858AA6">  # 개발 의존성 포함</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# 개발 모드로 설치 (코드 변경 시 자동 반영)
pip install -e .

# 또는
pip install -e &#x22;.[dev]&#x22;  # 개발 의존성 포함" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="네임스페이스-패키지-python-33"><a class="heading-link" aria-hidden="true" href="#네임스페이스-패키지-python-33">네임스페이스 패키지 (Python 3.3+)</a></h2>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># __init__.py 없이도 패키지로 인식 가능</span></span>
<span data-line=""><span style="color:#858AA6"># 여러 디렉토리에 분산된 패키지를 하나로 통합</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># site-packages/pkg1/</span></span>
<span data-line=""><span style="color:#858AA6">#   module1.py</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># site-packages/pkg2/</span></span>
<span data-line=""><span style="color:#858AA6">#   module2.py</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 두 디렉토리가 하나의 패키지로 인식됨</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> pkg1</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">module1</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> pkg2</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">module2</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# __init__.py 없이도 패키지로 인식 가능
# 여러 디렉토리에 분산된 패키지를 하나로 통합

# site-packages/pkg1/
#   module1.py

# site-packages/pkg2/
#   module2.py

# 두 디렉토리가 하나의 패키지로 인식됨
import pkg1.module1
import pkg2.module2" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="import-최적화-팁"><a class="heading-link" aria-hidden="true" href="#import-최적화-팁">import 최적화 팁</a></h2>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># 1. 필요한 것만 import</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> math </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> sqrt  </span><span style="color:#858AA6"># 좋음</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> math            </span><span style="color:#858AA6"># 나쁨 (전체 모듈 로드)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 2. 순환 import 방지</span></span>
<span data-line=""><span style="color:#858AA6"># module1.py</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module2 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> func2  </span><span style="color:#858AA6"># 나쁨 (순환 참조 위험)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># module1.py</span></span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> func1</span><span style="color:#B4C2F0">():</span></span>
<span data-line=""><span style="color:#86E1FC">    from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module2 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> func2  </span><span style="color:#858AA6"># 좋음 (지연 import)</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> func2</span><span style="color:#86E1FC">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 3. 조건부 import</span></span>
<span data-line=""><span style="color:#86E1FC">try:</span></span>
<span data-line=""><span style="color:#86E1FC">    import</span><span style="color:#C8D3F5"> numpy </span><span style="color:#86E1FC">as</span><span style="color:#C8D3F5"> np</span></span>
<span data-line=""><span style="color:#C8D3F5">    HAS_NUMPY </span><span style="color:#86E1FC">=</span><span style="color:#FF98A4"> True</span></span>
<span data-line=""><span style="color:#86E1FC">except</span><span style="color:#FF966C"> ImportError</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#C8D3F5">    HAS_NUMPY </span><span style="color:#86E1FC">=</span><span style="color:#FF98A4"> False</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 4. 타입 체크용 import</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> typing </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> TYPE_CHECKING</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">if</span><span style="color:#C8D3F5"> TYPE_CHECKING</span><span style="color:#86E1FC">:</span></span>
<span data-line=""><span style="color:#86E1FC">    from</span><span style="color:#86E1FC"> .</span><span style="color:#C8D3F5">module2 </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> Class2  </span><span style="color:#858AA6"># 타입 체크에만 사용, 런타임에는 로드 안됨</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# 1. 필요한 것만 import
from math import sqrt  # 좋음
import math            # 나쁨 (전체 모듈 로드)

# 2. 순환 import 방지
# module1.py
from .module2 import func2  # 나쁨 (순환 참조 위험)

# module1.py
def func1():
    from .module2 import func2  # 좋음 (지연 import)
    return func2()

# 3. 조건부 import
try:
    import numpy as np
    HAS_NUMPY = True
except ImportError:
    HAS_NUMPY = False

# 4. 타입 체크용 import
from typing import TYPE_CHECKING

if TYPE_CHECKING:
    from .module2 import Class2  # 타입 체크에만 사용, 런타임에는 로드 안됨" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="실전-패턴"><a class="heading-link" aria-hidden="true" href="#실전-패턴">실전 패턴</a></h2>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="python" data-theme="moonlight-ii"><code data-language="python" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6"># 패키지 초기화 시 설정 로드</span></span>
<span data-line=""><span style="color:#858AA6"># mypackage/__init__.py</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> os</span></span>
<span data-line=""><span style="color:#86E1FC">from</span><span style="color:#C8D3F5"> pathlib </span><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> Path</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 패키지 루트 경로</span></span>
<span data-line=""><span style="color:#C8D3F5">PACKAGE_ROOT </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> Path</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">__file__</span><span style="color:#86E1FC">).</span><span style="color:#C8D3F5">parent</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 설정 파일 경로</span></span>
<span data-line=""><span style="color:#C8D3F5">CONFIG_PATH </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> PACKAGE_ROOT </span><span style="color:#86E1FC">/</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">config.json</span><span style="color:#86E1FC">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 리소스 파일 접근</span></span>
<span data-line=""><span style="color:#C099FF">def</span><span style="color:#82AAFF"> get_resource_path</span><span style="color:#B4C2F0">(</span><span style="color:#FCA7EA">relative_path</span><span style="color:#B4C2F0">):</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#C8D3F5"> PACKAGE_ROOT </span><span style="color:#86E1FC">/</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">resources</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC"> /</span><span style="color:#C8D3F5"> relative_path</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 버전 관리</span></span>
<span data-line=""><span style="color:#C8D3F5">__version__ </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">1.0.0</span><span style="color:#86E1FC">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6"># 로깅 설정</span></span>
<span data-line=""><span style="color:#86E1FC">import</span><span style="color:#C8D3F5"> logging</span></span>
<span data-line=""><span style="color:#C8D3F5">logger </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> logging</span><span style="color:#86E1FC">.</span><span style="color:#C8D3F5">getLogger</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">__name__</span><span style="color:#86E1FC">)</span></span><button type="button" title="Copy code" aria-label="Copy code" data="# 패키지 초기화 시 설정 로드
# mypackage/__init__.py
import os
from pathlib import Path

# 패키지 루트 경로
PACKAGE_ROOT = Path(__file__).parent

# 설정 파일 경로
CONFIG_PATH = PACKAGE_ROOT / &#x22;config.json&#x22;

# 리소스 파일 접근
def get_resource_path(relative_path):
    return PACKAGE_ROOT / &#x22;resources&#x22; / relative_path

# 버전 관리
__version__ = &#x22;1.0.0&#x22;

# 로깅 설정
import logging
logger = logging.getLogger(__name__)" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h2 id="패키지-배포-체크리스트"><a class="heading-link" aria-hidden="true" href="#패키지-배포-체크리스트">패키지 배포 체크리스트</a></h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> <code>pyproject.toml</code> 또는 <code>setup.py</code> 작성</li>
<li class="task-list-item"><input type="checkbox" disabled> <code>README.md</code> 작성 (설치 방법, 사용 예시)</li>
<li class="task-list-item"><input type="checkbox" disabled> <code>LICENSE</code> 파일 추가</li>
<li class="task-list-item"><input type="checkbox" disabled> 버전 번호 관리 (<code>__version__</code>)</li>
<li class="task-list-item"><input type="checkbox" disabled> 의존성 명시 (<code>install_requires</code>)</li>
<li class="task-list-item"><input type="checkbox" disabled> 테스트 코드 작성</li>
<li class="task-list-item"><input type="checkbox" disabled> <code>.gitignore</code>에 <code>dist/</code>, <code>build/</code>, <code>*.egg-info/</code> 추가</li>
<li class="task-list-item"><input type="checkbox" disabled> <code>python -m build</code>로 빌드 테스트</li>
<li class="task-list-item"><input type="checkbox" disabled> <code>pip install .</code>로 로컬 설치 테스트</li>
<li class="task-list-item"><input type="checkbox" disabled> PyPI 계정 생성 및 업로드</li>
</ul>21:["$","$L18","Python/package",{"post":{"metadata":{"title":"Python 패키지와 모듈","summary":"import 문법, 패키지 생성, __init__.py, __all__, 패키지 배포 방법 정리","locale":"ko","createdAt":"2026-01-07T08:58:40.000Z","updatedAt":"2026-01-07T08:58:40.000Z"},"slug":"Python/package","source":"$2b","type":"markdown","notebookData":"$undefined","parentFolder":"Python"},"locale":"ko","delay":0.48000000000000004}]
2c:T19382,<h2 id="라이브러리-설치"><a class="heading-link" aria-hidden="true" href="#라이브러리-설치">라이브러리 설치</a></h2>
<p>RFID 리더기 사용을 위해 MFRC522 라이브러리가 필요하다.</p>
<pre><code>Arduino IDE > 스케치 > 라이브러리 포함하기 > 라이브러리 관리
> "MFRC522" 검색 > 설치
</code></pre>
<h2 id="연결-방법"><a class="heading-link" aria-hidden="true" href="#연결-방법">연결 방법</a></h2>
<p>MFRC522 모듈과 아두이노 연결:</p>
<table>
<thead>
<tr>
<th>MFRC522</th>
<th>Arduino</th>
</tr>
</thead>
<tbody>
<tr>
<td>SDA</td>
<td>10</td>
</tr>
<tr>
<td>SCK</td>
<td>13</td>
</tr>
<tr>
<td>MOSI</td>
<td>11</td>
</tr>
<tr>
<td>MISO</td>
<td>12</td>
</tr>
<tr>
<td>RST</td>
<td>9</td>
</tr>
<tr>
<td>3.3V</td>
<td>3.3V (안될시 Vin)</td>
</tr>
<tr>
<td>GND</td>
<td>GND</td>
</tr>
</tbody>
</table>
<h2 id="주요-함수"><a class="heading-link" aria-hidden="true" href="#주요-함수">주요 함수</a></h2>
<ul>
<li>
<p><strong><code>mfrc522.PCD_Init()</code></strong>: MFRC522 RFID 리더기를 초기화하는 함수이다. PCD는 Proximity Coupling Device(근접 결합 장치)의 약자로, RFID 리더기 모듈을 사용하기 전에 반드시 호출해야 한다. 이 함수는 하드웨어를 초기화하고 기본 설정을 구성한다.</p>
</li>
<li>
<p><strong><code>mfrc522.PICC_IsNewCardPresent()</code></strong>: 리더기 근처에 새로운 카드가 있는지 확인하는 함수이다. PICC는 Proximity Integrated Circuit Card(근접 통합 회로 카드)의 약자이다. 카드가 감지되면 <code>true</code>, 없으면 <code>false</code>를 반환한다. <code>loop()</code> 함수에서 주기적으로 호출하여 카드 감지 여부를 확인한다.</p>
</li>
<li>
<p><strong><code>mfrc522.PICC_ReadCardSerial()</code></strong>: 카드의 시리얼 번호(UID)를 읽는 함수이다. 카드가 감지된 후 호출하여 <code>mfrc522.uid</code> 구조체에 UID 정보를 저장한다. 성공하면 <code>true</code>, 실패하면 <code>false</code>를 반환한다. 일반적으로 <code>PICC_IsNewCardPresent()</code> 다음에 호출한다.</p>
</li>
<li>
<p><strong><code>mfrc522.PICC_HaltA()</code></strong>: 현재 인식된 카드를 정지(Halt)시키는 함수이다. 카드와의 통신을 종료하고 카드를 대기 상태로 만든다. 카드 작업이 끝난 후 호출하여 다음 카드 감지를 준비한다. 이 함수를 호출하지 않으면 같은 카드가 계속 감지될 수 있다.</p>
</li>
<li>
<p><strong><code>mfrc522.PCD_StopCrypto1()</code></strong>: 암호화 통신을 종료하는 함수이다. 카드와의 인증된 통신이 끝난 후 호출하여 보안 상태를 해제한다. <code>PICC_HaltA()</code> 다음에 호출하는 것이 일반적이다.</p>
</li>
</ul>
<h2 id="mifare-classic-카드-구조"><a class="heading-link" aria-hidden="true" href="#mifare-classic-카드-구조">MIFARE Classic 카드 구조</a></h2>
<p>MIFARE Classic 카드는 <strong>16개의 섹터</strong>로 구성되어 있으며, 각 섹터는 <strong>4개의 블록</strong>으로 이루어져 있다.</p>
<ul>
<li><strong>총 블록 수</strong>: 64개 (0~63)</li>
<li><strong>섹터 수</strong>: 16개 (0~15)</li>
<li><strong>각 섹터의 블록 수</strong>: 4개</li>
<li><strong>블록 크기</strong>: 16바이트</li>
</ul>
<table>
<thead>
<tr>
<th>섹터</th>
<th>블록 번호</th>
<th>용도</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0~3</td>
<td>블록 0: 제조사 정보 (읽기 전용)</td>
</tr>
<tr>
<td>1</td>
<td>4~7</td>
<td>블록 7: 섹터 트레일러 (키 저장)</td>
</tr>
<tr>
<td>2</td>
<td>8~11</td>
<td>블록 11: 섹터 트레일러</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>15</td>
<td>60~63</td>
<td>블록 63: 섹터 트레일러</td>
</tr>
</tbody>
</table>
<p>각 섹터의 **마지막 블록(3, 7, 11, ..., 63)**은 <strong>섹터 트레일러</strong>로, 키와 접근 권한이 저장된다.</p>
<p>섹터 트레일러 구조 (16바이트) 는 다음과 같은 구조로 되어있다</p>
<pre><code>[키 A (6바이트)] [접근 비트 (4바이트)] [키 B (6바이트)]
</code></pre>
<ul>
<li><strong>키 A</strong>: 0~5번째 바이트</li>
<li><strong>접근 비트</strong>: 6~9번째 바이트</li>
<li><strong>키 B</strong>: 10~15번째 바이트</li>
</ul>
<h3 id="키-a와-키-b"><a class="heading-link" aria-hidden="true" href="#키-a와-키-b">키 A와 키 B</a></h3>
<p>섹터 트레일러에는 두 개의 인증 키가 저장되어 있다. 각 키는 6바이트(48비트)로 구성된다.</p>
<h4 id="키-a-key-a"><a class="heading-link" aria-hidden="true" href="#키-a-key-a">키 A (Key A)</a></h4>
<ul>
<li><strong>용도</strong>: 기본 인증 키로 가장 많이 사용된다</li>
<li><strong>인증 방법</strong>: <code>PICC_CMD_MF_AUTH_KEY_A</code> 사용</li>
<li><strong>기본값</strong>: <code>0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF</code> (6바이트)</li>
<li><strong>특징</strong>:
<ul>
<li>일반적으로 읽기/쓰기 인증에 사용</li>
<li>대부분의 경우 키 A만으로 충분</li>
<li>코드에서 <code>authenticateSector()</code> 함수가 키 A로 인증</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="c++" data-theme="moonlight-ii"><code data-language="c++" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6">// 키 A로 인증하는 예시</span></span>
<span data-line=""><span style="color:#FFC777">MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#C8D3F5">StatusCode status </span><span style="color:#86E1FC">=</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">PCD_Authenticate</span><span style="color:#86E1FC">(</span></span>
<span data-line=""><span style="color:#FFC777">  MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#C8D3F5">PICC_CMD_MF_AUTH_KEY_A</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> trailerBlock</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> &#x26;</span><span style="color:#C8D3F5">key</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> &#x26;(</span><span style="color:#FFC777">mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uid</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#86E1FC">);</span></span><button type="button" title="Copy code" aria-label="Copy code" data="// 키 A로 인증하는 예시
MFRC522::StatusCode status = mfrc522.PCD_Authenticate(
  MFRC522::PICC_CMD_MF_AUTH_KEY_A, trailerBlock, &#x26;key, &#x26;(mfrc522.uid)
);" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="키-b-key-b"><a class="heading-link" aria-hidden="true" href="#키-b-key-b">키 B (Key B)</a></h4>
<ul>
<li><strong>용도</strong>: 추가 보안용 키 또는 특수 기능용 키</li>
<li><strong>인증 방법</strong>: <code>PICC_CMD_MF_AUTH_KEY_B</code> 사용</li>
<li><strong>기본값</strong>: <code>0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF</code> (6바이트)</li>
<li><strong>특징</strong>:
<ul>
<li>접근 비트(Access Bits) 설정에 따라 사용 여부가 결정됨</li>
<li>더 높은 보안이 필요한 경우 사용</li>
<li>값 증가/감소 같은 특수 기능에 사용 가능</li>
<li>접근 비트 설정에 따라 키 B가 읽기 전용이 되거나 사용 불가능할 수 있음</li>
</ul>
</li>
</ul>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="c++" data-theme="moonlight-ii"><code data-language="c++" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#858AA6">// 키 B로 인증하는 예시</span></span>
<span data-line=""><span style="color:#FFC777">MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#C8D3F5">StatusCode status </span><span style="color:#86E1FC">=</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">PCD_Authenticate</span><span style="color:#86E1FC">(</span></span>
<span data-line=""><span style="color:#FFC777">  MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#C8D3F5">PICC_CMD_MF_AUTH_KEY_B</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> trailerBlock</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> &#x26;</span><span style="color:#C8D3F5">key</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> &#x26;(</span><span style="color:#FFC777">mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uid</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#86E1FC">);</span></span><button type="button" title="Copy code" aria-label="Copy code" data="// 키 B로 인증하는 예시
MFRC522::StatusCode status = mfrc522.PCD_Authenticate(
  MFRC522::PICC_CMD_MF_AUTH_KEY_B, trailerBlock, &#x26;key, &#x26;(mfrc522.uid)
);" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<h4 id="키-a와-키-b의-차이"><a class="heading-link" aria-hidden="true" href="#키-a와-키-b의-차이">키 A와 키 B의 차이</a></h4>
<ol>
<li><strong>기본값</strong>: 둘 다 <code>0xFF</code> 6개로 동일하지만, 실제로는 서로 다른 키 값으로 설정 가능</li>
<li><strong>용도</strong>: 키 A는 기본 인증, 키 B는 추가 보안/특수 기능</li>
<li><strong>접근 권한</strong>: 접근 비트 설정에 따라 키 A만 사용하거나 키 B도 함께 사용 가능</li>
<li><strong>실제 사용</strong>: 대부분의 경우 키 A만 사용하며, 키 B는 고급 보안이 필요한 경우에 사용</li>
</ol>
<h4 id="기본-키-설정"><a class="heading-link" aria-hidden="true" href="#기본-키-설정">기본 키 설정</a></h4>
<p>대부분의 MIFARE Classic 카드는 다음 기본 키를 사용한다:</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="c++" data-theme="moonlight-ii"><code data-language="c++" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#C8D3F5">byte </span><span style="color:#FFC777">defaultKeyA</span><span style="color:#86E1FC">[</span><span style="color:#FF966C">6</span><span style="color:#86E1FC">]</span><span style="color:#86E1FC"> =</span><span style="color:#86E1FC"> {</span><span style="color:#FC7B7B">0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">};</span></span>
<span data-line=""><span style="color:#C8D3F5">byte </span><span style="color:#FFC777">defaultKeyB</span><span style="color:#86E1FC">[</span><span style="color:#FF966C">6</span><span style="color:#86E1FC">]</span><span style="color:#86E1FC"> =</span><span style="color:#86E1FC"> {</span><span style="color:#FC7B7B">0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">,</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">};</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 키 초기화</span></span>
<span data-line=""><span style="color:#FFC777">MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#C8D3F5">MIFARE_Key key</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">for</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">byte i </span><span style="color:#86E1FC">=</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#FF966C"> 6</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i</span><span style="color:#86E1FC">++)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">  key</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">keyByte</span><span style="color:#86E1FC">[</span><span style="color:#B4C2F0">i</span><span style="color:#86E1FC">]</span><span style="color:#86E1FC"> =</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">;</span><span style="color:#858AA6">  // 키 A와 키 B 모두 기본값으로 설정</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="byte defaultKeyA[6] = {0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF};
byte defaultKeyB[6] = {0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF};

// 키 초기화
MFRC522::MIFARE_Key key;
for (byte i = 0; i < 6; i++) {
  key.keyByte[i] = 0xFF;  // 키 A와 키 B 모두 기본값으로 설정
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<p><strong>주의</strong>: 기본 키는 보안이 약하므로, 실제 프로덕션 환경에서는 고유한 키로 변경하는 것이 좋다.</p>
<h2 id="주의사항"><a class="heading-link" aria-hidden="true" href="#주의사항">주의사항</a></h2>
<ol>
<li><strong>블록 0은 읽기 전용</strong>: 제조사 정보가 저장되어 있어 수정할 수 없다.</li>
<li><strong>섹터 트레일러 수정 주의</strong>: 키나 접근 비트를 잘못 수정하면 카드를 사용할 수 없게 된다.</li>
<li><strong>인증 필요</strong>: 데이터를 읽거나 쓰기 전에 반드시 인증이 필요하다.</li>
<li><strong>키 관리</strong>: 기본 키 외에 다른 키를 사용하는 경우, 해당 키를 알고 있어야 데이터에 접근할 수 있다.</li>
<li><strong>블록 선택</strong>: 데이터 저장 시 블록 0과 섹터 트레일러는 반드시 피해야 한다.</li>
</ol>
<h2 id="라이브러리"><a class="heading-link" aria-hidden="true" href="#라이브러리">라이브러리</a></h2>
<ul>
<li>RFIDCard.h</li>
</ul>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="c++" data-theme="moonlight-ii"><code data-language="c++" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#86E1FC">#ifndef</span><span style="color:#82AAFF"> RFID_CARD_H</span></span>
<span data-line=""><span style="color:#86E1FC">#define</span><span style="color:#82AAFF"> RFID_CARD_H</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">#include</span><span style="color:#86E1FC"> &#x3C;</span><span style="color:#C3E88D">Arduino.h</span><span style="color:#86E1FC">></span></span>
<span data-line=""><span style="color:#86E1FC">#include</span><span style="color:#86E1FC"> &#x3C;</span><span style="color:#C3E88D">SPI.h</span><span style="color:#86E1FC">></span></span>
<span data-line=""><span style="color:#86E1FC">#include</span><span style="color:#86E1FC"> &#x3C;</span><span style="color:#C3E88D">MFRC522.h</span><span style="color:#86E1FC">></span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// UID 구조체 (리스트에 저장하기 위해)</span></span>
<span data-line=""><span style="color:#C099FF">struct</span><span style="color:#FFC777"> CardUID</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#B4C2F0">  byte </span><span style="color:#FFC777">uidByte</span><span style="color:#86E1FC">[</span><span style="color:#FF966C">10</span><span style="color:#86E1FC">];</span><span style="color:#858AA6">  // 최대 10바이트 (일반적으로 4 또는 7바이트)</span></span>
<span data-line=""><span style="color:#B4C2F0">  byte size</span><span style="color:#86E1FC">;</span><span style="color:#858AA6">         // UID 크기</span></span>
<span data-line=""><span style="color:#86E1FC">};</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// RFID 카드 관리 함수들 (범용 함수)</span></span>
<span data-line=""><span style="color:#858AA6">// MFRC522 객체는 외부에서 전역으로 관리됨</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 초기화 (MFRC522 객체와 키 참조 전달)</span></span>
<span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> initRFIDCard</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#FFC777">MIFARE_Key</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> key</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 카드가 감지되었는지 확인</span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> isCardPresent</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 현재 카드의 UID를 CardUID 구조체로 변환</span></span>
<span data-line=""><span style="color:#FFC777">CardUID</span><span style="color:#82AAFF"> getCurrentCardUID</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 두 UID가 같은지 비교</span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> compareUIDs</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">CardUID</span><span style="color:#FCA7EA"> uid1</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> CardUID</span><span style="color:#FCA7EA"> uid2</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 카드 처리 종료</span></span>
<span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> haltCard</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// UID 출력 (디버깅용)</span></span>
<span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> printUID</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// ============================================</span></span>
<span data-line=""><span style="color:#858AA6">// 안전한 블록 체크 함수</span></span>
<span data-line=""><span style="color:#858AA6">// ============================================</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 안전한 블록인지 확인 (블록 0과 섹터 트레일러 제외)</span></span>
<span data-line=""><span style="color:#858AA6">// blockAddr: 확인할 블록 주소</span></span>
<span data-line=""><span style="color:#858AA6">// 반환값: 안전한 블록이면 true, 아니면 false</span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> isSafeBlock</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">byte</span><span style="color:#FCA7EA"> blockAddr</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 다음 안전한 블록 찾기</span></span>
<span data-line=""><span style="color:#858AA6">// startBlock: 검색을 시작할 블록 주소</span></span>
<span data-line=""><span style="color:#858AA6">// 반환값: 찾은 블록 주소, 없으면 255</span></span>
<span data-line=""><span style="color:#FFC777">byte</span><span style="color:#82AAFF"> findNextSafeBlock</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">byte</span><span style="color:#FCA7EA"> startBlock</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// ============================================</span></span>
<span data-line=""><span style="color:#858AA6">// 범용 블록 읽기/쓰기 함수 (템플릿)</span></span>
<span data-line=""><span style="color:#858AA6">// ============================================</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 섹터 트레일러 블록 주소 계산 (헬퍼 함수)</span></span>
<span data-line=""><span style="color:#FFC777">byte</span><span style="color:#82AAFF"> getTrailerBlock</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">byte</span><span style="color:#FCA7EA"> blockAddr</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 섹터 인증 (헬퍼 함수)</span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> authenticateSector</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#FFC777">MIFARE_Key</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> key</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> byte</span><span style="color:#FCA7EA"> blockAddr</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 구조체를 지정된 블록에 쓰기 (템플릿)</span></span>
<span data-line=""><span style="color:#858AA6">// T: 쓰고자 하는 구조체 타입</span></span>
<span data-line=""><span style="color:#858AA6">// blockAddr: 시작 블록 주소</span></span>
<span data-line=""><span style="color:#858AA6">// 반환값: 성공 시 true, 실패 시 false</span></span>
<span data-line=""><span style="color:#C099FF">template</span><span style="color:#86E1FC">&#x3C;</span><span style="color:#C099FF">typename</span><span style="color:#FFC777"> T</span><span style="color:#86E1FC">></span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> writeToBlock</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#FFC777">MIFARE_Key</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> key</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> byte</span><span style="color:#FCA7EA"> blockAddr</span><span style="color:#86E1FC">,</span><span style="color:#C099FF"> const</span><span style="color:#FFC777"> T</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> data</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#C099FF">  size_t</span><span style="color:#C8D3F5"> dataSize </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> sizeof(</span><span style="color:#C8D3F5">T</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#C099FF">  size_t</span><span style="color:#C8D3F5"> numBlocks </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">dataSize </span><span style="color:#86E1FC">+</span><span style="color:#FF966C"> 15</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> /</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC">;</span><span style="color:#858AA6">  // 필요한 블록 수 계산 (올림)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">  if</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">numBlocks </span><span style="color:#86E1FC">==</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">    Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">데이터 크기가 0입니다.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 데이터를 바이트 배열로 변환</span></span>
<span data-line=""><span style="color:#C8D3F5">  byte</span><span style="color:#86E1FC">*</span><span style="color:#C8D3F5"> dataBytes </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">byte</span><span style="color:#86E1FC">*)&#x26;</span><span style="color:#C8D3F5">data</span><span style="color:#86E1FC">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 각 블록에 쓰기</span></span>
<span data-line=""><span style="color:#86E1FC">  for</span><span style="color:#86E1FC"> (</span><span style="color:#C099FF">size_t</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">=</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#C8D3F5"> numBlocks</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i</span><span style="color:#86E1FC">++)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#B4C2F0">    byte currentBlock </span><span style="color:#86E1FC">=</span><span style="color:#B4C2F0"> blockAddr </span><span style="color:#86E1FC">+</span><span style="color:#B4C2F0"> i</span><span style="color:#86E1FC">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    // 섹터 인증 (각 블록이 속한 섹터마다)</span></span>
<span data-line=""><span style="color:#86E1FC">    if</span><span style="color:#86E1FC"> (!</span><span style="color:#82AAFF">authenticateSector</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> key</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> currentBlock</span><span style="color:#86E1FC">))</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">블록 </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">currentBlock</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D"> 인증 실패</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">      return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    // 현재 블록에 쓸 데이터 준비 (최대 16바이트)</span></span>
<span data-line=""><span style="color:#B4C2F0">    byte </span><span style="color:#FFC777">blockData</span><span style="color:#86E1FC">[</span><span style="color:#FF966C">16</span><span style="color:#86E1FC">];</span></span>
<span data-line=""><span style="color:#C099FF">    size_t</span><span style="color:#B4C2F0"> offset </span><span style="color:#86E1FC">=</span><span style="color:#B4C2F0"> i </span><span style="color:#86E1FC">*</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#C099FF">    size_t</span><span style="color:#B4C2F0"> bytesToWrite </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> (</span><span style="color:#B4C2F0">offset </span><span style="color:#86E1FC">+</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC"> &#x3C;=</span><span style="color:#B4C2F0"> dataSize</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> ?</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC"> :</span><span style="color:#86E1FC"> (</span><span style="color:#B4C2F0">dataSize </span><span style="color:#86E1FC">-</span><span style="color:#B4C2F0"> offset</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#82AAFF">    memcpy</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">blockData</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> dataBytes </span><span style="color:#86E1FC">+</span><span style="color:#B4C2F0"> offset</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> bytesToWrite</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#858AA6">    // 나머지 바이트는 0으로 채우기</span></span>
<span data-line=""><span style="color:#86E1FC">    for</span><span style="color:#86E1FC"> (</span><span style="color:#C099FF">size_t</span><span style="color:#B4C2F0"> j </span><span style="color:#86E1FC">=</span><span style="color:#B4C2F0"> bytesToWrite</span><span style="color:#86E1FC">;</span><span style="color:#B4C2F0"> j </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC">;</span><span style="color:#B4C2F0"> j</span><span style="color:#86E1FC">++)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">      blockData</span><span style="color:#86E1FC">[</span><span style="color:#B4C2F0">j</span><span style="color:#86E1FC">]</span><span style="color:#86E1FC"> =</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    // 블록에 쓰기</span></span>
<span data-line=""><span style="color:#FFC777">    MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#B4C2F0">StatusCode status </span><span style="color:#86E1FC">=</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">MIFARE_Write</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">currentBlock</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> blockData</span><span style="color:#86E1FC">,</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">    if</span><span style="color:#86E1FC"> (</span><span style="color:#B4C2F0">status </span><span style="color:#86E1FC">!=</span><span style="color:#FFC777"> MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#B4C2F0">STATUS_OK</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">블록 </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">currentBlock</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D"> 쓰기 실패</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">      return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">  return</span><span style="color:#FF98A4"> true</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 지정된 블록에서 구조체 읽기 (템플릿)</span></span>
<span data-line=""><span style="color:#858AA6">// T: 읽고자 하는 구조체 타입</span></span>
<span data-line=""><span style="color:#858AA6">// blockAddr: 시작 블록 주소</span></span>
<span data-line=""><span style="color:#858AA6">// 반환값: 성공 시 true, 실패 시 false</span></span>
<span data-line=""><span style="color:#C099FF">template</span><span style="color:#86E1FC">&#x3C;</span><span style="color:#C099FF">typename</span><span style="color:#FFC777"> T</span><span style="color:#86E1FC">></span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> readFromBlock</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#FFC777">MIFARE_Key</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> key</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> byte</span><span style="color:#FCA7EA"> blockAddr</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> T</span><span style="color:#C099FF">*</span><span style="color:#FCA7EA"> data</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#C099FF">  size_t</span><span style="color:#C8D3F5"> dataSize </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> sizeof(</span><span style="color:#C8D3F5">T</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#C099FF">  size_t</span><span style="color:#C8D3F5"> numBlocks </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">dataSize </span><span style="color:#86E1FC">+</span><span style="color:#FF966C"> 15</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> /</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC">;</span><span style="color:#858AA6">  // 필요한 블록 수 계산 (올림)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">  if</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">numBlocks </span><span style="color:#86E1FC">==</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">    Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">데이터 크기가 0입니다.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 데이터를 저장할 바이트 배열</span></span>
<span data-line=""><span style="color:#C8D3F5">  byte</span><span style="color:#86E1FC">*</span><span style="color:#C8D3F5"> dataBytes </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">byte</span><span style="color:#86E1FC">*)</span><span style="color:#C8D3F5">data</span><span style="color:#86E1FC">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 각 블록에서 읽기</span></span>
<span data-line=""><span style="color:#86E1FC">  for</span><span style="color:#86E1FC"> (</span><span style="color:#C099FF">size_t</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">=</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#C8D3F5"> numBlocks</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i</span><span style="color:#86E1FC">++)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#B4C2F0">    byte currentBlock </span><span style="color:#86E1FC">=</span><span style="color:#B4C2F0"> blockAddr </span><span style="color:#86E1FC">+</span><span style="color:#B4C2F0"> i</span><span style="color:#86E1FC">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    // 섹터 인증 (각 블록이 속한 섹터마다)</span></span>
<span data-line=""><span style="color:#86E1FC">    if</span><span style="color:#86E1FC"> (!</span><span style="color:#82AAFF">authenticateSector</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> key</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> currentBlock</span><span style="color:#86E1FC">))</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">블록 </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">currentBlock</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D"> 인증 실패</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">      return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    // 블록 읽기</span></span>
<span data-line=""><span style="color:#B4C2F0">    byte </span><span style="color:#FFC777">buffer</span><span style="color:#86E1FC">[</span><span style="color:#FF966C">18</span><span style="color:#86E1FC">];</span></span>
<span data-line=""><span style="color:#B4C2F0">    byte size </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> sizeof(</span><span style="color:#B4C2F0">buffer</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FFC777">    MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#B4C2F0">StatusCode status </span><span style="color:#86E1FC">=</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">MIFARE_Read</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">currentBlock</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> buffer</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> &#x26;</span><span style="color:#B4C2F0">size</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">    if</span><span style="color:#86E1FC"> (</span><span style="color:#B4C2F0">status </span><span style="color:#86E1FC">!=</span><span style="color:#FFC777"> MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#B4C2F0">STATUS_OK</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">블록 </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">currentBlock</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">      Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D"> 읽기 실패</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">      return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">    // 읽은 데이터 복사 (최대 16바이트)</span></span>
<span data-line=""><span style="color:#C099FF">    size_t</span><span style="color:#B4C2F0"> offset </span><span style="color:#86E1FC">=</span><span style="color:#B4C2F0"> i </span><span style="color:#86E1FC">*</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#C099FF">    size_t</span><span style="color:#B4C2F0"> bytesToRead </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> (</span><span style="color:#B4C2F0">offset </span><span style="color:#86E1FC">+</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC"> &#x3C;=</span><span style="color:#B4C2F0"> dataSize</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> ?</span><span style="color:#FF966C"> 16</span><span style="color:#86E1FC"> :</span><span style="color:#86E1FC"> (</span><span style="color:#B4C2F0">dataSize </span><span style="color:#86E1FC">-</span><span style="color:#B4C2F0"> offset</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#82AAFF">    memcpy</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">dataBytes </span><span style="color:#86E1FC">+</span><span style="color:#B4C2F0"> offset</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> buffer</span><span style="color:#86E1FC">,</span><span style="color:#B4C2F0"> bytesToRead</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">  return</span><span style="color:#FF98A4"> true</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">#endif</span></span><button type="button" title="Copy code" aria-label="Copy code" data="#ifndef RFID_CARD_H
#define RFID_CARD_H

#include <Arduino.h>
#include <SPI.h>
#include <MFRC522.h>

// UID 구조체 (리스트에 저장하기 위해)
struct CardUID {
  byte uidByte[10];  // 최대 10바이트 (일반적으로 4 또는 7바이트)
  byte size;         // UID 크기
};

// RFID 카드 관리 함수들 (범용 함수)
// MFRC522 객체는 외부에서 전역으로 관리됨

// 초기화 (MFRC522 객체와 키 참조 전달)
void initRFIDCard(MFRC522&#x26; mfrc522, MFRC522::MIFARE_Key&#x26; key);

// 카드가 감지되었는지 확인
bool isCardPresent(MFRC522&#x26; mfrc522);

// 현재 카드의 UID를 CardUID 구조체로 변환
CardUID getCurrentCardUID(MFRC522&#x26; mfrc522);

// 두 UID가 같은지 비교
bool compareUIDs(CardUID uid1, CardUID uid2);

// 카드 처리 종료
void haltCard(MFRC522&#x26; mfrc522);

// UID 출력 (디버깅용)
void printUID(MFRC522&#x26; mfrc522);

// ============================================
// 안전한 블록 체크 함수
// ============================================

// 안전한 블록인지 확인 (블록 0과 섹터 트레일러 제외)
// blockAddr: 확인할 블록 주소
// 반환값: 안전한 블록이면 true, 아니면 false
bool isSafeBlock(byte blockAddr);

// 다음 안전한 블록 찾기
// startBlock: 검색을 시작할 블록 주소
// 반환값: 찾은 블록 주소, 없으면 255
byte findNextSafeBlock(byte startBlock);

// ============================================
// 범용 블록 읽기/쓰기 함수 (템플릿)
// ============================================

// 섹터 트레일러 블록 주소 계산 (헬퍼 함수)
byte getTrailerBlock(byte blockAddr);

// 섹터 인증 (헬퍼 함수)
bool authenticateSector(MFRC522&#x26; mfrc522, MFRC522::MIFARE_Key&#x26; key, byte blockAddr);

// 구조체를 지정된 블록에 쓰기 (템플릿)
// T: 쓰고자 하는 구조체 타입
// blockAddr: 시작 블록 주소
// 반환값: 성공 시 true, 실패 시 false
template<typename T>
bool writeToBlock(MFRC522&#x26; mfrc522, MFRC522::MIFARE_Key&#x26; key, byte blockAddr, const T&#x26; data) {
  size_t dataSize = sizeof(T);
  size_t numBlocks = (dataSize + 15) / 16;  // 필요한 블록 수 계산 (올림)

  if (numBlocks == 0) {
    Serial.println(&#x22;데이터 크기가 0입니다.&#x22;);
    return false;
  }

  // 데이터를 바이트 배열로 변환
  byte* dataBytes = (byte*)&#x26;data;

  // 각 블록에 쓰기
  for (size_t i = 0; i < numBlocks; i++) {
    byte currentBlock = blockAddr + i;

    // 섹터 인증 (각 블록이 속한 섹터마다)
    if (!authenticateSector(mfrc522, key, currentBlock)) {
      Serial.print(&#x22;블록 &#x22;);
      Serial.print(currentBlock);
      Serial.println(&#x22; 인증 실패&#x22;);
      return false;
    }

    // 현재 블록에 쓸 데이터 준비 (최대 16바이트)
    byte blockData[16];
    size_t offset = i * 16;
    size_t bytesToWrite = (offset + 16 <= dataSize) ? 16 : (dataSize - offset);

    memcpy(blockData, dataBytes + offset, bytesToWrite);
    // 나머지 바이트는 0으로 채우기
    for (size_t j = bytesToWrite; j < 16; j++) {
      blockData[j] = 0;
    }

    // 블록에 쓰기
    MFRC522::StatusCode status = mfrc522.MIFARE_Write(currentBlock, blockData, 16);
    if (status != MFRC522::STATUS_OK) {
      Serial.print(&#x22;블록 &#x22;);
      Serial.print(currentBlock);
      Serial.println(&#x22; 쓰기 실패&#x22;);
      return false;
    }
  }

  return true;
}

// 지정된 블록에서 구조체 읽기 (템플릿)
// T: 읽고자 하는 구조체 타입
// blockAddr: 시작 블록 주소
// 반환값: 성공 시 true, 실패 시 false
template<typename T>
bool readFromBlock(MFRC522&#x26; mfrc522, MFRC522::MIFARE_Key&#x26; key, byte blockAddr, T* data) {
  size_t dataSize = sizeof(T);
  size_t numBlocks = (dataSize + 15) / 16;  // 필요한 블록 수 계산 (올림)

  if (numBlocks == 0) {
    Serial.println(&#x22;데이터 크기가 0입니다.&#x22;);
    return false;
  }

  // 데이터를 저장할 바이트 배열
  byte* dataBytes = (byte*)data;

  // 각 블록에서 읽기
  for (size_t i = 0; i < numBlocks; i++) {
    byte currentBlock = blockAddr + i;

    // 섹터 인증 (각 블록이 속한 섹터마다)
    if (!authenticateSector(mfrc522, key, currentBlock)) {
      Serial.print(&#x22;블록 &#x22;);
      Serial.print(currentBlock);
      Serial.println(&#x22; 인증 실패&#x22;);
      return false;
    }

    // 블록 읽기
    byte buffer[18];
    byte size = sizeof(buffer);

    MFRC522::StatusCode status = mfrc522.MIFARE_Read(currentBlock, buffer, &#x26;size);
    if (status != MFRC522::STATUS_OK) {
      Serial.print(&#x22;블록 &#x22;);
      Serial.print(currentBlock);
      Serial.println(&#x22; 읽기 실패&#x22;);
      return false;
    }

    // 읽은 데이터 복사 (최대 16바이트)
    size_t offset = i * 16;
    size_t bytesToRead = (offset + 16 <= dataSize) ? 16 : (dataSize - offset);
    memcpy(dataBytes + offset, buffer, bytesToRead);
  }

  return true;
}

#endif" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<ul>
<li>RFIDCard.cpp</li>
</ul>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="c++" data-theme="moonlight-ii"><code data-language="c++" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#86E1FC">#include</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">RFIDCard.h</span><span style="color:#86E1FC">"</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 초기화</span></span>
<span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> initRFIDCard</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#FFC777">MIFARE_Key</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> key</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">  SPI</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">begin</span><span style="color:#86E1FC">();</span></span>
<span data-line=""><span style="color:#FFC777">  mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">PCD_Init</span><span style="color:#86E1FC">();</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 기본 키 설정 (0xFF로 초기화)</span></span>
<span data-line=""><span style="color:#86E1FC">  for</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">byte i </span><span style="color:#86E1FC">=</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#FF966C"> 6</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i</span><span style="color:#86E1FC">++)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">    key</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">keyByte</span><span style="color:#86E1FC">[</span><span style="color:#B4C2F0">i</span><span style="color:#86E1FC">]</span><span style="color:#86E1FC"> =</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">FF</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 카드가 감지되었는지 확인</span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> isCardPresent</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">  return</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">PICC_IsNewCardPresent</span><span style="color:#86E1FC">()</span><span style="color:#86E1FC"> &#x26;&#x26;</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">PICC_ReadCardSerial</span><span style="color:#86E1FC">();</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 현재 카드의 UID를 CardUID 구조체로 변환</span></span>
<span data-line=""><span style="color:#FFC777">CardUID</span><span style="color:#82AAFF"> getCurrentCardUID</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#C8D3F5">  CardUID cardUID</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#FFC777">  cardUID</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">size</span><span style="color:#86E1FC"> =</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uid</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">size</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">  for</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">byte i </span><span style="color:#86E1FC">=</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uid</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">size</span><span style="color:#86E1FC"> &#x26;&#x26;</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#FF966C"> 10</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i</span><span style="color:#86E1FC">++)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">    cardUID</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uidByte</span><span style="color:#86E1FC">[</span><span style="color:#B4C2F0">i</span><span style="color:#86E1FC">]</span><span style="color:#86E1FC"> =</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uid</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uidByte</span><span style="color:#86E1FC">[</span><span style="color:#B4C2F0">i</span><span style="color:#86E1FC">];</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""><span style="color:#86E1FC">  return</span><span style="color:#C8D3F5"> cardUID</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 두 UID가 같은지 비교</span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> compareUIDs</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">CardUID</span><span style="color:#FCA7EA"> uid1</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> CardUID</span><span style="color:#FCA7EA"> uid2</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">  if</span><span style="color:#86E1FC"> (</span><span style="color:#FFC777">uid1</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">size</span><span style="color:#86E1FC"> !=</span><span style="color:#FFC777"> uid2</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">size</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""><span style="color:#86E1FC">  for</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">byte i </span><span style="color:#86E1FC">=</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#FFC777"> uid1</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">size</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i</span><span style="color:#86E1FC">++)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    if</span><span style="color:#86E1FC"> (</span><span style="color:#FFC777">uid1</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uidByte</span><span style="color:#86E1FC">[</span><span style="color:#B4C2F0">i</span><span style="color:#86E1FC">]</span><span style="color:#86E1FC"> !=</span><span style="color:#FFC777"> uid2</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uidByte</span><span style="color:#86E1FC">[</span><span style="color:#B4C2F0">i</span><span style="color:#86E1FC">])</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">      return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""><span style="color:#86E1FC">  return</span><span style="color:#FF98A4"> true</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 카드 처리 종료</span></span>
<span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> haltCard</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">  mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">PICC_HaltA</span><span style="color:#86E1FC">();</span></span>
<span data-line=""><span style="color:#FFC777">  mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">PCD_StopCrypto1</span><span style="color:#86E1FC">();</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// UID 출력 (디버깅용)</span></span>
<span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> printUID</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">UID: </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">  for</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">byte i </span><span style="color:#86E1FC">=</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uid</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">size</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i</span><span style="color:#86E1FC">++)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">    Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uid</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uidByte</span><span style="color:#86E1FC">[</span><span style="color:#B4C2F0">i</span><span style="color:#86E1FC">]</span><span style="color:#86E1FC"> &#x3C;</span><span style="color:#FC7B7B"> 0x</span><span style="color:#FF966C">10</span><span style="color:#86E1FC"> ?</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D"> 0</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC"> :</span><span style="color:#86E1FC"> "</span><span style="color:#86E1FC"> "</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">    Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uid</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uidByte</span><span style="color:#86E1FC">[</span><span style="color:#B4C2F0">i</span><span style="color:#86E1FC">],</span><span style="color:#B4C2F0"> HEX</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">();</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 안전한 블록인지 확인 (블록 0과 섹터 트레일러 제외)</span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> isSafeBlock</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">byte</span><span style="color:#FCA7EA"> blockAddr</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#858AA6">  // 블록 0은 제조사 정보 (읽기 전용)</span></span>
<span data-line=""><span style="color:#86E1FC">  if</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">blockAddr </span><span style="color:#86E1FC">==</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 섹터 트레일러는 각 섹터의 마지막 블록 (3, 7, 11, ..., 63)</span></span>
<span data-line=""><span style="color:#86E1FC">  if</span><span style="color:#86E1FC"> ((</span><span style="color:#C8D3F5">blockAddr </span><span style="color:#86E1FC">+</span><span style="color:#FF966C"> 1</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> %</span><span style="color:#FF966C"> 4</span><span style="color:#86E1FC"> ==</span><span style="color:#FF966C"> 0</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> return</span><span style="color:#FF98A4"> false</span><span style="color:#86E1FC">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">  return</span><span style="color:#FF98A4"> true</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 다음 안전한 블록 찾기</span></span>
<span data-line=""><span style="color:#FFC777">byte</span><span style="color:#82AAFF"> findNextSafeBlock</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">byte</span><span style="color:#FCA7EA"> startBlock</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">  for</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">byte i </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> startBlock</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i </span><span style="color:#86E1FC">&#x3C;</span><span style="color:#FF966C"> 64</span><span style="color:#86E1FC">;</span><span style="color:#C8D3F5"> i</span><span style="color:#86E1FC">++)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    if</span><span style="color:#86E1FC"> (</span><span style="color:#82AAFF">isSafeBlock</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">i</span><span style="color:#86E1FC">))</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">      return</span><span style="color:#B4C2F0"> i</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#86E1FC">    }</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""><span style="color:#86E1FC">  return</span><span style="color:#FF966C"> 255</span><span style="color:#86E1FC">;</span><span style="color:#858AA6"> // 사용 가능한 블록 없음</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 섹터 트레일러 블록 주소 계산</span></span>
<span data-line=""><span style="color:#FFC777">byte</span><span style="color:#82AAFF"> getTrailerBlock</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">byte</span><span style="color:#FCA7EA"> blockAddr</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#858AA6">  // MIFARE 카드는 16개 섹터로 구성되며, 각 섹터는 4개 블록으로 구성됩니다</span></span>
<span data-line=""><span style="color:#858AA6">  // 예: 섹터 0 = 블록 0,1,2,3 / 섹터 1 = 블록 4,5,6,7 / 섹터 2 = 블록 8,9,10,11</span></span>
<span data-line=""><span style="color:#858AA6">  // 각 섹터의 마지막 블록(인덱스 3, 7, 11, ...)은 트레일러 블록으로,</span></span>
<span data-line=""><span style="color:#858AA6">  // 인증 키와 접근 권한이 저장되어 있어 데이터 블록에 접근하기 전에 인증이 필요합니다</span></span>
<span data-line=""><span style="color:#C8D3F5">  byte sector </span><span style="color:#86E1FC">=</span><span style="color:#C8D3F5"> blockAddr </span><span style="color:#86E1FC">/</span><span style="color:#FF966C"> 4</span><span style="color:#86E1FC">;</span><span style="color:#858AA6">              // 블록 주소를 4로 나누면 섹터 번호를 얻을 수 있음</span></span>
<span data-line=""><span style="color:#86E1FC">  return</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">sector </span><span style="color:#86E1FC">*</span><span style="color:#FF966C"> 4</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> +</span><span style="color:#FF966C"> 3</span><span style="color:#86E1FC">;</span><span style="color:#858AA6">                   // 섹터 번호 * 4 + 3 = 해당 섹터의 트레일러 블록 주소</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 섹터 인증</span></span>
<span data-line=""><span style="color:#C099FF">bool</span><span style="color:#82AAFF"> authenticateSector</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">MFRC522</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#FFC777">MIFARE_Key</span><span style="color:#C099FF">&#x26;</span><span style="color:#FCA7EA"> key</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> byte</span><span style="color:#FCA7EA"> blockAddr</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#C8D3F5">  byte trailerBlock </span><span style="color:#86E1FC">=</span><span style="color:#82AAFF"> getTrailerBlock</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">blockAddr</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FFC777">  MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#C8D3F5">StatusCode status </span><span style="color:#86E1FC">=</span><span style="color:#FFC777"> mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">PCD_Authenticate</span><span style="color:#86E1FC">(</span></span>
<span data-line=""><span style="color:#FFC777">    MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#C8D3F5">PICC_CMD_MF_AUTH_KEY_A</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> trailerBlock</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> &#x26;</span><span style="color:#C8D3F5">key</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> &#x26;(</span><span style="color:#FFC777">mfrc522</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">uid</span><span style="color:#86E1FC">)</span></span>
<span data-line=""><span style="color:#86E1FC">  );</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#86E1FC">  return</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">status </span><span style="color:#86E1FC">==</span><span style="color:#FFC777"> MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#C8D3F5">STATUS_OK</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="#include &#x22;RFIDCard.h&#x22;

// 초기화
void initRFIDCard(MFRC522&#x26; mfrc522, MFRC522::MIFARE_Key&#x26; key) {
  SPI.begin();
  mfrc522.PCD_Init();

  // 기본 키 설정 (0xFF로 초기화)
  for (byte i = 0; i < 6; i++) {
    key.keyByte[i] = 0xFF;
  }
}

// 카드가 감지되었는지 확인
bool isCardPresent(MFRC522&#x26; mfrc522) {
  return mfrc522.PICC_IsNewCardPresent() &#x26;&#x26; mfrc522.PICC_ReadCardSerial();
}

// 현재 카드의 UID를 CardUID 구조체로 변환
CardUID getCurrentCardUID(MFRC522&#x26; mfrc522) {
  CardUID cardUID;
  cardUID.size = mfrc522.uid.size;
  for (byte i = 0; i < mfrc522.uid.size &#x26;&#x26; i < 10; i++) {
    cardUID.uidByte[i] = mfrc522.uid.uidByte[i];
  }
  return cardUID;
}

// 두 UID가 같은지 비교
bool compareUIDs(CardUID uid1, CardUID uid2) {
  if (uid1.size != uid2.size) {
    return false;
  }
  for (byte i = 0; i < uid1.size; i++) {
    if (uid1.uidByte[i] != uid2.uidByte[i]) {
      return false;
    }
  }
  return true;
}


// 카드 처리 종료
void haltCard(MFRC522&#x26; mfrc522) {
  mfrc522.PICC_HaltA();
  mfrc522.PCD_StopCrypto1();
}

// UID 출력 (디버깅용)
void printUID(MFRC522&#x26; mfrc522) {
  Serial.print(&#x22;UID: &#x22;);
  for (byte i = 0; i < mfrc522.uid.size; i++) {
    Serial.print(mfrc522.uid.uidByte[i] < 0x10 ? &#x22; 0&#x22; : &#x22; &#x22;);
    Serial.print(mfrc522.uid.uidByte[i], HEX);
  }
  Serial.println();
}

// 안전한 블록인지 확인 (블록 0과 섹터 트레일러 제외)
bool isSafeBlock(byte blockAddr) {
  // 블록 0은 제조사 정보 (읽기 전용)
  if (blockAddr == 0) return false;

  // 섹터 트레일러는 각 섹터의 마지막 블록 (3, 7, 11, ..., 63)
  if ((blockAddr + 1) % 4 == 0) return false;

  return true;
}

// 다음 안전한 블록 찾기
byte findNextSafeBlock(byte startBlock) {
  for (byte i = startBlock; i < 64; i++) {
    if (isSafeBlock(i)) {
      return i;
    }
  }
  return 255; // 사용 가능한 블록 없음
}

// 섹터 트레일러 블록 주소 계산
byte getTrailerBlock(byte blockAddr) {
  // MIFARE 카드는 16개 섹터로 구성되며, 각 섹터는 4개 블록으로 구성됩니다
  // 예: 섹터 0 = 블록 0,1,2,3 / 섹터 1 = 블록 4,5,6,7 / 섹터 2 = 블록 8,9,10,11
  // 각 섹터의 마지막 블록(인덱스 3, 7, 11, ...)은 트레일러 블록으로,
  // 인증 키와 접근 권한이 저장되어 있어 데이터 블록에 접근하기 전에 인증이 필요합니다
  byte sector = blockAddr / 4;              // 블록 주소를 4로 나누면 섹터 번호를 얻을 수 있음
  return (sector * 4) + 3;                   // 섹터 번호 * 4 + 3 = 해당 섹터의 트레일러 블록 주소
}

// 섹터 인증
bool authenticateSector(MFRC522&#x26; mfrc522, MFRC522::MIFARE_Key&#x26; key, byte blockAddr) {
  byte trailerBlock = getTrailerBlock(blockAddr);

  MFRC522::StatusCode status = mfrc522.PCD_Authenticate(
    MFRC522::PICC_CMD_MF_AUTH_KEY_A, trailerBlock, &#x26;key, &#x26;(mfrc522.uid)
  );

  return (status == MFRC522::STATUS_OK);
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>
<ul>
<li>사용법</li>
</ul>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#1F2028;color:#c8d3f5" tabindex="0" data-language="c++" data-theme="moonlight-ii"><code data-language="c++" data-theme="moonlight-ii" style="display: grid;"><span data-line=""><span style="color:#86E1FC">#include</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">RFIDCard.h</span><span style="color:#86E1FC">"</span></span>
<span data-line=""><span style="color:#86E1FC">#include</span><span style="color:#86E1FC"> &#x3C;</span><span style="color:#C3E88D">List.hpp</span><span style="color:#86E1FC">></span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FFC777">MFRC522</span><span style="color:#82AAFF"> mfrc522</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">SS_PIN</span><span style="color:#86E1FC">,</span><span style="color:#FFC777"> RST_PIN</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">MFRC522</span><span style="color:#86E1FC">::</span><span style="color:#C8D3F5">MIFARE_Key key</span><span style="color:#86E1FC">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">// 스위치 버튼 객체 생성</span></span>
<span data-line=""><span style="color:#FFC777">SwitchButton</span><span style="color:#82AAFF"> switchButton</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">SWITCH_PIN</span><span style="color:#86E1FC">,</span><span style="color:#FF966C"> 50</span><span style="color:#86E1FC">);</span><span style="color:#858AA6">  // 핀 번호, debounce delay (ms)</span></span>
<span data-line=""><span style="color:#858AA6">// 등록된 카드 UID 리스트</span></span>
<span data-line=""><span style="color:#C8D3F5">List</span><span style="color:#86E1FC">&#x3C;</span><span style="color:#C8D3F5">CardUID</span><span style="color:#86E1FC">></span><span style="color:#C8D3F5"> registeredUIDs</span><span style="color:#86E1FC">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> setup</span><span style="color:#86E1FC">()</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#858AA6">  // RFID 초기화</span></span>
<span data-line=""><span style="color:#82AAFF">  initRFIDCard</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> key</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">void</span><span style="color:#82AAFF"> loop</span><span style="color:#86E1FC">()</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#858AA6">  // 새 카드가 감지되었는지 확인</span></span>
<span data-line=""><span style="color:#86E1FC">  if</span><span style="color:#86E1FC"> (!</span><span style="color:#82AAFF">isCardPresent</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">mfrc522</span><span style="color:#86E1FC">))</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#86E1FC">    return;</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"\n</span><span style="color:#C3E88D">카드 감지! </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#82AAFF">  printUID</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">mfrc522</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 현재 카드의 UID 가져오기</span></span>
<span data-line=""><span style="color:#C8D3F5">  CardUID currentUID </span><span style="color:#86E1FC">=</span><span style="color:#82AAFF"> getCurrentCardUID</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">mfrc522</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // ===== writeToBlock / readFromBlock 사용 예시 =====</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 안전한 블록 찾기</span></span>
<span data-line=""><span style="color:#C8D3F5">  byte blockAddr </span><span style="color:#86E1FC">=</span><span style="color:#82AAFF"> findNextSafeBlock</span><span style="color:#86E1FC">(</span><span style="color:#FF966C">1</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">  if</span><span style="color:#86E1FC"> (</span><span style="color:#C8D3F5">blockAddr </span><span style="color:#86E1FC">==</span><span style="color:#FF966C"> 255</span><span style="color:#86E1FC">)</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#FFC777">    Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">사용 가능한 블록이 없습니다.</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#82AAFF">    haltCard</span><span style="color:#86E1FC">(</span><span style="color:#B4C2F0">mfrc522</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">    return;</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 예시 1: 간단한 정수 저장/읽기</span></span>
<span data-line=""><span style="color:#C099FF">  int</span><span style="color:#C8D3F5"> score </span><span style="color:#86E1FC">=</span><span style="color:#FF966C"> 100</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#82AAFF">  writeToBlock</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> key</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> blockAddr</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> score</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">  int</span><span style="color:#C8D3F5"> readScore</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#82AAFF">  readFromBlock</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> key</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> blockAddr</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> &#x26;</span><span style="color:#C8D3F5">readScore</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">점수: </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">readScore</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#858AA6">  // 예시 2: 간단한 구조체 저장/읽기</span></span>
<span data-line=""><span style="color:#C099FF">  struct</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#B4C2F0">    byte age</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#C099FF">    char</span><span style="color:#FFC777"> name</span><span style="color:#86E1FC">[</span><span style="color:#FF966C">10</span><span style="color:#86E1FC">];</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span><span style="color:#B4C2F0"> person </span><span style="color:#86E1FC">=</span><span style="color:#86E1FC"> {</span><span style="color:#FF966C">25</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> "</span><span style="color:#C3E88D">John</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">};</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C8D3F5">  byte nextBlock </span><span style="color:#86E1FC">=</span><span style="color:#82AAFF"> findNextSafeBlock</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">blockAddr </span><span style="color:#86E1FC">+</span><span style="color:#FF966C"> 1</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#82AAFF">  writeToBlock</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> key</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> nextBlock</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> person</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C099FF">  struct</span><span style="color:#86E1FC"> {</span></span>
<span data-line=""><span style="color:#B4C2F0">    byte age</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#C099FF">    char</span><span style="color:#FFC777"> name</span><span style="color:#86E1FC">[</span><span style="color:#FF966C">10</span><span style="color:#86E1FC">];</span></span>
<span data-line=""><span style="color:#86E1FC">  }</span><span style="color:#B4C2F0"> readPerson</span><span style="color:#86E1FC">;</span></span>
<span data-line=""><span style="color:#82AAFF">  readFromBlock</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">mfrc522</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> key</span><span style="color:#86E1FC">,</span><span style="color:#C8D3F5"> nextBlock</span><span style="color:#86E1FC">,</span><span style="color:#86E1FC"> &#x26;</span><span style="color:#C8D3F5">readPerson</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">나이: </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">readPerson</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">age</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">print</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"</span><span style="color:#C3E88D">이름: </span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#FFC777">readPerson</span><span style="color:#86E1FC">.</span><span style="color:#A9B8E8">name</span><span style="color:#86E1FC">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#82AAFF">  haltCard</span><span style="color:#86E1FC">(</span><span style="color:#C8D3F5">mfrc522</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#FFC777">  Serial</span><span style="color:#86E1FC">.</span><span style="color:#82AAFF">println</span><span style="color:#86E1FC">(</span><span style="color:#86E1FC">"\n</span><span style="color:#C3E88D">다음 카드를 태그하세요...</span><span style="color:#86E1FC">"</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#82AAFF">  delay</span><span style="color:#86E1FC">(</span><span style="color:#FF966C">1000</span><span style="color:#86E1FC">);</span></span>
<span data-line=""><span style="color:#86E1FC">}</span></span><button type="button" title="Copy code" aria-label="Copy code" data="#include &#x22;RFIDCard.h&#x22;
#include <List.hpp>

MFRC522 mfrc522(SS_PIN, RST_PIN);
MFRC522::MIFARE_Key key;

// 스위치 버튼 객체 생성
SwitchButton switchButton(SWITCH_PIN, 50);  // 핀 번호, debounce delay (ms)
// 등록된 카드 UID 리스트
List<CardUID> registeredUIDs;

void setup() {
  // RFID 초기화
  initRFIDCard(mfrc522, key);
}

void loop() {
  // 새 카드가 감지되었는지 확인
  if (!isCardPresent(mfrc522)) {
    return;
  }

  Serial.print(&#x22;\n카드 감지! &#x22;);
  printUID(mfrc522);

  // 현재 카드의 UID 가져오기
  CardUID currentUID = getCurrentCardUID(mfrc522);

  // ===== writeToBlock / readFromBlock 사용 예시 =====

  // 안전한 블록 찾기
  byte blockAddr = findNextSafeBlock(1);
  if (blockAddr == 255) {
    Serial.println(&#x22;사용 가능한 블록이 없습니다.&#x22;);
    haltCard(mfrc522);
    return;
  }

  // 예시 1: 간단한 정수 저장/읽기
  int score = 100;
  writeToBlock(mfrc522, key, blockAddr, score);

  int readScore;
  readFromBlock(mfrc522, key, blockAddr, &#x26;readScore);
  Serial.print(&#x22;점수: &#x22;);
  Serial.println(readScore);

  // 예시 2: 간단한 구조체 저장/읽기
  struct {
    byte age;
    char name[10];
  } person = {25, &#x22;John&#x22;};

  byte nextBlock = findNextSafeBlock(blockAddr + 1);
  writeToBlock(mfrc522, key, nextBlock, person);

  struct {
    byte age;
    char name[10];
  } readPerson;
  readFromBlock(mfrc522, key, nextBlock, &#x26;readPerson);
  Serial.print(&#x22;나이: &#x22;);
  Serial.println(readPerson.age);
  Serial.print(&#x22;이름: &#x22;);
  Serial.println(readPerson.name);

  haltCard(mfrc522);
  Serial.println(&#x22;\n다음 카드를 태그하세요...&#x22;);
  delay(1000);
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);window.setTimeout(() => this.classList.remove(&#x27;rehype-pretty-copied&#x27;), 3000);"><span class="ready"></span><span class="success"></span></button><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23adadad' d='M16.187 9.5H12.25a1.75 1.75 0 0 0-1.75 1.75v28.5c0 .967.784 1.75 1.75 1.75h23.5a1.75 1.75 0 0 0 1.75-1.75v-28.5a1.75 1.75 0 0 0-1.75-1.75h-3.937a4.25 4.25 0 0 1-4.063 3h-7.5a4.25 4.25 0 0 1-4.063-3M31.813 7h3.937A4.25 4.25 0 0 1 40 11.25v28.5A4.25 4.25 0 0 1 35.75 44h-23.5A4.25 4.25 0 0 1 8 39.75v-28.5A4.25 4.25 0 0 1 12.25 7h3.937a4.25 4.25 0 0 1 4.063-3h7.5a4.25 4.25 0 0 1 4.063 3M18.5 8.25c0 .966.784 1.75 1.75 1.75h7.5a1.75 1.75 0 1 0 0-3.5h-7.5a1.75 1.75 0 0 0-1.75 1.75'/%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2366ff85' d='M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41z'/%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {right: 1px;padding: 0;width: 24px;height: 24px;display: flex;margin-top: 2px;margin-right: 8px;position: absolute;border-radius: 25%;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}pre button.rehype-pretty-copy { opacity: 0; }figure[data-rehype-pretty-code-figure]:hover > pre > code button.rehype-pretty-copy {opacity: 1;}</style></code></pre></figure>22:["$","$L18","Arduino/rfid",{"post":{"metadata":{"title":"Arduino RFID","summary":"아두이노에서 RFID 리더기 사용법. MIFARE Classic 카드의 섹터, 블록 구조와 키 위치, 데이터 읽기/쓰기 방법 정리.","locale":"ko","createdAt":"2026-01-06T18:03:11.000Z","updatedAt":"2026-01-06T18:10:01.000Z"},"slug":"Arduino/rfid","source":"$2c","type":"markdown","notebookData":"$undefined","parentFolder":"Arduino"},"locale":"ko","delay":0.53}]
23:["$","div",null,{"className":"mt-12 flex items-center justify-center gap-2","children":["$L2d",["$","div",null,{"className":"flex items-center gap-1","children":["$L2e",null,null,null,["$","span","5",{"className":"text-muted-foreground px-2","children":"..."}],"$L2f","$L30","$L31","$L32"]}],"$L33"]}]
34:I[935,["2969","static/chunks/8fdae66b-3313d3073a4d6626.js","9991","static/chunks/9991-ccaf069d2d1a3394.js","650","static/chunks/650-f48a6caa28b58c59.js","9097","static/chunks/9097-09c53cc5e643b5d7.js","6835","static/chunks/app/%5Blocale%5D/blog/p/%5Bpage%5D/page-192e997812c03855.js"],"default"]
2d:["$","$L34",null,{"ref":null,"href":"/ko/blog/p/6","locale":"$undefined","localeCookie":{"name":"NEXT_LOCALE","sameSite":"lax"},"className":"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-all outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 has-[>svg]:px-3 flex items-center gap-1","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-chevron-left h-4 w-4","aria-hidden":"true","children":[["$","path","1wnfg3",{"d":"m15 18-6-6 6-6"}],"$undefined"]}],["$","span",null,{"children":"이전"}]],"data-slot":"button"}]
2e:["$","$L34","1",{"ref":"$undefined","href":"/ko/blog","locale":"$undefined","localeCookie":"$2d:props:localeCookie","className":"border-border flex h-9 w-9 items-center justify-center rounded-md border text-sm transition-colors bg-background hover:bg-accent","children":1}]
2f:["$","$L34","6",{"ref":"$undefined","href":"/ko/blog/p/6","locale":"$undefined","localeCookie":"$2d:props:localeCookie","className":"border-border flex h-9 w-9 items-center justify-center rounded-md border text-sm transition-colors bg-background hover:bg-accent","children":6}]
30:["$","$L34","7",{"ref":"$undefined","href":"/ko/blog/p/7","locale":"$undefined","localeCookie":"$2d:props:localeCookie","className":"border-border flex h-9 w-9 items-center justify-center rounded-md border text-sm transition-colors bg-primary text-primary-foreground","children":7}]
31:["$","$L34","8",{"ref":"$undefined","href":"/ko/blog/p/8","locale":"$undefined","localeCookie":"$2d:props:localeCookie","className":"border-border flex h-9 w-9 items-center justify-center rounded-md border text-sm transition-colors bg-background hover:bg-accent","children":8}]
32:["$","$L34","9",{"ref":"$undefined","href":"/ko/blog/p/9","locale":"$undefined","localeCookie":"$2d:props:localeCookie","className":"border-border flex h-9 w-9 items-center justify-center rounded-md border text-sm transition-colors bg-background hover:bg-accent","children":9}]
33:["$","$L34",null,{"ref":null,"href":"/ko/blog/p/8","locale":"$undefined","localeCookie":"$2d:props:localeCookie","className":"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-all outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 has-[>svg]:px-3 flex items-center gap-1","children":[["$","span",null,{"children":"다음"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-chevron-right h-4 w-4","aria-hidden":"true","children":[["$","path","mthhwq",{"d":"m9 18 6-6-6-6"}],"$undefined"]}]],"data-slot":"button"}]
